{"version":3,"file":"kendo.mobile.shim.js","names":["__meta__","id","name","category","description","depends","hidden","$","undefined$1","kendo","window","ui","mobile","Popup","HIDE","Widget","Shim","extend","init","element","options","that","this","app","application","os","support","mobileOS","osname","ioswp","skin","bb","align","position","effect","shim","handler","hide","fn","call","className","addClass","modal","on","document","body","append","popup","anchor","appendTo","origin","animation","open","effects","duration","close","e","prevented","_apiCall","trigger","preventDefault","deactivate","show","notify","events","destroy","kendoDestroy","remove","_hide","contains","children","target","plugin","jQuery"],"sources":["kendo.mobile.shim.js"],"mappings":"MAAO,mBAEP,IAAIA,SAAW,CACXC,GAAI,cACJC,KAAM,OACNC,SAAU,SACVC,YAAa,cACbC,QAAS,CAAE,SACXC,QAAQ,IAGZ,SAAUC,EAAGC,GACT,IAAIC,EAAQC,OAAOD,MACfE,EAAKF,EAAMG,OAAOD,GAClBE,EAAQJ,EAAME,GAAGE,MAEjBC,EAAO,OACPC,EAASJ,EAAGI,OAEZC,EAAOD,EAAOE,OAAO,CACrBC,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KACPC,EAAMd,EAAMG,OAAOY,YACnBC,EAAKhB,EAAMiB,QAAQC,SACnBC,EAASL,EAAMA,EAAIE,GAAGvB,KAAQuB,EAAKA,EAAGvB,KAAO,MAC7C2B,EAAmB,QAAXD,GAA+B,OAAXA,KAAoBL,GAAMA,EAAIE,GAAGK,KAC7DC,EAAgB,eAAXH,EACLI,EAAQZ,EAAQY,QAAUH,EAAQ,gBAAkBE,EAAK,eAAiB,iBAC1EE,EAAWb,EAAQa,WAAaJ,EAAQ,gBAAkBE,EAAK,eAAiB,iBAChFG,EAASd,EAAQc,SAAWL,EAAQ,aAAeE,EAAK,eAAiB,WACzEI,EAAO5B,EAfR,+BAegB6B,QAAQf,GAAMgB,OAEjCtB,EAAOuB,GAAGpB,KAAKqB,KAAKlB,EAAMF,EAASC,GAEnCC,EAAKc,KAAOA,EACZhB,EAAUE,EAAKF,SACfC,EAAUC,EAAKD,SAEHoB,WACRnB,EAAKc,KAAKM,SAASrB,EAAQoB,WAG1BpB,EAAQsB,OACTrB,EAAKc,KAAKQ,GAAG,OAAQ,UAGxBpB,EAAMA,EAAIJ,QAAUZ,EAAEqC,SAASC,OAAOC,OAAOX,GAE9Cd,EAAK0B,MAAQ,IAAIlC,EAAMQ,EAAKF,QAAS,CACjC6B,OAAQb,EACRO,OAAO,EACPO,SAAUd,EACVe,OAAQlB,EACRC,SAAUA,EACVkB,UAAW,CACPC,KAAM,CACFC,QAASnB,EACToB,SAAUlC,EAAQkC,UAEtBC,MAAO,CACHD,SAAUlC,EAAQkC,WAI1BC,MAAO,SAASC,GACZ,IAAIC,GAAY,EAEXpC,EAAKqC,WACND,EAAYpC,EAAKsC,QAAQ7C,IAGzB2C,GACAD,EAAEI,iBAGNvC,EAAKqC,UAAW,CACpB,EAEAG,WAAY,WACR1B,EAAKE,MACT,EAEAe,KAAM,WACFjB,EAAK2B,MACT,IAGJrD,EAAMsD,OAAO1C,EACjB,EAEA2C,OAAQ,CAAElD,GAEVM,QAAS,CACLlB,KAAM,OACNwC,OAAO,EACPV,MAAOxB,EACPyB,SAAUzB,EACV0B,OAAQ1B,EACR8C,SAAU,KAGdQ,KAAM,WACFxC,KAAKyB,MAAMK,MACf,EAEAf,KAAM,WACFf,KAAKoC,UAAW,EAChBpC,KAAKyB,MAAMQ,OACf,EAEAU,QAAS,WACLlD,EAAOuB,GAAG2B,QAAQ1B,KAAKjB,MACvBA,KAAKa,KAAK+B,eACV5C,KAAKyB,MAAMkB,UACX3C,KAAKa,KAAKgC,QACd,EAEAC,MAAO,SAASZ,GACPA,GAAMjD,EAAE8D,SAAS/C,KAAKa,KAAKmC,WAAWA,SAAS,YAAY,GAAId,EAAEe,SAClEjD,KAAKyB,MAAMQ,OAEnB,IAGJ5C,EAAG6D,OAAOxD,EACb,CAlHD,CAkHGN,OAAOD,MAAMgE","sourcesContent":["import './kendo.popup.js';\n\nvar __meta__ = {\n    id: \"mobile.shim\",\n    name: \"Shim\",\n    category: \"mobile\",\n    description: \"Mobile Shim\",\n    depends: [ \"popup\" ],\n    hidden: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Popup = kendo.ui.Popup,\n        SHIM = '<div class=\"km-shim\"></div>',\n        HIDE = \"hide\",\n        Widget = ui.Widget;\n\n    var Shim = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                app = kendo.mobile.application,\n                os = kendo.support.mobileOS,\n                osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                bb = osname === \"blackberry\",\n                align = options.align || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                shim = $(SHIM).handler(that).hide();\n\n            Widget.fn.init.call(that, element, options);\n\n            that.shim = shim;\n            element = that.element;\n            options = that.options;\n\n            if (options.className) {\n                that.shim.addClass(options.className);\n            }\n\n            if (!options.modal) {\n                that.shim.on(\"down\", \"_hide\");\n            }\n\n            (app ? app.element : $(document.body)).append(shim);\n\n            that.popup = new Popup(that.element, {\n                anchor: shim,\n                modal: true,\n                appendTo: shim,\n                origin: align,\n                position: position,\n                animation: {\n                    open: {\n                        effects: effect,\n                        duration: options.duration\n                    },\n                    close: {\n                        duration: options.duration\n                    }\n                },\n\n                close: function(e) {\n                    var prevented = false;\n\n                    if (!that._apiCall) {\n                        prevented = that.trigger(HIDE);\n                    }\n\n                    if (prevented) {\n                        e.preventDefault();\n                    }\n\n                    that._apiCall = false;\n                },\n\n                deactivate: function() { // Deactivate event can't be prevented.\n                    shim.hide();\n                },\n\n                open: function() {\n                    shim.show();\n                }\n            });\n\n            kendo.notify(that);\n        },\n\n        events: [ HIDE ],\n\n        options: {\n            name: \"Shim\",\n            modal: false,\n            align: undefined$1,\n            position: undefined$1,\n            effect: undefined$1,\n            duration: 200\n        },\n\n        show: function() {\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.kendoDestroy();\n            this.popup.destroy();\n            this.shim.remove();\n        },\n\n        _hide: function(e) {\n            if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                this.popup.close();\n            }\n        }\n    });\n\n    ui.plugin(Shim);\n})(window.kendo.jQuery);\n"]}