{"version":3,"file":"kendo.gantt.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","keys","supportsMedia","mobileOS","support","Widget","ui","ObservableObject","data","ObservableArray","Query","isArray","Array","isFunction","extend","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","NS","TABINDEX","STRING","ARIA_DESCENDANT","ACTIVE_CELL","DOT","VIEWS_DROPDOWN_TEMPLATE","label","styles","views","viewsDropdown","Object","map","view","title","join","ADD_ACTIONS","text","ganttStyles","wrapper","plannedTasks","rowHeight","content","listWrapper","list","timelineWrapper","timeline","splitBarWrapper","splitBar","splitBarHover","popupWrapper","popupList","resizeHandle","icon","item","line","buttonDelete","buttonCancel","buttonSave","buttonToggle","buttonDefaults","primary","hovered","selected","focused","focusedCell","gridHeader","gridHeaderWrap","gridContent","tasks","popup","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","editField","editLabel","resourcesField","toolbar","headerWrapper","footerWrapper","viewsWrapper","iconPlus","iconPdf","iconToggle","viewButton","link","pdfButton","appendButton","selector","uid","attr","focusTable","table","direct","parents","scrollPositions","parentsUntil","filter","index","element","getComputedStyles","overflow","add","each","parent","scrollTop","setActive","e","focus","Gantt","init","options","events","dataSource","fn","call","this","_events","_wrapper","_resources","length","_timeline","_processDefaults","_toolbar","_footer","_adjustDimensions","_preventRefresh","_selectedViewName","_dataSource","_assignments","_list","_dependencies","_resizable","_scrollable","_dataBind","_attachEvents","_createEditor","notify","autoBind","navigatable","selectable","editable","resizable","columnResizeHandleWidth","columns","dependencies","resources","assignments","taskTemplate","messages","save","cancel","destroy","deleteTaskConfirmation","deleteDependencyConfirmation","deleteTaskWindowTitle","deleteDependencyWindowTitle","selectView","day","week","month","year","start","end","actions","append","addChild","insertBefore","insertAfter","pdf","toggle","editor","editorTitle","resourcesEditorTitle","plannedStart","plannedEnd","percentComplete","assignButton","resourcesHeader","unitsHeader","addNew","percentCompleteHint","remove","actualStart","actualEnd","parentOptionLabel","general","predecessors","successors","other","dependencyType","switchText","offsetTooltipAdvanced","offsetTooltipDelay","seconds","minutes","hours","days","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","workWeekStart","workWeekEnd","hourSpan","snap","height","listWidth","showPlannedTasks","select","value","find","_selectionUpdate","trigger","clearSelection","unbind","_refreshHandler","_progressHandler","_errorHandler","_dependencyRefreshHandler","_dependencyErrorHandler","getKendoToolBar","footer","_editor","_resourceEditorWindow","_resizeDraggable","off","_mediaQuery","removeListener","_mediaQueryHandler","_resizeHandler","setOptions","newOptions","deepExtend","selectedView","isSettings","type","empty","_setEvents","resize","bind","on","matches","splitBarHandleClassName","width","addClass","layout","appendTo","css","treelistWrapper","splitbar","_viewClickHandler","target","preventDefault","_togglePane","that","treelist","contentSelector","is","removeClass","refresh","_resize","ns","viewsButtons","toolbarStyles","actionsMessages","defaults","menuButtons","m","attributes","class","click","_addClickHandler","open","_openAddClickHandler","saveAsPDF","showText","switchLabel","template","component","componentOptions","checked","change","_togglePlannedTasks","unchecked","viewsDdl","togglable","group","viewsGroup","current","toLowerCase","push","values","t","buttons","_viewsButtons","defaultCommands","_processTools","items","commands","tools","spacerPresent","create","c","toolbarEl","hide","show","viewsDropdownSelector","toolsOptions","prepend","kendoToolBar","size","defaultTools","parentMessages","matchMedia","addListener","val","toggleSwitch","direction","animation","effects","toolbarHeight","footerHeight","totalHeight","totalWidth","splitBarWidth","treeListWidth","timelineWidth","children","_scrollTo","action","scrollTarget","closest","get","scrollIntoView","_addTask","orderId","task","_createNewModel","firstSlot","_timeSlots","set","_createTask","dataItem","taskParent","_getListEditable","update","reorder","mode","move","reorderable","_getListOptions","filterable","columnMenu","field","_attachResourceEditor","column","i","_resourcePopupEditor","_attachListEvents","restoreFocus","_cachedCurrent","eq","rowIndex","columnIndex","_current","oldIndex","newIndex","oldWidth","newWidth","_navigatable","container","model","cell","_preventItemChange","closeCell","key","updatedValues","previousTask","updateDuration","duration","updatePlannedDuration","plannedDuration","hasOwnProperty","getTime","updateInfo","hasChanges","cancelChanges","_updateAssignments","_requestStart","sync","then","row","position","parentId","source","sort","dir","_updateTask","selection","listElement","listOptions","GanttList","prefix","edit","navigate","trimOptions","GanttTimeline","viewName","replace","viewsEl","getKendoButtonGroup","getByUid","resizeStart","dependency","predecessorId","predecessor","successorId","successor","_createDependency","currentUid","editTask","removeTask","removeDependency","_error","GanttDataSource","refreshDependencies","GanttDependencyDataSource","dataTextField","dataColorField","dataFormatField","DataSource","_assignmentsRefreshHandler","dataTaskIdField","dataResourceIdField","dataValueField","gantt","PopupEditor","_createResourceEditor","cancelTask","saveTask","updateDependencies","_onDialogClose","buttonsEl","dialog","popupStyles","dialogEl","format","kendoButton","themeColor","updateModel","close","kendoWindow","modal","draggable","visible","deactivate","center","unitsValidation","step","min","max","assignmentsModel","schema","resourceTextField","fields","Units","validation","_resourceEditor","ResourceEditor","r","range","_render","taskTree","_renderDependencies","date","_scrollToDate","_modelFromElement","setDataSource","fetch","setDependenciesDataSource","assignment","resource","taskId","resourceId","hasMatch","operator","toArray","_updateAssignment","splice","_removeAssignment","shift","j","newLength","_createAssignment","taskCopy","toJSON","_editTask","difference","hasResourceChanges","k","updated","u","some","concat","dirty","_syncDataSource","_updateDependency","created","d","_preventDependencyRefresh","destroyed","resourceValueField","_taskConfirm","_removeTask","insert","_scrollToUid","resourceValue","_dependencyConfirm","_removeDependency","_removeTaskDependencies","_removeTaskAssignments","callback","_confirm","confirmation","showDialog","_progress","cachedUid","scrollToUid","cachedIndex","_selected","_assignResources","_renderTree","assigments","applyTaskResource","setter","wrapTask","resourcedId","valueFormat","formatedValue","toString","color","_wrapResourceData","result","taskAssignments","valuePerResource","progress","timelineScroll","treeListWrapper","hover","kendoResizable","orientation","handle","scrollLeft","delta","x","initialDelta","isRtl","_renderCurrentTime","headerSelector","timelineHeader","timelineContent","treeListHeader","treeListContent","wheelDeltaY","currentTarget","one","cellIndex","headerTable","contentTable","tables","expandState","scroll","reverse","offsetWidth","scrollVertical","_rowHeight","moveVertical","method","sibling","first","last","moveHorizontal","subling","toggleExpandedState","summary","expanded","deleteAction","selectedTask","isInput","ctrlKey","_focusTimeout","setTimeout","keyCode","F10","TAB","isCell","RIGHT","altKey","LEFT","UP","DOWN","SPACEBAR","ENTER","_startEditHandler","stopPropagation","DELETE","tagName","_viewByIndex","activeElement","removeAttr","_activeElement","promises","when","apply","done","_adjustHeight","toggleClass","_setPlanned","PDFMixin","_drawPDF","listTableWidth","clone","_drawPDFShadow","avoidLinks","plugin","jQuery"],"sources":["kendo.gantt.js"],"mappings":"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","sourcesContent":["import './kendo.data.js';\nimport './kendo.resizable.js';\nimport './kendo.switch.js';\nimport './kendo.gantt.data.js';\nimport './kendo.gantt.editors.js';\nimport './kendo.gantt.list.js';\nimport './kendo.gantt.timeline.js';\nimport './kendo.pdf.js';\nimport './kendo.toolbar.js';\nimport './kendo.html.button.js';\n\nvar __meta__ = {\n    id: \"gantt\",\n    name: \"Gantt\",\n    category: \"web\",\n    description: \"The Gantt component.\",\n    depends: [ \"data\", \"resizable\", \"switch\", \"gantt.data\", \"gantt.editors\", \"gantt.list\", \"gantt.timeline\", \"pdf\", \"toolbar\", \"html.button\" ]\n};\n(function($, undefined$1) {\n\n    var kendo = window.kendo,\n        keys = kendo.keys,\n        supportsMedia = \"matchMedia\" in window,\n        mobileOS = kendo.support.mobileOS,\n        Widget = kendo.ui.Widget,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        Query = kendo.data.Query,\n        isArray = Array.isArray,\n        isFunction = kendo.isFunction,\n        extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        defaultIndicatorWidth = 3,\n\n        NS = \".kendoGantt\",\n        PERCENTAGE_FORMAT = \"p0\",\n        TABINDEX = \"tabIndex\",\n        STRING = \"string\",\n        ARIA_DESCENDANT = \"aria-activedescendant\",\n        ACTIVE_CELL = \"gantt_active_cell\",\n        DOT = \".\",\n        TASK_DELETE_CONFIRM = \"Are you sure you want to delete this task?\",\n        DEPENDENCY_DELETE_CONFIRM = \"Are you sure you want to delete this dependency?\",\n        VIEWS_DROPDOWN_TEMPLATE = ({ label, styles, views }) => `<select aria-label=\"${label}\" class=\"k-dropdown k-picker k-dropdown-list ${styles.viewsDropdown}\">` +\n            `${Object.keys(views).map(view => '<option value=\"' + view + '\">' + views[view].title + '</option>').join(\"\")}` +\n        '</select>',\n        MIN_SCREEN = \"(max-width: 480px)\",\n        ADD_ACTIONS = [{\n            data: \"add\",\n            text: \"addChild\"\n        },\n        {\n            data: \"insert-before\",\n            text: \"insertBefore\"\n        },\n        {\n            data: \"insert-after\",\n            text: \"insertAfter\"\n        }];\n\n    var ganttStyles = {\n        wrapper: \"k-gantt\",\n        plannedTasks: \"k-gantt-planned\",\n        rowHeight: \"k-gantt-rowheight\",\n        content: \"k-gantt-content\",\n        listWrapper: \"k-gantt-treelist\",\n        list: \"k-gantt-treelist\",\n        timelineWrapper: \"k-gantt-timeline\",\n        timeline: \"k-gantt-timeline\",\n        splitBarWrapper: \"k-splitbar k-splitbar-horizontal k-splitbar-draggable-horizontal\",\n        splitBar: \"k-splitbar\",\n        splitBarHover: \"k-splitbar-horizontal-hover\",\n        popupWrapper: \"k-list-container\",\n        popupList: \"k-list k-reset\",\n        resizeHandle: \"k-resize-handle\",\n        icon: \"k-icon\",\n        item: \"k-item\",\n        line: \"k-gantt-line\",\n        buttonDelete: \"k-gantt-delete\",\n        buttonCancel: \"k-gantt-cancel\",\n        buttonSave: \"k-gantt-update\",\n        buttonToggle: \"k-gantt-toggle\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n        primary: \"k-button-solid-primary\",\n        hovered: \"k-hover\",\n        selected: \"k-selected\",\n        focused: \"k-focus\",\n        focusedCell: \"k-focus\",\n        gridHeader: \"k-grid-header\",\n        gridHeaderWrap: \"k-grid-header-wrap\",\n        gridContent: \"k-grid-content\",\n        tasks: \"k-gantt-tasks\",\n        popup: {\n            form: \"k-popup-edit-form\",\n            editForm: \"k-gantt-edit-form\",\n            formContainer: \"k-edit-form-container\",\n            resourcesFormContainer: \"k-resources-form-container\",\n            message: \"k-popup-message\",\n            buttonsContainer: \"k-edit-buttons\",\n            button: \"k-button\",\n            editField: \"k-edit-field\",\n            editLabel: \"k-edit-label\",\n            resourcesField: \"k-gantt-resources\"\n        },\n        toolbar: {\n            headerWrapper: \"k-gantt-header k-gantt-toolbar\",\n            footerWrapper: \"k-gantt-footer k-gantt-toolbar\",\n            toolbar: \"k-gantt-toolbar\",\n            views: \"k-gantt-views\",\n            viewsWrapper: \"k-gantt-views-wrapper\",\n            viewsDropdown: \"k-views-dropdown\",\n            button: \"k-button\",\n            buttonToggle: \"k-gantt-toggle\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n            iconPlus: \"plus\",\n            iconPdf: \"file-pdf\",\n            iconToggle: \"layout-1-by-4\",\n            viewButton: \"k-view\",\n            link: \"k-link\",\n            pdfButton: \"k-gantt-pdf\",\n            appendButton: \"k-gantt-create\"\n        }\n    };\n\n    function selector(uid) {\n        return \"[\" + kendo.attr(\"uid\") + (uid ? \"='\" + uid + \"']\" : \"]\");\n    }\n\n    function trimOptions(options) {\n        delete options.name;\n        delete options.prefix;\n\n        delete options.remove;\n        delete options.edit;\n        delete options.add;\n        delete options.navigate;\n\n        return options;\n    }\n\n    function focusTable(table, direct) {\n        var wrapper = table.parents('[' + kendo.attr(\"role\") + '=\"gantt\"]');\n        var scrollPositions = [];\n        var parents = scrollableParents(wrapper);\n\n        table.attr(TABINDEX, 0);\n\n        if (direct) {\n            parents.each(function(index, parent) {\n                scrollPositions[index] = $(parent).scrollTop();\n            });\n        }\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            table[0].setActive();\n        } catch (e) {\n            table[0].focus();\n        }\n\n        if (direct) {\n            parents.each(function(index, parent) {\n                $(parent).scrollTop(scrollPositions[index]);\n            });\n        }\n    }\n\n    function scrollableParents(element) {\n        return $(element).parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow != \"visible\";\n                })\n                .add(window);\n    }\n\n    var Gantt = Widget.extend({\n        init: function(element, options, events) {\n            if (isArray(options)) {\n                options = { dataSource: options };\n            }\n\n            Widget.fn.init.call(this, element, options);\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._wrapper();\n\n            this._resources();\n\n            if (!this.options.views || !this.options.views.length) {\n                this.options.views = [\"day\", \"week\", \"month\"];\n            }\n\n            this._timeline();\n\n            this._processDefaults();\n            this._toolbar();\n            this._footer();\n\n            this._adjustDimensions();\n\n            // Prevent extra refresh from setting the view\n            this._preventRefresh = true;\n\n            this.view(this.timeline._selectedViewName);\n\n            this._preventRefresh = false;\n\n            this._dataSource();\n\n            this._assignments();\n\n            this._list();\n\n            this._dependencies();\n\n            this._resizable();\n\n            this._scrollable();\n\n            this._dataBind();\n\n            this._attachEvents();\n\n            this._createEditor();\n\n            kendo.notify(this);\n        },\n\n        events: [\n            \"dataBinding\",\n            \"dataBound\",\n            \"add\",\n            \"edit\",\n            \"remove\",\n            \"cancel\",\n            \"save\",\n            \"change\",\n            \"navigate\",\n            \"moveStart\",\n            \"move\",\n            \"moveEnd\",\n            \"resizeStart\",\n            \"resize\",\n            \"resizeEnd\",\n            \"columnHide\",\n            \"columnReorder\",\n            \"columnResize\",\n            \"columnShow\",\n            \"togglePlannedTasks\"\n        ],\n\n        options: {\n            name: \"Gantt\",\n            autoBind: true,\n            navigatable: false,\n            selectable: true,\n            editable: true,\n            resizable: false,\n            columnResizeHandleWidth: defaultIndicatorWidth,\n            columns: [],\n            views: [],\n            dataSource: {},\n            dependencies: {},\n            resources: {},\n            assignments: {},\n            taskTemplate: null,\n            messages: {\n                save: \"Save\",\n                cancel: \"Cancel\",\n                destroy: \"Delete\",\n                deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                deleteTaskWindowTitle: \"Delete task\",\n                deleteDependencyWindowTitle: \"Delete dependency\",\n                selectView: \"Select view\",\n                views: {\n                    day: \"Day\",\n                    week: \"Week\",\n                    month: \"Month\",\n                    year: \"Year\",\n                    start: \"Start\",\n                    end: \"End\"\n                },\n                actions: {\n                    append: \"Add Task\",\n                    addChild: \"Add Child\",\n                    insertBefore: \"Add Above\",\n                    insertAfter: \"Add Below\",\n                    pdf: \"Export to PDF\",\n                    toggle: \"Toggle pane\"\n                },\n                editor: {\n                    editorTitle: \"Task\",\n                    resourcesEditorTitle: \"Resources\",\n                    title: \"Title\",\n                    start: \"Start\",\n                    end: \"End\",\n                    plannedStart: \"Planned Start\",\n                    plannedEnd: \"Planned End\",\n                    percentComplete: \"Complete\",\n                    resources: \"Resources\",\n                    assignButton: \"Assign\",\n                    resourcesHeader: \"Resources\",\n                    unitsHeader: \"Units\",\n                    parent: \"Parent\",\n                    addNew: \"Add\",\n                    name: \"Name\",\n                    percentCompleteHint: \"value from 0 to 1\",\n                    remove: \"Remove\",\n                    actualStart: \"Actual Start\",\n                    actualEnd: \"Actual End\",\n                    parentOptionLabel: \"-None-\",\n                    general: \"General\",\n                    predecessors: \"Predecessors\",\n                    successors: \"Successors\",\n                    other: \"Other\",\n                    dependencyType: \"Type\"\n                },\n                plannedTasks: {\n                    switchText: \"Planned Tasks\",\n                    offsetTooltipAdvanced: \"Met deadline earlier\",\n                    offsetTooltipDelay: \"Delay\",\n                    seconds: \"seconds\",\n                    minutes: \"minutes\",\n                    hours: \"hours\",\n                    days: \"days\"\n                }\n            },\n            showWorkHours: true,\n            showWorkDays: true,\n            toolbar: null,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            hourSpan: 1,\n            snap: true,\n            height: 600,\n            listWidth: \"30%\",\n            rowHeight: null,\n            showPlannedTasks: false\n        },\n\n        select: function(value) {\n            var list = this.list;\n\n            if (!value) {\n                return list.select();\n            }\n\n            if (typeof value === STRING) {\n                value = list.content.find(value);\n            }\n\n            list.select(value);\n            this._selectionUpdate();\n\n            this.list.element.find(\"table[role=treegrid]\").trigger(\"focus\");\n            return;\n        },\n\n        clearSelection: function() {\n            this.list.clearSelection();\n            this._selectionUpdate();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._refreshHandler);\n                this.dataSource.unbind(\"progress\", this._progressHandler);\n                this.dataSource.unbind(\"error\", this._errorHandler);\n            }\n\n            if (this.dependencies) {\n                this.dependencies.unbind(\"change\", this._dependencyRefreshHandler);\n                this.dependencies.unbind(\"error\", this._dependencyErrorHandler);\n            }\n\n            if (this.timeline) {\n                this.timeline.unbind();\n                this.timeline.destroy();\n            }\n\n            if (this.list) {\n                this.list.unbind();\n                this.list.destroy();\n            }\n\n            if (this.toolbar && this.toolbar.getKendoToolBar()) {\n                this.toolbar.getKendoToolBar().destroy();\n            }\n\n            if (this.footer && this.footer.getKendoToolBar()) {\n                this.footer.getKendoToolBar().destroy();\n            }\n\n            if (this._editor) {\n                this._editor.destroy();\n            }\n\n            if (this._resourceEditorWindow) {\n                this._resourceEditorWindow.destroy();\n            }\n\n            if (this._resizeDraggable) {\n                this._resizeDraggable.destroy();\n            }\n\n            this.toolbar.off(NS);\n\n            if (supportsMedia) {\n                this._mediaQuery.removeListener(this._mediaQueryHandler);\n                this._mediaQuery = null;\n            }\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(this.wrapper).off(NS);\n\n            this.toolbar = null;\n            this.footer = null;\n\n            kendo.destroy(this.element);\n        },\n\n        setOptions: function(options) {\n            var newOptions = kendo.deepExtend({}, this.options, options);\n\n            var events = this._events;\n\n            if (!options.views) {\n                var selectedView = this.view().name;\n\n                newOptions.views = $.map(this.options.views, function(view) {\n                    var isSettings = isPlainObject(view);\n                    var name = isSettings ? ((typeof view.type !== \"string\") ? view.title : view.type) : view;\n\n                    if (selectedView === name) {\n                        if (isSettings) {\n                            view.selected = true;\n                        } else {\n                            view = { type: name, selected: true };\n                        }\n                    } else if (isSettings) {\n                        view.selected = false;\n                    }\n\n                    return view;\n                });\n            }\n\n            if (!options.dataSource) { newOptions.dataSource = this.dataSource; }\n            if (!options.dependencies) { newOptions.dependencies = this.dependencies; }\n            if (!options.resources) { newOptions.resources = this.resources; }\n            if (!options.assignments) { newOptions.assignments = this.assignments; }\n\n            this.destroy();\n            this.element.empty();\n            this.options = null;\n\n            this.init(this.element, newOptions, events);\n\n            Widget.fn._setEvents.call(this, newOptions);\n        },\n\n        _attachEvents: function() {\n            this._resizeHandler = this.resize.bind(this, false);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n\n            if (supportsMedia) {\n                this._mediaQueryHandler({ matches: this._mediaQuery.matches });\n            }\n        },\n\n        _wrapper: function() {\n            var ganttStyles = Gantt.styles;\n            var splitBarHandleClassName = [ganttStyles.icon, ganttStyles.resizeHandle].join(\" \");\n            var options = this.options;\n            var height = options.height;\n            var width = options.width;\n\n            this.wrapper = this.element.addClass(ganttStyles.wrapper).attr(\"role\", \"application\");\n            this.layout = $(\"<div class='\" + ganttStyles.content + \"' />\").appendTo(this.wrapper)\n                .append(\"<div class='\" + ganttStyles.listWrapper + \"'><div></div></div>\")\n                .append(\"<div class='\" + ganttStyles.splitBarWrapper + \"'><div class='\" + splitBarHandleClassName + \"'></div></div>\")\n                .append(\"<div class='\" + ganttStyles.timelineWrapper + \"'><div></div></div>\");\n\n            if (options.showPlannedTasks) {\n                this.wrapper.addClass(ganttStyles.plannedTasks);\n            }\n\n            if (height) {\n                this.wrapper.css(\"height\", height);\n            }\n\n            if (width) {\n                this.wrapper.css(\"width\", width);\n            }\n\n            if (options.rowHeight) {\n                this.wrapper.addClass(ganttStyles.rowHeight);\n            }\n\n            this.treelistWrapper = this.wrapper.find(DOT + ganttStyles.list);\n            this.splitbar = this.wrapper.find(DOT + ganttStyles.splitBar);\n            this.timelineWrapper = this.wrapper.find(DOT + ganttStyles.timeline);\n\n            this.treelistWrapper.css(\"width\", options.listWidth);\n            this.timelineWrapper.css(\"width\", this.wrapper.width() - this.treelistWrapper.outerWidth() - this.splitbar.outerWidth() );\n        },\n\n        _viewClickHandler: function(e) {\n            var list = this.list;\n            var name = e.target.attr(kendo.attr(\"name\"));\n\n            if (list.editor && !list.editor.end()) {\n                return;\n            }\n\n            if (!this.trigger(\"navigate\", { view: name })) {\n                this.view(name);\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _togglePane: function(e) {\n            var that = this,\n                treelist = that.treelistWrapper,\n                timeline = that.timelineWrapper,\n                contentSelector = DOT + ganttStyles.gridContent;\n\n            e.preventDefault();\n\n            if (treelist.is(\":visible\")) {\n                treelist.addClass(\"k-hidden\");\n                timeline.removeClass(\"k-hidden\");\n\n                that.refresh();\n\n                timeline\n                    .find(contentSelector)\n                    .scrollTop(that.scrollTop);\n            } else {\n                treelist.removeClass(\"k-hidden\");\n                timeline.addClass(\"k-hidden\");\n\n                treelist\n                    .find(contentSelector)\n                    .scrollTop(that.scrollTop);\n            }\n\n            that._resize();\n        },\n\n        _processDefaults: function() {\n            var that = this,\n                views = that.timeline.views,\n                ns = kendo.ns,\n                viewsButtons = [],\n                toolbarStyles = Gantt.styles.toolbar,\n                actionsMessages = this.options.messages.actions,\n                items = ADD_ACTIONS.map((m) => ({\n                    text: actionsMessages[m.text],\n                    attributes: { \"data-type\": m.data }\n                })),\n                defaults = {\n                    append: {\n                        name: \"append\",\n                        type: \"dropDownButton\",\n                        menuButtons: items,\n                        icon: toolbarStyles.iconPlus,\n                        attributes: {\n                            class: toolbarStyles.appendButton\n                        },\n                        click: that._addClickHandler.bind(that),\n                        open: that._openAddClickHandler.bind(that)\n                    },\n                    pdf: {\n                        name: \"pdf\",\n                        type: \"button\",\n                        attributes: {\n                            class: toolbarStyles.pdfButton\n                        },\n                        icon: toolbarStyles.iconPdf,\n                        click: that.saveAsPDF.bind(that)\n                    },\n                    toggle: {\n                        name: \"toggle\",\n                        type: \"button\",\n                        showText: \"overflow\",\n                        attributes: {\n                            class: \"k-gantt-toggle\"\n                        },\n                        icon: toolbarStyles.iconToggle,\n                        click: that._togglePane.bind(that)\n                    },\n                    switchLabel: {\n                        template: \"<label for=planned-switch>\" + that.options.messages.plannedTasks.switchText + \"</label>\"\n                    },\n                    plannedTasks: {\n                        type: \"component\",\n                        component: \"Switch\",\n                        element: \"<input id='planned-switch' class='k-gantt-planned-switch'>\",\n                        componentOptions: {\n                            checked: that.options.showPlannedTasks,\n                            change: that._togglePlannedTasks.bind(that),\n                            messages: {\n                                checked: \"\",\n                                unchecked: \"\"\n                            }\n                        }\n                    },\n                    viewsDdl: {\n                        template: VIEWS_DROPDOWN_TEMPLATE({\n                            views: that.timeline.views,\n                            styles: toolbarStyles,\n                            label: that.options.messages.selectView\n                        })\n                    },\n                    view: {\n                        name: \"view\",\n                        type: \"button\",\n                        togglable: true,\n                        group: \"views\"\n                    },\n                    viewsGroup: {\n                        type: \"buttonGroup\",\n                        attributes: {\n                            class: toolbarStyles.views\n                        }\n                    }\n                };\n\n            Object.keys(views).map(name => {\n                var current = $.extend(true, {}, defaults.view);\n\n                current.text = views[name].title;\n                current.attributes = {\n                    class: \"k-view-\" + name.toLowerCase()\n                };\n                current.attributes[\"data\" + ns + \"-name\"] = name;\n\n                defaults[name] = current;\n\n                viewsButtons.push(name);\n            });\n\n            Object.values(defaults).map(t => {\n                if (t.name === \"view\") {\n                    t.click = that._viewClickHandler.bind(that);\n                }\n            });\n\n            defaults.viewsGroup.buttons = viewsButtons;\n\n            that._viewsButtons = viewsButtons;\n            that.defaultCommands = defaults;\n        },\n\n        _processTools: function(items) {\n            var editable = this.options.editable,\n                commands = [],\n                tools = [\"toggle\"],\n                spacerPresent = false,\n                defaults = this.defaultCommands;\n\n            if (!Array.isArray(items)) {\n                if (editable && editable.create !== false) {\n                    tools.push(\"append\");\n                }\n            } else {\n                commands = items;\n            }\n\n            commands.map(c => {\n                if (c === \"plannedTasks\" || c.name === \"plannedTasks\") {\n                    spacerPresent = true;\n\n                    tools.push({\n                        type: \"spacer\"\n                    });\n\n                    tools.push(\"switchLabel\");\n                }\n\n                if (!defaults[c] && !defaults[c.name] && !c.template) {\n                    if (typeof c === STRING) {\n                        c = {\n                            name: c,\n                            type: \"button\",\n                            text: c,\n                            attributes: {\n                                class: \"k-gantt-\" + c\n                            }\n                        };\n                    } else {\n                        c = $.extend({}, {\n                            type: \"button\",\n                            text: c.name,\n                            attributes: {\n                                class: \"k-gantt-\" + c.name\n                            }\n                        }, c);\n                    }\n                }\n\n                tools.push(c);\n            });\n\n            if (!spacerPresent) {\n                tools.push({\n                    type: \"spacer\"\n                });\n            }\n\n            if (this._viewsButtons && this._viewsButtons.length > 0) {\n                if (this._viewsButtons.length > 1) {\n                    tools.push(\"viewsDdl\");\n                }\n\n                tools.push(\"viewsGroup\");\n            }\n\n            return tools;\n        },\n\n        _mediaQueryHandler: function(e) {\n            var that = this;\n            var splitbar = that.splitbar;\n            var treelist = that.treelistWrapper;\n            var timeline = that.timelineWrapper;\n            var contentSelector = DOT + ganttStyles.gridContent;\n\n            var toolbarEl = that.toolbar;\n            var toolbar = toolbarEl.getKendoToolBar();\n\n            if (e.matches) {\n                treelist.addClass(\"k-hidden\");\n                splitbar.addClass(\"k-hidden\");\n\n                toolbar.hide(toolbarEl.find(\".k-gantt-views\"));\n                toolbar.show(toolbarEl.find(\".k-views-dropdown\"));\n\n                treelist.width(\"100%\");\n            } else {\n                treelist.removeClass(\"k-hidden\");\n                splitbar.removeClass(\"k-hidden\");\n                timeline.removeClass(\"k-hidden\");\n\n                toolbar.show(toolbarEl.find(\".k-gantt-views\"));\n                toolbar.hide(toolbarEl.find(\".k-views-dropdown\"));\n\n                treelist.width(treelist.outerWidth());\n\n                timeline\n                    .find(contentSelector)\n                    .scrollTop(that.scrollTop);\n            }\n\n            that._resize();\n        },\n\n        _toolbar: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var viewsDropdownSelector = DOT + ganttStyles.toolbar.viewsDropdown;\n            var toolsOptions = this.options.toolbar;\n            var tools;\n            var toolbar;\n\n            if (typeof toolsOptions === STRING) {\n                toolsOptions = kendo.template(toolsOptions).bind(this);\n            }\n\n            if (isFunction(toolsOptions)) {\n                tools = this._processTools([{\n                    template: toolsOptions({})\n                }]);\n            } else {\n                tools = this._processTools(toolsOptions);\n            }\n\n            toolbar = $(\"<div class='\" + ganttStyles.toolbar.headerWrapper + \"'>\");\n\n            this.wrapper.prepend(toolbar);\n            this.toolbar = toolbar;\n\n            toolbar.kendoToolBar({\n                resizable: false,\n                tools: tools,\n                size: \"medium\",\n                defaultTools: this.defaultCommands,\n                parentMessages: this.options.messages.actions\n            });\n\n            if (supportsMedia) {\n                this._mediaQuery = window.matchMedia(MIN_SCREEN);\n                this._mediaQuery.addListener(this._mediaQueryHandler.bind(this));\n            }\n\n            toolbar.on(\"change\" + NS, viewsDropdownSelector, function() {\n                var list = that.list;\n                var name = $(this).val();\n\n                if (list.editable && list.editable.trigger(\"validate\")) {\n                    return;\n                }\n\n                if (!that.trigger(\"navigate\", { view: name })) {\n                    that.view(name);\n                }\n            });\n\n            this.toggleSwitch = toolbar.find('input.k-gantt-planned-switch').data(\"kendoSwitch\");\n        },\n\n        _footer: function() {\n            var editable = this.options.editable;\n\n            if (!editable || editable.create === false) {\n                return;\n            }\n\n            var ganttStyles = Gantt.styles.toolbar;\n            var messages = this.options.messages.actions;\n            var footer = $(\"<div class='\" + ganttStyles.footerWrapper + \"'>\");\n\n            this.wrapper.append(footer);\n            this.footer = footer;\n\n            footer.kendoToolBar({\n                resizable: false,\n                size: \"medium\",\n                tools: [\"append\"],\n                defaultTools: {\n                    append: extend(true, {}, this.defaultCommands.append, {\n                        direction: \"up\",\n                        animation: {\n                            open: {\n                                effects: \"slideIn:up\"\n                            }\n                        }\n                    })\n                },\n                parentMessages: messages\n            });\n        },\n\n        _adjustDimensions: function() {\n            var element = this.element;\n            var toolbarHeight = outerHeight(this.toolbar);\n            var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n            var totalHeight = element.height();\n            var totalWidth = element.width();\n            var splitBarWidth = this.splitbar.is(\":visible\") ? outerWidth(this.splitbar) : 0;\n            var treeListWidth = this.treelistWrapper.is(\":visible\") ? outerWidth(this.treelistWrapper) : 0;\n            var timelineWidth = totalWidth - ( treeListWidth + splitBarWidth );\n\n            this.layout.children().height(totalHeight - (toolbarHeight + footerHeight));\n            this.timelineWrapper.width(timelineWidth);\n\n            if (totalWidth < (treeListWidth + splitBarWidth)) {\n                this.treelistWrapper.width(totalWidth - splitBarWidth);\n            }\n        },\n\n        _scrollTo: function(value) {\n            var view = this.timeline.view();\n            var list = this.list;\n            var attr = kendo.attr(\"uid\");\n            var id = typeof value === \"string\" ? value :\n                value.closest(\"tr\" + selector()).attr(attr);\n            var action;\n            var scrollTarget;\n            var scrollIntoView = function() {\n                if (scrollTarget.length !== 0) {\n                    action();\n                }\n            };\n\n            if (view.content.is(\":visible\")) {\n                scrollTarget = view.content.find(selector(id));\n                action = function() {\n                    view._scrollTo(scrollTarget);\n                };\n            } else {\n                scrollTarget = list.element.find(selector(id));\n                action = function() {\n                    scrollTarget.get(0).scrollIntoView();\n                };\n            }\n\n            scrollIntoView();\n        },\n\n        _addTask: function(selected, parent, type) {\n            var dataSource = this.dataSource,\n                task = dataSource._createNewModel({}),\n                timeline = this.timeline,\n                firstSlot = timeline.view()._timeSlots()[0],\n                editable = this.list.editor,\n                orderId;\n\n            if (editable && editable.trigger(\"validate\")) {\n                return;\n            }\n\n            task.set(\"title\", \"New task\");\n\n            if (parent) {\n                task.set(\"parentId\", parent.get(\"id\"));\n                task.set(\"start\", parent.get(\"start\"));\n                task.set(\"end\", parent.get(\"end\"));\n                task.set(\"plannedStart\", parent.get(\"plannedStart\"));\n                task.set(\"plannedEnd\", parent.get(\"plannedEnd\"));\n            } else {\n                task.set(\"start\", firstSlot.start);\n                task.set(\"end\", firstSlot.end);\n            }\n\n            if (type && type !== \"add\") {\n                orderId = selected.get(\"orderId\");\n                orderId = type === \"insert-before\" ? orderId : orderId + 1;\n            }\n\n            this._createTask(task, orderId);\n        },\n\n        _addClickHandler: function(e) {\n            var type = e.target.data(\"type\");\n            var dataSource = this.dataSource;\n            var selected = this.dataItem(this.select());\n            var parent = dataSource.taskParent(selected);\n            var target = type === \"add\" ? selected : parent;\n\n            this._addTask(selected, target, type);\n        },\n\n        _openAddClickHandler: function(e) {\n            var selected = this.select();\n\n            if (!selected || selected.length === 0) {\n                e.preventDefault();\n\n                this._addTask();\n            }\n        },\n\n        _getListEditable: function() {\n            var editable = false,\n                options = this.options;\n\n            if (options.editable !== false) {\n                editable = \"incell\";\n\n                if (options.editable && options.editable.update === false) {\n                    editable = false;\n                } else {\n                    if (!options.editable || options.editable.reorder !== false) {\n                        editable = {\n                            mode: \"incell\",\n                            move: {\n                                reorderable: true\n                            }\n                        };\n                    }\n                }\n            }\n\n            return editable;\n        },\n\n        _getListOptions: function() {\n            var options = this.options,\n                editable = this._getListEditable(),\n                listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                ganttListOptions = {\n                    columns: options.columns || [],\n                    dataSource: this.dataSource,\n                    selectable: options.selectable,\n                    reorderable: options.reorderable,\n                    editable: editable,\n                    resizable: options.resizable,\n                    filterable: options.filterable,\n                    columnMenu: options.columnMenu,\n                    columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                    listWidth: outerWidth(listWrapper),\n                    resourcesField: this.resources.field,\n                    rowHeight: this.options.rowHeight\n                };\n\n            return ganttListOptions;\n        },\n\n        _attachResourceEditor: function(columns) {\n            var column;\n\n            for (var i = 0; i < columns.length; i++) {\n                column = columns[i];\n\n                if (column.field === this.resources.field && typeof column.editor !== \"function\") {\n                    column.editor = this._resourcePopupEditor.bind(this);\n                }\n            }\n        },\n\n        _attachListEvents: function() {\n            var that = this,\n                navigatable = that.options.navigatable,\n                restoreFocus = function() {\n                    var element;\n\n                    if (navigatable && that._cachedCurrent) {\n                        element = that.list.content.find(\"tr\").eq(that._cachedCurrent.rowIndex).find(\"td\").eq(that._cachedCurrent.columnIndex);\n\n                        that._current(element);\n\n                        focusTable(that.list.content.find(\"table\"), true);\n                    }\n\n                    delete that._cachedCurrent;\n                };\n\n            that.list\n                .bind(\"columnShow\", function(e) {\n                    that.trigger(\"columnShow\", { column: e.column });\n                })\n                .bind(\"columnHide\", function(e) {\n                    that.trigger(\"columnHide\", { column: e.column });\n                })\n                .bind(\"columnReorder\", function(e) {\n                    that.trigger(\"columnReorder\", { column: e.column, oldIndex: e.oldIndex, newIndex: e.newIndex });\n                })\n                .bind(\"columnResize\", function(e) {\n                    that.trigger(\"columnResize\", { column: e.column, oldWidth: e.oldWidth, newWidth: e.newWidth });\n                })\n                .bind(\"render\", function() {\n                    that._navigatable();\n                 }, true)\n                .bind(\"beforeEdit\", function(e) {\n                    that._cachedCurrent = {\n                        rowIndex: e.container.closest(\"tr\").index(),\n                        columnIndex: e.container.index()\n                    };\n\n                    if (that.trigger(\"edit\", { task: e.model, container: e.container })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"cancel\", function(e) {\n                    if (that.trigger(\"cancel\", { task: e.model, container: e.cell })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    that._preventItemChange = true;\n                    that.list.closeCell(true);\n                    restoreFocus();\n                })\n                .bind(\"save\", function(e) {\n                    var updatedValues = e.values,\n                        key;\n\n                    that.previousTask = {};\n                    that._preventRefresh = true;\n\n                    if (that.updateDuration === null || that.updateDuration === undefined$1) {\n                        that.updateDuration = e.model.duration();\n                    }\n\n                    if (that.updatePlannedDuration === null || that.updatePlannedDuration === undefined$1) {\n                        that.updatePlannedDuration = e.model.plannedDuration();\n                    }\n\n                    if (updatedValues.hasOwnProperty(\"start\")) {\n                        updatedValues.end = new Date(updatedValues.start.getTime() + that.updateDuration);\n                    }\n\n                    if (updatedValues.hasOwnProperty(\"plannedStart\") && updatedValues.plannedStart) {\n                        updatedValues.plannedEnd = new Date(updatedValues.plannedStart.getTime() + that.updatePlannedDuration);\n                    }\n\n                    for (key in updatedValues) {\n                        if (updatedValues.hasOwnProperty(key)) {\n                            that.previousTask[key] = e.model.get(key);\n                        }\n                    }\n\n                    that.updatedValues = updatedValues;\n                })\n                .bind(\"itemChange\", function(e) {\n                    var updateInfo = that.updatedValues,\n                        task = e.data,\n                        resourcesField = that.resources.field,\n                        previousTask = that.previousTask,\n                        key;\n\n                    if (that._preventItemChange) {\n                        that._preventItemChange = false;\n                        return;\n                    }\n\n                    for (key in previousTask) {\n                        if (previousTask.hasOwnProperty(key)) {\n                            task.set(key, previousTask[key]);\n                        }\n                    }\n\n                    that.previousTask = {};\n\n                    if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                        if (updateInfo) {\n                            that._preventRefresh = true;\n                            that.dataSource.update(task, updateInfo);\n\n                            if (updateInfo[resourcesField]) {\n                                that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                            }\n                        }\n\n                        that._preventRefresh = false;\n                        that._requestStart();\n                        that.dataSource.sync().then(function() {\n                            restoreFocus();\n                        });\n                    } else if (that.dataSource.hasChanges()) {\n                        that.dataSource.cancelChanges(task);\n                        that._preventRefresh = false;\n                        that.refresh();\n                    }\n\n                    that.updatedValues = null;\n                    that.updateDuration = null;\n                })\n                .bind(\"change\", function() {\n                    that.trigger(\"change\");\n\n                    that._selectionUpdate();\n\n                })\n                .bind(\"collapse\", function(e) {\n                    e.preventDefault();\n\n                    var row = that.list.element.find(\"tr[data-uid='\" + e.model.uid + \"']\");\n                    e.model.set(\"expanded\", false);\n\n                    that._cachedCurrent = {\n                        rowIndex: row.index(),\n                        columnIndex: row.find(\".k-focus\").index()\n                    };\n\n                    restoreFocus();\n                })\n                .bind(\"expand\", function(e) {\n                    e.preventDefault();\n\n                    var row = that.list.element.find(\"tr[data-uid='\" + e.model.uid + \"']\");\n                    e.model.set(\"expanded\", true);\n\n                    that._cachedCurrent = {\n                        rowIndex: row.index(),\n                        columnIndex: row.find(\".k-focus\").index()\n                    };\n\n                    restoreFocus();\n                })\n                .bind(\"dragend\", function(e) {\n                    var dataSource = that.dataSource,\n                        task, updateInfo;\n\n                    if (e.position === \"over\") {\n                        dataSource.cancelChanges();\n\n                        updateInfo = {\n                            parentId: e.source.parentId\n                        };\n\n                        task = dataSource.get(e.source.id);\n\n                        if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                            dataSource.update(task, updateInfo);\n                        }\n\n                        dataSource.sync();\n                    }\n                })\n                .bind(\"dataBound\", function() {\n                    if (that.dataSource.sort().length === 0) {\n                        that.dataSource.sort([{ field: \"orderId\", dir: \"asc\" }]);\n                    }\n                })\n                .bind(\"reorder\", function(e) {\n                    that._updateTask(e.task, e.updateInfo);\n                    restoreFocus();\n                });\n        },\n\n        _selectionUpdate: function() {\n            var that = this,\n                selection = that.list.select();\n\n            if (selection.length) {\n                that.timeline.select(\"[data-uid='\" + selection.attr(\"data-uid\") + \"']\");\n            } else {\n                that.timeline.clearSelection();\n            }\n        },\n\n        _list: function() {\n            var ganttStyles = Gantt.styles,\n                listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                listElement = listWrapper.find(\"> div\"),\n                listOptions = this._getListOptions();\n\n            this._attachResourceEditor(listOptions.columns);\n\n            this.list = new kendo.ui.GanttList(listElement, listOptions);\n\n            this._attachListEvents();\n        },\n\n        _timeline: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\n            var element = this.wrapper.find(DOT + ganttStyles.timeline + \" > div\");\n\n            this.timeline = new kendo.ui.GanttTimeline(element, options);\n\n            this.timeline\n                .bind(\"navigate\", function(e) {\n                    var viewName = e.view.replace(/\\./g, \"\\\\.\").toLowerCase();\n                    var viewsEl = that.toolbar.find(DOT + ganttStyles.toolbar.views);\n                    var viewsGroup = viewsEl.getKendoButtonGroup();\n\n                    if (viewsGroup) {\n                        viewsGroup.select(viewsEl.find(DOT + ganttStyles.toolbar.viewButton + \"-\" + viewName));\n                    }\n\n                    that.toolbar\n                        .find(DOT + ganttStyles.toolbar.viewsDropdown)\n                        .val(e.view);\n\n                    that.refresh();\n                })\n                .bind(\"moveStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.trigger(\"moveStart\", { task: e.task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"move\", function(e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n\n                    if (that.trigger(\"move\", { task: task, start: start, end: end })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"moveEnd\", function(e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n\n                    if (!that.trigger(\"moveEnd\", { task: task, start: start, end: end })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), {\n                            start: start,\n                            end: end\n                        });\n                    }\n                })\n                .bind(\"resizeStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.trigger(\"resizeStart\", { task: e.task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"resize\", function(e) {\n                    if (that.trigger(\"resize\", { task: e.task, start: e.start, end: e.end })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"resizeEnd\", function(e) {\n                    var task = e.task;\n                    var updateInfo = {};\n\n                    if (e.resizeStart) {\n                        updateInfo.start = e.start;\n                    } else {\n                        updateInfo.end = e.end;\n                    }\n\n                    if (!that.trigger(\"resizeEnd\", { task: task, start: e.start, end: e.end })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                    }\n                })\n                .bind(\"percentResizeStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"percentResizeEnd\", function(e) {\n                    that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\n                })\n                .bind(\"dependencyDragStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"dependencyDragEnd\", function(e) {\n                    var dependency = that.dependencies._createNewModel({\n                        type: e.type,\n                        predecessorId: e.predecessor.id,\n                        successorId: e.successor.id\n                    });\n\n                    that._createDependency(dependency);\n                })\n                .bind(\"select\", function(e) {\n                    var editable = that.list.editor,\n                        current = that.select(),\n                        currentUid;\n\n                    if (editable) {\n                        editable.end();\n                    }\n\n                    if (current && current.length) {\n                        currentUid = current.data(\"uid\");\n                    }\n\n                    if (currentUid !== e.uid) {\n                        that.select(\"[data-uid='\" + e.uid + \"']\");\n                        that.trigger(\"change\");\n                    }\n                })\n                .bind(\"editTask\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.editTask(e.uid);\n                })\n                .bind(\"clear\", function() {\n                    that.clearSelection();\n                    that.trigger(\"change\");\n                })\n                .bind(\"removeTask\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.removeTask(that.dataSource.getByUid(e.uid));\n                })\n                .bind(\"removeDependency\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.removeDependency(that.dependencies.getByUid(e.uid));\n                });\n        },\n\n        _dataSource: function() {\n            var options = this.options;\n            var dataSource = options.dataSource;\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (this.dataSource && this._refreshHandler) {\n                this.dataSource\n                    .unbind(\"change\", this._refreshHandler)\n                    .unbind(\"progress\", this._progressHandler)\n                    .unbind(\"error\", this._errorHandler);\n            } else {\n                this._refreshHandler = this.refresh.bind(this);\n                this._progressHandler = this._requestStart.bind(this);\n                this._errorHandler = this._error.bind(this);\n            }\n\n            this.dataSource = kendo.data.GanttDataSource.create(dataSource)\n                .bind(\"change\", this._refreshHandler)\n                .bind(\"progress\", this._progressHandler)\n                .bind(\"error\", this._errorHandler);\n        },\n\n        _dependencies: function() {\n            var dependencies = this.options.dependencies || {};\n            var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\n\n            if (this.dependencies && this._dependencyRefreshHandler) {\n                this.dependencies\n                    .unbind(\"change\", this._dependencyRefreshHandler)\n                    .unbind(\"error\", this._dependencyErrorHandler);\n            } else {\n                this._dependencyRefreshHandler = this.refreshDependencies.bind(this);\n                this._dependencyErrorHandler = this._error.bind(this);\n            }\n\n            this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource)\n                .bind(\"change\", this._dependencyRefreshHandler)\n                .bind(\"error\", this._dependencyErrorHandler);\n        },\n\n        _resources: function() {\n            var resources = this.options.resources;\n            var dataSource = resources.dataSource || {};\n\n            this.resources = {\n                field: \"resources\",\n                dataTextField: \"name\",\n                dataColorField: \"color\",\n                dataFormatField: \"format\"\n            };\n\n            extend(this.resources, resources);\n\n            this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n        },\n\n        _assignments: function() {\n            var assignments = this.options.assignments;\n            var dataSource = assignments.dataSource || { };\n\n            if (this.assignments) {\n                this.assignments.dataSource\n                    .unbind(\"change\", this._assignmentsRefreshHandler);\n            } else {\n                this._assignmentsRefreshHandler = this.refresh.bind(this);\n            }\n\n            this.assignments = {\n                dataTaskIdField: \"taskId\",\n                dataResourceIdField: \"resourceId\",\n                dataValueField: \"value\"\n            };\n\n            extend(this.assignments, assignments);\n\n            this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n\n            this.assignments.dataSource\n                .bind(\"change\", this._assignmentsRefreshHandler);\n        },\n\n        _createEditor: function() {\n            var that = this;\n\n            var editor = this._editor = new kendo.gantt.PopupEditor(this.wrapper, extend({}, this.options, {\n                target: this,\n                resources: {\n                    field: this.resources.field,\n                    editor: this._createResourceEditor.bind(this)\n                }\n            }));\n\n            editor\n                .bind(\"cancel\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    if (that.trigger(\"cancel\", { container: e.container, task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.dependencies) {\n                        that.dependencies.filter({});\n                    }\n\n                    that.cancelTask();\n                })\n                .bind(\"edit\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    if (that.trigger(\"edit\", { container: e.container, task: task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"save\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    that.saveTask(task, e.updateInfo, e.updateDependencies);\n                })\n                .bind(\"remove\", function(e) {\n                    that.removeTask(e.model.uid);\n                })\n                .bind(\"close\", that._onDialogClose);\n        },\n\n        _onDialogClose: function() {},\n\n        _resourcePopupEditor: function(container, options) {\n            var that = this,\n                editor = that._createResourceEditor($(\"<div>\"), options),\n                popupStyles = ganttStyles.popup,\n                wrapper = that.element,\n                dialogEl = $(kendo.format('<div class=\"' + popupStyles.formContainer + '\">')).appendTo(wrapper),\n                messages = that.options.messages,\n                buttonsEl, dialog;\n\n            dialogEl.append(editor.wrapper);\n            buttonsEl = $('<div class=\"' + popupStyles.buttonsContainer + '\">');\n            dialogEl.append(buttonsEl);\n\n            buttonsEl.append($(\"<button class='\" + ganttStyles.buttonSave + \"'>\" + messages.save + \"</button>\").kendoButton({\n                name: \"save\",\n                themeColor: \"primary\",\n                icon: \"save\",\n                click: () => {\n                    if (!editor.updateModel()) {\n                        return;\n                    }\n                    editor.trigger(\"save\", { model: editor.model });\n                    that._updateAssignments(editor.model.get(\"id\"), editor.model.get(that.resources.field));\n\n                    dialog.trigger(\"close\");\n                    dialog.close();\n                }\n            }));\n\n            buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + messages.cancel + \"</button>\").kendoButton({\n                name: \"cancel\",\n                icon: \"cancel\",\n                click: () => {\n                    dialog.trigger(\"close\");\n                    dialog.close();\n                }\n            }));\n\n            this._resourceEditorWindow = dialog = dialogEl.kendoWindow({\n                modal: true,\n                resizable: false,\n                draggable: true,\n                visible: false,\n                title: messages.editor.resourcesEditorTitle,\n                deactivate: () => {\n                    editor.destroy();\n                    dialog.destroy();\n                    dialog.element.closest(\".k-window\").remove();\n                }\n            }).data(\"kendoWindow\");\n\n            dialog.center().open();\n\n            return editor;\n        },\n\n        _createResourceEditor: function(container, options) {\n            var that = this;\n            var model = options instanceof ObservableObject ? options : options.model;\n            var messages = this.options.messages;\n            var resourcesField = this.resources.field;\n            var unitsValidation = { step: 0.01, min: 0.01, max: 1 };\n            var assignmentsModel = this.assignments.dataSource.options.schema.model;\n            var resourceTextField = that.resources.dataTextField;\n            var resources = this.resources.dataSource.view();\n\n\n            if (assignmentsModel && assignmentsModel.fields.Units && assignmentsModel.fields.Units.validation) {\n                extend(true, unitsValidation, assignmentsModel.fields.Units.validation);\n            }\n\n            var editor = this._resourceEditor = new kendo.gantt.ResourceEditor(container, {\n                resourcesField: resourcesField,\n                unitsValidation: unitsValidation,\n                resources: resources.map(r => ({ value: r.id, text: r[resourceTextField] })),\n                model: model,\n                messages: extend({}, messages.editor)\n            });\n\n            return editor;\n        },\n\n        view: function(type) {\n            return this.timeline.view(type);\n        },\n\n        range: function(range) {\n            var dataSource = this.dataSource;\n            var view = this.view();\n            var timeline = this.timeline;\n\n            if (range) {\n                view.options.range = {\n                    start: range.start,\n                    end: range.end\n                };\n\n                timeline._render(dataSource.taskTree());\n                timeline._renderDependencies(this.dependencies.view());\n            }\n\n            return {\n                start: view.start,\n                end: view.end\n            };\n        },\n\n        date: function(date) {\n            var view = this.view();\n\n            if (date) {\n                view.options.date = date;\n                view._scrollToDate(date);\n            }\n\n            return view.options.date;\n        },\n\n        dataItem: function(value) {\n            if (!value) {\n                return null;\n            }\n\n            var list = this.list;\n            var element = list.element.find(value);\n\n            return list._modelFromElement(element);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._dataSource();\n\n            this.list.setDataSource(this.dataSource);\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        setDependenciesDataSource: function(dependencies) {\n            this.options.dependencies = dependencies;\n\n            this._dependencies();\n\n            if (this.options.autoBind) {\n                dependencies.fetch();\n            }\n        },\n\n        items: function() {\n            return this.wrapper.children(\".k-task\");\n        },\n\n        _updateAssignments: function(id, resources) {\n            var dataSource = this.assignments.dataSource;\n            var taskId = this.assignments.dataTaskIdField;\n            var resourceId = this.assignments.dataResourceIdField;\n            var hasMatch = false;\n            var assignments = new Query(dataSource.view())\n                .filter({\n                    field: taskId,\n                    operator: \"eq\",\n                    value: id\n                }).toArray();\n            var assignment;\n            var resource;\n            var value;\n\n            while (assignments.length) {\n                assignment = assignments[0];\n\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n\n                    if (assignment.get(resourceId) === resource.get(\"id\")) {\n                        value = resources[i].get(\"value\");\n                        this._updateAssignment(assignment, value);\n                        resources.splice(i, 1);\n                        hasMatch = true;\n                        break;\n                    }\n                }\n\n                if (!hasMatch) {\n                    this._removeAssignment(assignment);\n                }\n\n                hasMatch = false;\n\n                assignments.shift();\n            }\n\n            for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                resource = resources[j];\n\n                if (resource.id !== undefined$1 && resource.value) {\n                    this._createAssignment(resource, id);\n                }\n            }\n\n            dataSource.sync();\n        },\n\n        cancelTask: function() {\n            var editor = this._editor;\n            var container = editor.container;\n\n            if (container) {\n                editor.close();\n            }\n\n            if (this.dependencies) {\n                this.dependencies.cancelChanges();\n            }\n        },\n\n        editTask: function(uid) {\n            var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n            if (!task) {\n                return;\n            }\n\n            var taskCopy = this.dataSource._createNewModel(task.toJSON());\n            taskCopy.uid = task.uid;\n\n            this.cancelTask();\n\n            this._editTask(taskCopy);\n        },\n\n        _editTask: function(task) {\n            this._editor.editTask(task, this.options.editable.plannedTasks);\n        },\n\n        saveTask: function(task, updateInfo, updateDependencies) {\n            var that = this,\n                editor = this._editor,\n                container = editor.container,\n                editable = editor.editable,\n                hasChanges = false,\n                hasResourceChanges = false,\n                updateInfo = updateInfo || {},\n                resourcesField = that.options.resources.field,\n                difference;\n\n            Object.keys(updateInfo).map(k => {\n                var updated = updateInfo[k],\n                    current = task.get(k);\n\n                if (updated instanceof Date) {\n                    updated = updated.getTime();\n                    current = current ? current.getTime() : undefined$1;\n                }\n\n                if (updated !== current) {\n                    if (k === resourcesField) {\n                        difference = updated\n                            .filter(u => !current.some(c => c.id === u.id && c.value === u.value))\n                            .concat(current.filter(c => !updated.some(u => u.id === c.id && c.value === u.value)));\n\n                        if (difference && difference.length > 0) {\n                            hasResourceChanges = true;\n                        }\n                    } else {\n                        hasChanges = true;\n                    }\n                }\n            });\n\n            if (container &&\n                editable &&\n                editable.end() &&\n                (hasChanges || hasResourceChanges || updateDependencies)) {\n                    if (!that.trigger(\"save\", { task: task, values: updateInfo, updateDependencies: updateDependencies })) {\n                        if (hasChanges) {\n                            that._preventRefresh = true;\n\n                            that.dataSource.update(task, updateInfo);\n                        }\n\n                        if (hasResourceChanges) {\n                            this._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                        }\n\n                        that._syncDataSource();\n\n                        if (this.dependencies) {\n                            this._updateDependency(updateDependencies);\n                        }\n\n                        this._editor.close();\n                    } else {\n                        if (task && task.dirty) {\n                            that.dataSource.cancelChanges(task);\n                            that._preventRefresh = false;\n                            that.refresh();\n                        }\n\n                        if (that.dependencies) {\n                            that.dependencies.cancelChanges();\n                        }\n                    }\n            } else if (editable && editable.end()) {\n                this._editor.close();\n            }\n        },\n\n        _updateDependency: function(updateDependencies) {\n            this.dependencies.filter({});\n\n            if (updateDependencies) {\n                updateDependencies.created.map(d => {\n                    this._preventDependencyRefresh = true;\n                    this.dependencies.add(d);\n                    this._preventDependencyRefresh = false;\n                });\n\n                updateDependencies.destroyed.map(d => {\n                    this.dependencies.remove(d);\n                });\n            }\n\n            this.dependencies.sync();\n        },\n\n        _updateTask: function(task, updateInfo) {\n            var that = this;\n            var resourcesField = that.resources.field;\n\n            if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                if (updateInfo) {\n                    that._preventRefresh = true;\n\n                    that.dataSource.update(task, updateInfo);\n\n                    if (updateInfo[resourcesField]) {\n                        that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                    }\n                }\n\n                that._syncDataSource();\n            } else {\n                if (task && task.dirty) {\n                    that.dataSource.cancelChanges(task);\n                    that._preventRefresh = false;\n                    that.refresh();\n                }\n\n                if (that.dependencies) {\n                    that.dependencies.cancelChanges();\n                }\n            }\n        },\n\n        _updateAssignment: function(assignment, value) {\n            var resourceValueField = this.assignments.dataValueField;\n\n            assignment.set(resourceValueField, value);\n        },\n\n        removeTask: function(uid) {\n            var that = this;\n            var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n            if (!task) {\n                return;\n            }\n\n            this._taskConfirm(function(cancel) {\n                if (!cancel) {\n                    that._removeTask(task);\n                }\n            }, task);\n        },\n\n        _createTask: function(task, index) {\n            if (!this.trigger(\"add\", {\n                task: task,\n                dependency: null\n            })) {\n                var dataSource = this.dataSource;\n\n                this._preventRefresh = true;\n\n                if (index === undefined$1) {\n                    dataSource.add(task);\n                } else {\n                    dataSource.insert(index, task);\n                }\n\n                this._scrollToUid = task.uid;\n                this._syncDataSource();\n            }\n        },\n\n        _createDependency: function(dependency) {\n            if (!this.trigger(\"add\", {\n                task: null,\n                dependency: dependency\n            })) {\n                this._preventDependencyRefresh = true;\n\n                this.dependencies.add(dependency);\n\n                this._preventDependencyRefresh = false;\n\n                this.dependencies.sync();\n            }\n        },\n\n        _createAssignment: function(resource, id) {\n            var assignments = this.assignments;\n            var dataSource = assignments.dataSource;\n            var taskId = assignments.dataTaskIdField;\n            var resourceId = assignments.dataResourceIdField;\n            var resourceValue = assignments.dataValueField;\n            var assignment = dataSource._createNewModel();\n\n            assignment[taskId] = id;\n            assignment[resourceId] = resource.get(\"id\");\n            assignment[resourceValue] = resource.get(\"value\");\n\n            dataSource.add(assignment);\n        },\n\n        removeDependency: function(uid) {\n            var that = this;\n            var dependency = typeof uid === \"string\" ? this.dependencies.getByUid(uid) : uid;\n\n            if (!dependency) {\n                return;\n            }\n\n            this._dependencyConfirm(function(cancel) {\n                if (!cancel) {\n                    that._removeDependency(dependency);\n                }\n            }, dependency);\n        },\n\n        _removeTaskDependencies: function(task, dependencies) {\n            this._preventDependencyRefresh = true;\n\n            for (var i = 0, length = dependencies.length; i < length; i++) {\n                this.dependencies.remove(dependencies[i]);\n            }\n\n            this._preventDependencyRefresh = false;\n\n            this.dependencies.sync();\n        },\n\n        _removeTaskAssignments: function(task) {\n            var dataSource = this.assignments.dataSource;\n            var assignments = dataSource.view();\n            var filter = {\n                field: this.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: task.get(\"id\")\n            };\n\n            assignments = new Query(assignments).filter(filter).toArray();\n\n            this._preventRefresh = true;\n\n            for (var i = 0, length = assignments.length; i < length; i++) {\n                dataSource.remove(assignments[i]);\n            }\n\n            this._preventRefresh = false;\n\n            dataSource.sync();\n        },\n\n        _removeTask: function(task) {\n            var dependencies = this.dependencies.dependencies(task.id);\n\n            if (!this.trigger(\"remove\", {\n                task: task,\n                dependencies: dependencies\n            })) {\n                this._removeTaskDependencies(task, dependencies);\n                this._removeTaskAssignments(task);\n\n                this._preventRefresh = true;\n\n                if (this.dataSource.remove(task)) {\n                    this._syncDataSource();\n                }\n\n                if (this.dependencies) {\n                    this.dependencies.filter({});\n                }\n\n                this._preventRefresh = false;\n            }\n        },\n\n        _removeDependency: function(dependency) {\n            if (!this.trigger(\"remove\", {\n                task: null,\n                dependencies: [dependency]\n            })) {\n                if (this.dependencies.remove(dependency)) {\n                    this.dependencies.sync();\n                }\n            }\n        },\n\n        _removeAssignment: function(assignment) {\n            this.assignments.dataSource.remove(assignment);\n        },\n\n        _taskConfirm: function(callback, task) {\n            var messages = this.options.messages;\n\n            this._confirm(callback, {\n                model: task,\n                text: messages.deleteTaskConfirmation,\n                title: messages.deleteTaskWindowTitle\n            });\n        },\n\n        _dependencyConfirm: function(callback, dependency) {\n            var messages = this.options.messages;\n\n            this._confirm(callback, {\n                model: dependency,\n                text: messages.deleteDependencyConfirmation,\n                title: messages.deleteDependencyWindowTitle\n            });\n        },\n\n        _confirm: function(callback, options) {\n            var editable = this.options.editable;\n\n            if (editable === true || editable.confirmation !== false) {\n                this.showDialog(extend(true, {}, options, { callback: callback }));\n            } else {\n                callback();\n            }\n        },\n\n        showDialog: function(options) {\n            this._editor.showDialog(options);\n        },\n\n        refresh: function() {\n            if (this._preventRefresh || !this.list || this.list.editor) {\n                return;\n            }\n\n            this._progress(false);\n\n            var dataSource = this.dataSource;\n            var taskTree = dataSource.taskTree();\n            var scrollToUid = this._scrollToUid;\n            var current;\n            var cachedUid;\n            var cachedIndex = -1;\n            var selected = this.select()[0] ? this.select().data(\"uid\") : this._selected;\n\n            if (this.current) {\n                cachedUid = this.current.closest(\"tr\").attr(kendo.attr(\"uid\"));\n                cachedIndex = this.current.index();\n            }\n\n            if (this.trigger(\"dataBinding\")) {\n                return;\n            }\n\n            if (this.resources.dataSource.data().length !== 0) {\n                this._assignResources(taskTree);\n            }\n\n            if (this._editor) {\n                this._editor.close();\n            }\n\n            this.clearSelection();\n            this.list._renderTree(taskTree);\n            this.timeline._render(taskTree);\n            this.timeline._renderDependencies(this.dependencies.view());\n\n            if (scrollToUid) {\n                this._scrollTo(scrollToUid);\n                this.select(selector(scrollToUid));\n            }\n\n            if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                current = this.list.element\n                    .find(\"tr\" + selector((scrollToUid || cachedUid)) + \" > td\").eq(cachedIndex);\n\n                this._current(current);\n            }\n\n            this._scrollToUid = null;\n\n            if (selected) {\n                this._selected = selected;\n                this.select(\"[data-uid=\" + selected + \"]\");\n            }\n\n            this.trigger(\"dataBound\");\n        },\n\n        refreshDependencies: function() {\n            if (this._preventDependencyRefresh) {\n                return;\n            }\n\n            if (this.trigger(\"dataBinding\")) {\n                return;\n            }\n\n            this.timeline._renderDependencies(this.dependencies.view());\n\n            this.trigger(\"dataBound\");\n        },\n\n        _assignResources: function(taskTree) {\n            var resources = this.resources;\n            var assignments = this.assignments;\n            var groupAssigments = function() {\n                var data = assignments.dataSource.view();\n                var group = {\n                    field: assignments.dataTaskIdField\n                };\n\n                data = new Query(data).group(group).toArray();\n\n                return data;\n            };\n            var assigments = groupAssigments();\n            var applyTaskResource = function(task, action) {\n                var taskId = task.get(\"id\");\n\n                kendo.setter(resources.field)(task, new ObservableArray([]));\n\n                for (var i = 0, length = assigments.length; i < length; i++) {\n                    if (assigments[i].value === taskId) {\n                        action(task, assigments[i].items);\n                    }\n                }\n            };\n            var wrapTask = function(task, items) {\n                for (var j = 0, length = items.length; j < length; j++) {\n                    var item = items[j];\n                    var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                    var resourceValue = item.get(assignments.dataValueField);\n                    var resourcedId = item.get(assignments.dataResourceIdField);\n                    var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                    var formatedValue = kendo.toString(resourceValue, valueFormat);\n\n                    task[resources.field].push(new ObservableObject({\n                        id: resourcedId,\n                        name: resource.get(resources.dataTextField),\n                        color: resource.get(resources.dataColorField),\n                        value: resourceValue,\n                        formatedValue: formatedValue,\n                        format: valueFormat\n                    }));\n                }\n            };\n\n            for (var i = 0, length = taskTree.length; i < length; i++) {\n                applyTaskResource(taskTree[i], wrapTask);\n            }\n        },\n\n        _wrapResourceData: function(id) {\n            var that = this;\n            var result = [];\n            var resource;\n            var resources = this.resources.dataSource.view();\n            var assignments = this.assignments.dataSource.view();\n            var taskAssignments = new Query(assignments).filter({\n                field: that.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: id\n            }).toArray();\n            var valuePerResource = function(id) {\n                var resourceValue = null;\n\n                new Query(taskAssignments).filter({\n                    field: that.assignments.dataResourceIdField,\n                    operator: \"eq\",\n                    value: id\n                }).select(function(assignment) {\n                    resourceValue += assignment.get(that.assignments.dataValueField);\n                });\n\n                return resourceValue;\n            };\n\n            for (var i = 0, length = resources.length; i < length; i++) {\n                resource = resources[i];\n                result.push({\n                    id: resource.get(\"id\"),\n                    name: resource.get(that.resources.dataTextField),\n                    format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                    value: valuePerResource(resource.id)\n                });\n            }\n\n            return result;\n        },\n\n        _syncDataSource: function() {\n            this._preventRefresh = false;\n            this._requestStart();\n            this.dataSource.sync();\n        },\n\n        _requestStart: function() {\n            this._progress(true);\n        },\n\n        _error: function() {\n            this._progress(false);\n        },\n\n        _progress: function(toggle) {\n            kendo.ui.progress(this.element, toggle);\n        },\n\n        _resizable: function() {\n            var that = this;\n            var wrapper = this.wrapper;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var treeListWrapper = wrapper.find(DOT + ganttStyles.list);\n            var timelineWrapper = wrapper.find(DOT + ganttStyles.timeline);\n            var treeListWidth;\n            var timelineWidth;\n            var timelineScroll;\n\n            this._resizeDraggable = wrapper\n                .find(DOT + ganttStyles.splitBar)\n                .height(treeListWrapper.height())\n                .hover(function() {\n                    $(this).addClass(ganttStyles.splitBarHover);\n                }, function() {\n                    $(this).removeClass(ganttStyles.splitBarHover);\n                })\n                .end()\n                .kendoResizable({\n                    orientation: \"horizontal\",\n                    handle: DOT + ganttStyles.splitBar,\n                    \"start\": function() {\n                        treeListWidth = treeListWrapper.width();\n                        timelineWidth = timelineWrapper.width();\n                        timelineScroll = kendo.scrollLeft(timelineWrapper.find(contentSelector));\n                    },\n                    \"resize\": function(e) {\n                        var delta = e.x.initialDelta;\n\n                        if (kendo.support.isRtl(wrapper)) {\n                            delta *= -1;\n                        }\n\n                        if (treeListWidth + delta < 0 || timelineWidth - delta < 0) {\n                            return;\n                        }\n\n                        treeListWrapper.width(treeListWidth + delta);\n                        timelineWrapper.width(timelineWidth - delta);\n                        kendo.scrollLeft(timelineWrapper.find(contentSelector), (timelineScroll + delta));\n\n                        that.timeline.view()._renderCurrentTime();\n                    }\n                }).data(\"kendoResizable\");\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n            var timelineHeader = this.timeline.element.find(headerSelector);\n            var timelineContent = this.timeline.element.find(contentSelector);\n            var treeListHeader = this.list.element.find(headerSelector);\n            var treeListContent = this.list.element.find(contentSelector);\n\n            if (mobileOS) {\n                treeListContent.css(\"overflow-y\", \"auto\");\n            }\n\n            timelineContent.on(\"scroll\", function() {\n                that.scrollTop = this.scrollTop;\n                kendo.scrollLeft(timelineHeader, this.scrollLeft);\n                treeListContent.scrollTop(this.scrollTop);\n            });\n\n            treeListContent\n                .on(\"scroll\", function() {\n                    kendo.scrollLeft(treeListHeader, this.scrollLeft);\n                })\n                .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, function(e) {\n                    var scrollTop = timelineContent.scrollTop();\n                    var delta = kendo.wheelDeltaY(e);\n\n                    if (delta) {\n                        e.preventDefault();\n                        //In Firefox DOMMouseScroll event cannot be canceled\n                        $(e.currentTarget).one(\"wheel\" + NS, false);\n\n                        timelineContent.scrollTop(scrollTop + (-delta));\n                    }\n                });\n        },\n\n        _navigatable: function() {\n            var that = this;\n            var navigatable = this.options.navigatable;\n            var editable = this.options.editable;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n            var headerTable = this.list.element.find(headerSelector).find(\"table\");\n            var contentTable = this.list.element.find(contentSelector).find(\"table\");\n            var isRtl = kendo.support.isRtl(this.wrapper);\n            var timelineContent = this.timeline.element.find(DOT + ganttStyles.gridContent);\n            var tables = headerTable.add(contentTable);\n            var attr = selector();\n            var cellIndex;\n            var expandState = {\n                collapse: false,\n                expand: true\n            };\n\n            var scroll = function(reverse) {\n                var width = that.timeline.view()._timeSlots()[0].offsetWidth;\n                kendo.scrollLeft(timelineContent, kendo.scrollLeft(timelineContent) + (reverse ? -width : width));\n            };\n\n            var scrollVertical = function(reverse) {\n                var height = that.timeline.view()._rowHeight;\n                timelineContent.scrollTop(timelineContent.scrollTop() + (reverse ? -height : height));\n            };\n\n            var moveVertical = function(method) {\n                var parent = that.current.parent(\"tr\" + selector());\n                var index = that.current.index();\n                var sibling = parent[method]('tr:visible').first();\n\n                if (sibling.length !== 0) {\n                    that._current(sibling.children(\"td\").eq(index));\n                    that._scrollTo(that.current);\n                } else {\n                    if (that.current.is(\"td\") && method == \"prevAll\") {\n                        focusTable(headerTable);\n                        that._current(headerTable.find(\"tr\").last().children(\"th\").eq(index));\n                        that._scrollTo(that.current);\n                    } else if (that.current.is(\"th\") && method == \"nextAll\") {\n                        focusTable(contentTable);\n                        that._current(contentTable.find(\"tr\").first().children(\"td\").eq(index));\n                        that._scrollTo(that.current);\n                    }\n                }\n            };\n            var moveHorizontal = function(method) {\n                var subling = that.current[method]();\n\n                if (subling.length !== 0) {\n                    that._current(subling);\n                    cellIndex = that.current.index();\n                }\n            };\n            var toggleExpandedState = function(value) {\n                var model = that.dataItem(that.current);\n\n                if (model.summary && model.expanded !== value) {\n                    model.set(\"expanded\", value);\n                }\n            };\n            var deleteAction = function() {\n                var editable = that.options.editable;\n\n                if (!editable || editable.destroy === false || that.list.editor) {\n                    return;\n                }\n\n                var selectedTask = that.select();\n                var uid = kendo.attr(\"uid\");\n\n                if (selectedTask.length) {\n                    that.removeTask(selectedTask.attr(uid));\n                }\n            };\n\n            $(this.wrapper)\n                .on(\"mousedown\" + NS, \"tr\" + attr + \", div\" + attr + \":not(\" + DOT + ganttStyles.line + \")\", function(e) {\n                    var currentTarget = $(e.currentTarget);\n                    var isInput = $(e.target).is(\":button,a,:input,a>.k-icon,.k-svg-icon,k-svg-icon,svg,path,textarea,span.k-icon:not(.k-i-none),span.k-svg-icon:not(.k-svg-i-none),span.k-link,.k-input,.k-multiselect-wrap,.k-input-value-text,.k-input-inner\");\n                    var current;\n\n                    if (e.ctrlKey) {\n                        return;\n                    }\n\n                    if (navigatable) {\n                        if (currentTarget.is(\"tr\")) {\n                            current = $(e.target).closest(\"td\");\n                        } else {\n                            current = that.list\n                                .content.find(\"tr\" + selector(currentTarget.attr(kendo.attr(\"uid\"))) + \" > td\").first();\n                        }\n\n                        that._current(current);\n                    }\n\n                    if ((navigatable || editable) && !isInput) {\n                        that._focusTimeout = setTimeout(function() {\n                            focusTable(that.list.content.find(\"table\"), true);\n                        }, 2);\n                    }\n                })\n                .on(\"keydown\" + NS, function(e) {\n                    var key = e.keyCode;\n                    var that = this;\n\n                    if (key === keys.F10) {\n                        that.toolbar.find(\"[tabindex=0]:visible\").first().addClass(ganttStyles.focused).trigger(\"focus\");\n                        e.preventDefault();\n                    } else if (key == keys.TAB && $(e.target).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                        if (this.list.element.is(\":visible\")) {\n                            this.list.element.find(\"table[role=treegrid]\").trigger(\"focus\");\n                        } else {\n                            this.element.find(DOT + ganttStyles.tasks)[0].focus();\n                        }\n                        e.preventDefault();\n                    }\n\n                }.bind(this));\n\n            if (navigatable !== true) {\n                contentTable\n                    .on(\"keydown\" + NS, function(e) {\n                        if (e.keyCode == keys.DELETE) {\n                            deleteAction();\n                        }\n                    });\n\n                return;\n            }\n\n            tables\n                .on(\"focus\" + NS, function() {\n                    var selector = this === contentTable.get(0) ? \"td\" : \"th\";\n                    var selection = that.select();\n                    var current = that.current || $((selection.length ? selection : this))\n                        .find(selector).eq((cellIndex || 0));\n\n                    that._current(current);\n                    $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                })\n                .on(\"blur\" + NS, function() {\n                    that._current();\n\n                    if (this == headerTable) {\n                        $(this).attr(TABINDEX, -1);\n                    }\n                })\n                .on(\"keydown\" + NS, function(e) {\n                    var key = e.keyCode;\n                    var isCell;\n\n                    if (!that.current) {\n                        return;\n                    }\n\n                    isCell = that.current.is(\"td\");\n\n                    switch (key) {\n                        case keys.RIGHT:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scroll();\n                            } else if (e.ctrlKey) {\n                                toggleExpandedState(isRtl ? expandState.collapse : expandState.expand);\n                            } else {\n                                moveHorizontal(isRtl ? \"prev\" : \"next\");\n                            }\n                            break;\n                        case keys.LEFT:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scroll(true);\n                            } else if (e.ctrlKey) {\n                                toggleExpandedState(isRtl ? expandState.expand : expandState.collapse);\n                            } else {\n                                moveHorizontal(isRtl ? \"next\" : \"prev\");\n                            }\n                            break;\n                        case keys.UP:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scrollVertical(true);\n                            } else {\n                                moveVertical(\"prevAll\");\n                            }\n                            break;\n                        case keys.DOWN:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scrollVertical();\n                            } else {\n                                moveVertical(\"nextAll\");\n                            }\n                            break;\n                        case keys.SPACEBAR:\n                            e.preventDefault();\n                            if (isCell) {\n                                if (!that.select() || that.current.closest(\"tr\")[0] !== that.select()[0]) {\n                                    that.select(that.current.closest(\"tr\"));\n                                    that.trigger(\"change\");\n                                }\n                            }\n                            break;\n                        case keys.ENTER:\n                            e.preventDefault();\n                            if (isCell) {\n                                if (that.options.editable && that.options.editable.update !== false) {\n                                    that.list._startEditHandler(that.current);\n                                    $(this).one(\"keyup\", function(e) {\n                                        /* Stop the event propagation so that the list widget won't close its editor immediately */\n                                        e.stopPropagation();\n                                    });\n                                }\n                            } else {\n                                /* Sort */\n                                that.current\n                                    .children(\"a.k-link\")\n                                    .click();\n                            }\n                            break;\n                        case keys.DELETE:\n                            if (isCell) {\n                                deleteAction();\n                            }\n                            break;\n                        default:\n                            if (key >= 49 && key <= 57 && e.target.tagName.toLowerCase() !== \"input\") {\n                               that.view(that.timeline._viewByIndex(key - 49));\n                            }\n                            break;\n                    }\n                });\n        },\n\n        _current: function(element) {\n            var ganttStyles = Gantt.styles;\n            var activeElement;\n\n            if (this.current && this.current.length) {\n                this.current\n                    .removeClass(ganttStyles.focusedCell)\n                    .removeAttr(\"id\");\n            }\n\n            if (element && element.length) {\n                this.current = element\n                    .addClass(ganttStyles.focusedCell)\n                    .attr(\"id\", ACTIVE_CELL);\n\n                activeElement = $(kendo._activeElement());\n\n                if (activeElement.is(\"table\") && this.wrapper.find(activeElement).length > 0) {\n                    activeElement\n                        .removeAttr(ARIA_DESCENDANT)\n                        .attr(ARIA_DESCENDANT, ACTIVE_CELL);\n                }\n            } else {\n                this.current = null;\n            }\n        },\n\n        _dataBind: function() {\n            var that = this;\n\n            if (that.options.autoBind) {\n                this._preventRefresh = true;\n                this._preventDependencyRefresh = true;\n\n                var promises = $.map([\n                    this.dataSource,\n                    this.dependencies,\n                    this.resources.dataSource,\n                    this.assignments.dataSource\n                ],\n                function(dataSource) {\n                    return dataSource.fetch();\n                });\n\n                $.when.apply(null, promises)\n                    .done(function() {\n                        that._preventRefresh = false;\n                        that._preventDependencyRefresh = false;\n                        that.refresh();\n                    });\n            }\n        },\n\n        _resize: function() {\n            this._adjustDimensions();\n            this.timeline.view()._adjustHeight();\n            this.timeline.view()._renderCurrentTime();\n            this.list._adjustHeight();\n        },\n\n        _togglePlannedTasks: function(e) {\n            var timeline = this.timeline;\n\n            if (!this.trigger(\"togglePlannedTasks\", { showPlannedTasks: !timeline.options.showPlannedTasks })) {\n                this.wrapper.toggleClass(ganttStyles.plannedTasks);\n                timeline._setPlanned(!timeline.options.showPlannedTasks);\n                timeline._render(this.dataSource.taskTree());\n                timeline._renderDependencies(this.dependencies.view());\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    if (kendo.PDFMixin) {\n        kendo.PDFMixin.extend(Gantt.fn);\n\n        Gantt.fn._drawPDF = function() {\n            var ganttStyles = Gantt.styles;\n            var listTableWidth = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").width();\n            var content = this.wrapper.clone();\n\n            content.find(DOT + ganttStyles.list).css(\"width\", listTableWidth);\n\n            return this._drawPDFShadow({\n                content: content\n            }, {\n                avoidLinks: this.options.pdf.avoidLinks\n            });\n        };\n    }\n\n    kendo.ui.plugin(Gantt);\n\n    extend(true, Gantt, { styles: ganttStyles });\n\n})(window.kendo.jQuery);\n"]}