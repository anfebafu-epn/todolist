{"version":3,"file":"kendo.mobile.modalview.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","ui","window","kendo","mobile","Shim","Widget","BEFORE_OPEN","OPEN","CLOSE","INIT","ModalView","View","extend","init","element","options","that","this","fn","call","_id","_wrap","_shim","$angular","_layout","_scroller","_model","css","trigger","events","modal","width","height","destroy","shim","open","target","show","_invokeNgController","view","openFor","close","is","hide","style","addClass","wrap","wrapper","parent","position","align","effect","className","e","preventDefault","plugin","jQuery"],"sources":["kendo.mobile.modalview.js"],"mappings":"MAAO,+BACA,yBAEP,IAAIA,SAAW,CACXC,GAAI,mBACJC,KAAM,YACNC,SAAU,SACVC,YAAa,0GACbC,QAAS,CAAE,cAAe,iBAG9B,SAAUC,EAAGC,GACT,IACIC,EADQC,OAAOC,MACJC,OAAOH,GAClBI,EAAOJ,EAAGI,KACVC,EAASL,EAAGK,OACZC,EAAc,aACdC,EAAO,OACPC,EAAQ,QACRC,EAAO,OAGPC,EAAYV,EAAGW,KAAKC,OAAO,CAC3BC,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAEXZ,EAAOa,GAAGL,KAAKM,KAAKH,EAAMF,EAASC,GAEnCC,EAAKI,MACLJ,EAAKK,QACLL,EAAKM,QAEAL,KAAKF,QAAQQ,WACdP,EAAKQ,UACLR,EAAKS,YACLT,EAAKU,UAGTV,EAAKF,QAAQa,IAAI,UAAW,IAE5BX,EAAKY,QAAQnB,EACjB,EAEAoB,OAAQ,CACJpB,EACAH,EACAC,EACAC,GAGJO,QAAS,CACLrB,KAAM,YACNoC,OAAO,EACPC,MAAO,KACPC,OAAQ,MAGZC,QAAS,WACL5B,EAAOa,GAAGe,QAAQd,KAAKF,MACvBA,KAAKiB,KAAKD,SACd,EAEAE,KAAM,SAASC,GACX,IAAIpB,EAAOC,KACXD,EAAKoB,OAAStC,EAAEsC,GAChBpB,EAAKkB,KAAKG,OAEVrB,EAAKsB,sBAGLtB,EAAKY,QAAQ,OAAQ,CAAEW,KAAMvB,GACjC,EAGAwB,QAAS,SAASJ,GACTnB,KAAKW,QAAQtB,EAAa,CAAE8B,OAAQA,MACrCnB,KAAKkB,KAAKC,GACVnB,KAAKW,QAAQrB,EAAM,CAAE6B,OAAQA,IAErC,EAEAK,MAAO,WACCxB,KAAKH,QAAQ4B,GAAG,cAAgBzB,KAAKW,QAAQpB,IAC7CS,KAAKiB,KAAKS,MAElB,EAEAtB,MAAO,WACH,IAGIU,EAAOC,EAHPhB,EAAOC,KACPH,EAAUE,EAAKF,QACfC,EAAUC,EAAKD,QAGnBgB,EAAQjB,EAAQ,GAAG8B,MAAMb,OAAS,OAClCC,EAASlB,EAAQ,GAAG8B,MAAMZ,QAAU,OAEpClB,EAAQ+B,SAAS,gBAAgBC,KA5E9B,4CA8EH9B,EAAK+B,QAAUjC,EAAQkC,SAASrB,IAAI,CAChCI,MAAOhB,EAAQgB,OAASA,GAAS,IACjCC,OAAQjB,EAAQiB,QAAUA,GAAU,MACrCa,SAAmB,QAAVb,EAAmB,kBAAoB,IAEnDlB,EAAQa,IAAI,CAAEI,MAAO,GAAIC,OAAQ,IACrC,EAEAV,MAAO,WACH,IAAIN,EAAOC,KAEXD,EAAKkB,KAAO,IAAI9B,EAAKY,EAAK+B,QAAS,CAC/BjB,MAAOd,EAAKD,QAAQe,MACpBmB,SAAU,gBACVC,MAAO,gBACPC,OAAQ,UACRC,UAAW,oBACXT,KAAM,SAASU,GACPrC,EAAKY,QAAQpB,IACb6C,EAAEC,gBAEV,GAER,IAGJtD,EAAGuD,OAAO7C,EACb,CAlHD,CAkHGT,OAAOC,MAAMsD","sourcesContent":["import './kendo.mobile.shim.js';\nimport './kendo.mobile.view.js';\n\nvar __meta__ = {\n    id: \"mobile.modalview\",\n    name: \"ModalView\",\n    category: \"mobile\",\n    description: \"The Kendo ModalView is used to present self-contained functionality in the context of the current task.\",\n    depends: [ \"mobile.shim\", \"mobile.view\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Widget = ui.Widget,\n        BEFORE_OPEN = \"beforeOpen\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        INIT = \"init\",\n        WRAP = '<div class=\"km-modalview-wrapper\"></div>';\n\n    var ModalView = ui.View.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._id();\n            that._wrap();\n            that._shim();\n\n            if (!this.options.$angular) {\n                that._layout();\n                that._scroller();\n                that._model();\n            }\n\n            that.element.css(\"display\", \"\");\n\n            that.trigger(INIT);\n        },\n\n        events: [\n            INIT,\n            BEFORE_OPEN,\n            OPEN,\n            CLOSE\n        ],\n\n        options: {\n            name: \"ModalView\",\n            modal: true,\n            width: null,\n            height: null\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.destroy();\n        },\n\n        open: function(target) {\n            var that = this;\n            that.target = $(target);\n            that.shim.show();\n\n            that._invokeNgController();\n\n            // necessary for the mobile view interface\n            that.trigger(\"show\", { view: that });\n        },\n\n        // Interface implementation, called from the pane click handlers\n        openFor: function(target) {\n            if (!this.trigger(BEFORE_OPEN, { target: target })) {\n                this.open(target);\n                this.trigger(OPEN, { target: target });\n            }\n        },\n\n        close: function() {\n            if (this.element.is(\":visible\") && !this.trigger(CLOSE)) {\n                this.shim.hide();\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                width, height;\n\n            width = element[0].style.width || \"auto\";\n            height = element[0].style.height || \"auto\";\n\n            element.addClass(\"km-modalview\").wrap(WRAP);\n\n            that.wrapper = element.parent().css({\n                width: options.width || width || 300,\n                height: options.height || height || 300\n            }).addClass(height == \"auto\" ? \" km-auto-height\" : \"\");\n\n            element.css({ width: \"\", height: \"\" });\n        },\n\n        _shim: function() {\n            var that = this;\n\n            that.shim = new Shim(that.wrapper, {\n                modal: that.options.modal,\n                position: \"center center\",\n                align: \"center center\",\n                effect: \"fade:in\",\n                className: \"km-modalview-root\",\n                hide: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    }\n                }\n            });\n        }\n    });\n\n    ui.plugin(ModalView);\n})(window.kendo.jQuery);\n"]}