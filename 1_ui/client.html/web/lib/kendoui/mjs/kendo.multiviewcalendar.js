/**
 * Kendo UI v2023.2.606 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.selectable.js";import"./kendo.calendar.js";import"./kendo.icons.js";var __meta__={id:"multiviewcalendar",name:"MultiViewCalendar",category:"web",description:"Multi-view calendar.",depends:["core","selectable","calendar"]};!function(e,t){var a=window.kendo,n=a.calendar,l=a.support,i=n.isInRange,s=n.toDateObject,r=n.createDate,o=n.isEqualDate,c=n.getToday,u=a.keys,d=a.ui,_=d.Widget,f=d.Selectable,g=a.template,v=l.mobileOS,h=".kendoMultiViewCalendar",b="click",m="id",p="month",k=".",w=" ",C="century",D="change",S="navigate",y="value",V="k-focus",x="k-selected",A="k-range-mid",F="k-range-split-end",T="k-range-split-start",M="k-range-start",Y="k-range-end",R="k-hover",E="k-disabled",B="k-calendar-nav-today",N="k-out-of-range",$="k-calendar-view",W="td:has(.k-link):not(."+N+")",I="td:has(.k-link):not(."+E+"):not(."+N+")",z="blur",P="focus",O=l.touch?"touchstart":"mouseenter",H=l.touch?"touchend"+h+" touchmove"+h:"mouseleave"+h,U="_prevArrow",j="_nextArrow",G="range",q="single",K="multiple",L="table",Q="tbody",J="thead",X="th",Z="role",ee="none",te="aria-selected",ae="aria-disabled",ne="aria-label",le="aria-activedescendant",ie=Date,se={month:0,year:1,decade:2,century:3},re=_.extend({init:function(e,t){var n=this;_.fn.init.call(n,e,t),n.calendar=t.calendar,n.userEvents=new a.UserEvents(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,tap:n._tap.bind(n),touchAction:ee})},events:[D],options:{name:"RangeSelectable",filter:">*",inputSelectors:"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up",multiple:!1,dragToSelect:!0,relatedTarget:e.noop},destroy:function(){var e=this;_.fn.destroy.call(e),e.userEvents.destroy(),e.calendar=null,e._lastActive=e.element=e.userEvents=e._start=e._end=null},_allowSelection:function(t){return!e(t).is(this.options.inputSelectors)||(this.userEvents.cancel(),!1)},start:function(e){if(e===t)return this._start;e.addClass(M+" "+x).attr(te,!0),this._start=e},end:function(e){if(e===t)return this._start;e.addClass(Y+" "+x).attr(te,!0),this._end=e},mid:function(t){var a=this.element.find("table.k-month");t.addClass(A).attr(te,!0),a.each((function(){var t=e(this),a=t.find(I).last(),n=t.find(I).first();a.hasClass(A)&&a.addClass(F),n.hasClass(A)&&n.addClass(T)}))},clear:function(e){this.element.find(W).removeClass(Y+" "+x+" "+M+" "+A+" "+F+" "+T).removeAttr(te),e&&(this._start=this._end=null)},selectFrom:function(t){var a,n,l=this;a=l.element.find(W),n=e.inArray(e(t)[0],a),l.clear(),l.start(t),a=a.filter((function(e){return e>n})),l.mid(a)},selectTo:function(t){var a,n,l=this;a=l.element.find(W),n=e.inArray(e(t)[0],a),l.clear(),a=a.filter((function(e){return e<n})),l.mid(a),l.end(e(t))},range:function(a,n){var l,i,s,r,o=this;if(a===t)return{start:o._start,end:o._end};l=o.element.find(W),i=e.inArray(e(a)[0],l),-1==(s=e.inArray(e(n)[0],l))&&(s=l.length),i>s&&(r=n,n=a,a=r,r=i,i=s,s=r),o.clear(),a.addClass(M+" "+x).attr(te,!0),o._start=a,l=l.filter((function(e){return e>i&&e<s})),o.mid(l),n?o.end(e(n)):o._useEnd=!0},change:function(){this.trigger(D)},_clearFlags:function(){this._useStart=this._useEnd=!1},_tap:function(t){var a,n,l,i=e(t.target),r=this.calendar.selectRange()||{},o=r.start,c=r.end,u=this,d=s(e(i).find("a"));if(u._lastActive=i,!o||+o>+d)return u.clear(!0),u.start(i),u._clearFlags(),void u.trigger(D);if(o&&!c)return a=u.element.find(W),n=e.inArray(e(u._start)[0],a),l=e.inArray(e(i)[0],a),o&&(u._useStart=!0),a=a.filter((function(e){return e>n&&e<l})),u.mid(a),u.end(e(i)),u.trigger(D),void u._clearFlags();if(o&&c){if(i.hasClass(A))return u._toggling?u.range(u._start,i):u.range(i,u._end),u._toggling=!u._toggling,u.trigger(D),void u._clearFlags();u._toggling=!1,u._end=null,u.clear(),u.start(i),u.trigger(D),u._clearFlags()}}}),oe=_.extend({init:function(t,l){var i,s,r=this;_.fn.init.call(r,t,l),t=r.wrapper=r.element,l=r.options,r.options.disableDates=n.disabled(r.options.disableDates),s=a.getCulture(l.culture),l.format=a._extractFormat(l.format||s.calendars.standard.patterns.d),r._templates(),r._header(),r._wrapper(),(i=t.addClass(`k-widget k-calendar k-calendar-range ${a.getValidCssClass("k-calendar-","size",r.options.size||"medium")}`+(l.weekNumber?" k-week-number":"")).on("keydown"+h,k+$,r._move.bind(r)).on(P+h,k+$,r._focus.bind(r)).on(z+h,k+$,r._blur.bind(r)).on(b+h,I,(function(t){var a=t.currentTarget.firstChild;-1!=a.href.indexOf("#")&&t.preventDefault(),r._click(e(a))})).on(O+h,I,r._mouseEnter.bind(r)).on(H,I,(function(){e(this).removeClass(R)})).attr(m))||(i=a.guid()),r._cellID=i+"_cell_selected",r._calendarWidth=r.element.width(),r._range=l.range,r._initViews({viewName:l.start,value:l.value}),r._selectable(),r._footer(r.footer),r._selectDates=[],r.value(l.value),r._addSelectedCellsToArray(),l.selectable==K&&(r._selectDates=l.selectDates.length?l.selectDates:r._selectDates,r._restoreSelection()),l.selectable==G&&r.selectRange(r._range),a.notify(r)},options:{name:"MultiViewCalendar",value:null,min:new ie(1900,0,1),max:new ie(2099,11,31),dates:[],disableDates:null,culture:"",footer:"",format:"",month:{},range:{start:null,end:null},weekNumber:!1,views:2,showViewHeader:!1,selectable:q,selectDates:[],start:p,depth:p,messages:{weekColumnHeader:""},size:"medium",orientation:"horizontal"},events:[D,S],setOptions:function(e){var t=this;n.normalize(e),e.disableDates=n.disabled(e.disableDates),_.fn.setOptions.call(t,e),t._selectable(),t._templates(),t._footer(t.footer);for(var a=0;a<t._views.length;a++)t._views[a].off(h).remove();t._initViews({viewName:e.start,value:e.value}),t._range=e.range||{start:null,end:null},t._restoreSelection()},destroy:function(){var e=this;if(e._cell=null,e._currentView=null,e._current=null,e._views)for(var t=0;t<e._views.length;t++)e._views[t].off(h).remove();e.element.off(h),e.header&&(e.header.off(h),e._title=null,e.header=null),e.selectable&&(e.selectable.destroy(),e.selectable=null),e.rangeSelectable&&(e.rangeSelectable.destroy(),e.rangeSelectable=null),e._today&&a.destroy(e._today.off(h)),e._views=null,_.fn.destroy.call(e)},current:function(){return this._current},focus:function(){this.tablesWrapper.trigger("focus")},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},view:function(){return this._currentView},navigateToPast:function(){this._navigate(U,-1)},navigateToFuture:function(){this._navigate(j,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass(E)||e.navigate(e._current,++t)},navigateDown:function(e){var t=this,a=t._index,n=t.options.depth;e&&(a!==se[n]?t.navigate(e,--a):o(t._value,t._current)&&o(t._value,e)||(t.value(e),t.trigger(D)))},navigate:function(e,a){a=isNaN(a)?n.views[n.viewsEnum[a]]:n.views[a];var l=this,i=l.options,s=i.min,r=i.max;l._current=e||(e=new ie(+n.restrictValue(e,s,r))),a===t&&(a=l._currentView),l._currentView=a;for(var o=0;o<l._views.length;o++)l._views[o].off(h).remove();l._initViews({viewName:a.name,value:e}),l._restoreSelection()},_aria:function(){var e=this.tablesWrapper.find(L),t=e.first().find(J).add(e.find(Q)),a=this._currentView.name;e.removeAttr("tabindex"),e.attr({role:ee}),t.attr({role:"rowgroup"}),a===p&&this._ariaMonth()},_ariaMonth:function(){var t=this.tablesWrapper.find(L),a=t.first().find(J).add(t.find(Q)).find("tr"),n=t.not(":eq(0)").find(J+w+"tr"),l=n.find(X),i=t.first().find(J+w+X),s=t.find(Q+w+X),r=t.find(k+N);i.attr({role:"columnheader"}),s.attr({role:"rowheader"}),r.removeAttr(Z),n.removeAttr(Z),l.removeAttr(ne).removeAttr(Z),a.each((function(t,n){var l,i=e(n),s=i.find(k+N).length,r=[];1===t?i.children().filter(k+N).attr({"aria-hidden":"false",role:"gridcell"}):7===s?(i.removeAttr(Z),i.find(X).removeAttr(Z)):s>0&&s<7&&i.children().not(X).first().hasClass(N)&&(i.find(X).removeAttr(Z),(l=a.eq(t-1)).attr(Z)&&l.attr(Z)!==ee||(l=a.eq(t-2)),i.children().not(X).each((function(a,n){var l,i=e(n);i.hasClass(N)||(l="owned_"+t+"_"+a,i.attr(m,l),r.push(l))})),i.removeAttr(Z),l.attr("aria-owns",r.join(" ")))}))},_updateHeader:function(){var t,n,l,s,r=this,o=r._currentView,c=r._title,u=r._firstViewValue,d=r.options,_=r._visibleRange(),f=d.culture,g=d.min,v=d.max;"decade"===o.name||o.name===C?(t=ue(u,o.name,d.views-1),i(t,g,v)||(t=v),c.html('<span class="k-button-text">'+o.first(u).getFullYear()+" - "+o.last(t).getFullYear()+"</span>")):c.html('<span class="k-button-text">'+o.title(u,g,v,f)+" - "+o.title(ue(u,o.name,d.views-1),g,v,f)+"</span>"),n=o.name===C,c.toggleClass(E,n).attr(ae,n),l=o.compare(_.start,r.options.min)<1,s=o.compare(_.end,r.options.max)>-1,l&&s?r._navContainer&&(r._navContainer.remove(),r._navContainer=null):(r._navContainer||(r._navContainer=e(`<span class="k-calendar-nav ${"vertical"!=r.options.orientation?"k-hstack":"k-vstack"}"><a tabindex="-1" href="#" role="button" class="k-button ${a.getValidCssClass("k-button-","size",r.options.size||"medium")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-prev-view" `+ne+`="Previous">${a.ui.icon({icon:"chevron-left",iconClass:"k-button-icon"})}</a>`+`<a tabindex="-1" href="#" role="button" class="k-button ${a.getValidCssClass("k-button-","size",r.options.size||"medium")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-next-view" `+ne+`="Next">${a.ui.icon({icon:"chevron-right",iconClass:"k-button-icon"})}</a></span>`).appendTo(r.header),r[U]=r._navContainer.find(".k-calendar-prev-view"),r[j]=r._navContainer.find(".k-calendar-next-view")),r[U].toggleClass(E,l).attr(ae,l),r[U].hasClass(E)&&r[U].removeClass(R),r[j].toggleClass(E,s).attr(ae,s),r[j].hasClass(E)&&r[j].removeClass(R))},_mouseEnter:function(t){var a,n,l=this,i=e(t.currentTarget);if(i.addClass(R),l.rangeSelectable&&l._currentView.name===p&&(a=l.selectRange()).start&&!a.end){if(l._dateInViews(l.selectRange().start)){if(n=l.element.find(l.rangeSelectable.options.filter),e.inArray(e(l.rangeSelectable._start)[0],n)>e.inArray(e(i)[0],n))return;l.rangeSelectable.range(l.rangeSelectable._start,i)}else+s(l.element.find(W).first().find("a"))>+a.start&&l.rangeSelectable.selectTo(i);l.rangeSelectable._end=null}},_move:function(n){var l,o,c,d,_,f,g=this,v=g.options,h=n.keyCode,b=g._index,m=v.min,w=v.max,C=g.element.find(k+V),y=C.closest(L),A=new ie(+(g._current||s(C.find("a")))),F=a.support.isRtl(g.wrapper),T=!1;if(h==u.RIGHT&&!F||h==u.LEFT&&F?(l=1,o=!0):h==u.LEFT&&!F||h==u.RIGHT&&F?(l=-1,o=!0):h==u.UP?(l=0===b?-7:-4,o=!0):h==u.DOWN?(l=0===b?7:4,o=!0):h==u.SPACEBAR?(l=0,o=!0):h==u.HOME?(o=!0,(c=y.find(I).eq(0)).hasClass(V)?(y=y.prev()).length?g._focusCell(y.find(I).eq(0)):(T=g[U]&&!g[U].hasClass(E),g._navigate(U,-1),g._focusCell(g.element.find(L).first().find(I).first())):g._focusCell(c)):h==u.END?(o=!0,(c=y.find(I).last()).hasClass(V)?(y=y.next()).length?g._focusCell(y.find(I).last()):(T=g[j]&&!g[j].hasClass(E),g._navigate(j,1),g._focusCell(g.element.find(L).last().find(I).last())):g._focusCell(c)):84===h&&(g._todayClick(n),o=!0),n.ctrlKey||n.metaKey)h==u.RIGHT&&!F||h==u.LEFT&&F?(T=g[j]&&!g[j].hasClass(E),g._navigate(j,1),o=!0):h==u.LEFT&&!F||h==u.RIGHT&&F?(T=g[U]&&!g[U].hasClass(E),g._navigate(U,-1),o=!0):h==u.UP?(T=!g._title.hasClass(E),g.navigateUp(),g._focusCell(g._cellByDate(g._current)),o=!0):h==u.DOWN?(g._currentView.name===p?g.value(A):(g.navigateDown(A),g._focusCell(g._cellByDate(g._current)),T=!0),o=!0):h!=u.ENTER&&h!=u.SPACEBAR||v.selectable===K&&g._toggleSelection(n);else if(n.shiftKey&&v.selectable!==q){if(l!==t){if(g._currentView.setDate(A,l),g._currentView.name!==p)return;v.disableDates(A)&&(A=g._nextNavigatable(A,l)),m=r(m.getFullYear(),m.getMonth(),m.getDate()),i(A,m,w)&&(g._dateInViews(A)||(l>0?(T=g[j]&&!g[j].hasClass(E),g._navigate(j,1)):(T=g[U]&&!g[U].hasClass(E),g._navigate(U,-1))),c=g._cellByDate(A),g._current=A,g.selectable&&(g._selectRange(s((g.selectable._lastActive||C).find("a")),A),g.selectable._lastActive||(g.selectable._lastActive=C),g.trigger(D),g._focusCell(c)),g.rangeSelectable&&(d=s((g.rangeSelectable._lastActive||C).find("a")),g._dateInViews(d)?(g.rangeSelectable._end&&g.rangeSelectable._end.is(k+V)?g.rangeSelectable._lastActive=g.rangeSelectable._start:g.rangeSelectable._lastActive=g._cellByDate(d),g.rangeSelectable.range(g.rangeSelectable._lastActive,c)):+d>+A?(g.rangeSelectable._end=g.rangeSelectable._lastActive,g.rangeSelectable.selectFrom(c)):g.rangeSelectable.selectTo(c),g.rangeSelectable.change(),g._focusCell(c)))}}else h==u.ENTER||h==u.SPACEBAR?(g._currentView.name===p?(f=!C.hasClass(x)||g.element.find(k+x).length>1,g.value(A),g.selectable&&(g.selectable._lastActive=g._cellByDate(A),f&&g.selectable.trigger(D,{event:n})),g.rangeSelectable&&g.rangeSelectable.change()):g._click(e(g._cell[0].firstChild)),o=!0):h!=u.PAGEUP&&h!=u.PAGEDOWN||(o=!0,_=y.find(I).index(C),(y=h==u.PAGEUP?y.prev():y.next()).length||(h==u.PAGEUP?(T=g[U]&&!g[U].hasClass(E),g.navigateToPast(),y=g.element.find(L).first()):(T=g[j]&&!g[j].hasClass(E),g.navigateToFuture(),y=g.element.find(L).last())),(c=y.find(I).eq(_)).length?g._focusCell(c):g._focusCell(y.find(I).last())),l&&(g._currentView.setDate(A,l),m=r(m.getFullYear(),m.getMonth(),m.getDate()),i(A,m,w)&&(g.selectable&&v.disableDates(A)&&(A=g._nextNavigatable(A,l)),g._dateInViews(A)||(l>0?(T=g[j]&&!g[j].hasClass(E),g._navigate(j,1)):(T=g[U]&&!g[U].hasClass(E),g._navigate(j,-1))),c=g._cellByDate(A),g._current=A,g._focusCell(c)));return T&&g.trigger(S),o&&n.preventDefault(),g._current},_visualizeSelectedDatesInView:function(){var t,n=this,l={};e.each(n._selectDates,(function(e,t){l[a.calendar.views[0].toDateString(t)]=t})),n.selectable.clear(),(t=n.element.find(L).find(W).filter((function(t,n){return l[e(n.firstChild).attr(a.attr(y))]}))).length>0&&n.selectable._selectElement(t,!0)},_nextNavigatable:function(e,t){var a=this,n=!0,l=a._currentView,s=a.options.min,r=a.options.max,o=a.options.disableDates,c=new Date(e.getTime());for(l.setDate(c,-t);n;){if(l.setDate(e,t),!i(e,s,r)){e=c;break}n=o(e)}return e},_toggleSelection:function(t){var a=this;a.selectable._lastActive=e(a._cell[0]),e(a._cell[0]).hasClass(x)?a.selectable._unselect(e(a._cell[0])):a.selectable.value(e(a._cell[0])),a.selectable.trigger(D,{event:t})},_option:function(e,n){var l=this,i=l.options,s=l._value||l._current;if(n===t)return i[e];(n=a.parseDate(n,i.format,i.culture))&&(i[e]=new ie(+n),("min"===e?n>s:s>n)&&(l._value=null),l.navigate(l._value),l._toggle())},_cellByDate:function(t){return t instanceof Date&&(t=this._currentView.toDateString(t)),this.element.find(L).find("td:not(.k-other-month)").filter((function(){return e(this.firstChild).attr(a.attr(y))===t}))},_selectable:function(){var e=this,t=e.options.selectable;e.selectable&&(e.selectable.destroy(),e.selectable=null),e.rangeSelectable&&(e.rangeSelectable.destroy(),e.rangeSelectable=null),t.toLowerCase()===G?e.rangeSelectable=new re(e.wrapper,{calendar:e,filter:"table.k-month "+I,change:e._rangeSelection.bind(e)}):e.selectable=new f(e.wrapper,{aria:!0,dragToSelect:!1,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up",multiple:f.parseOptions(t).multiple,filter:"table.k-content "+I,change:e._selection.bind(e),relatedTarget:e._onRelatedTarget.bind(e),unselect:e._unselecting.bind(e)})},_onRelatedTarget:function(e){this.selectable.options.multiple&&e.is(I)&&e.length>1&&this._focusCell(e.first(),!0)},_getFirstViewDate:function(e){var t,a,n,l=this,i=l.options,s=[],r=new Date(+l._current);for(n=0;n<i.views;n++){if(t=e.first(r),+(a=e.last(r))>+i.max){+t<=+i.max&&s.push({start:t,end:new Date(+i.max)});break}s.push({start:t,end:a}),r=new Date(+ue(a,e.name,1))}for(r=new Date(+l._current),n=0;n<i.views;n++){if(t=e.first(r),a=e.last(r),+t<+i.min){+a>=+i.min&&s.push({start:new Date(+i.min),end:a});break}s.push({start:t,end:a}),r=new Date(+ue(t,e.name,-1))}for(t=s[0].start,n=0;n<i.views+1&&s[n];n++)+t>+s[n].start&&(t=s[n].start);return new Date(+t)},_canRenderNextView:function(e){var t=e.getFullYear(),a=e.getMonth(),n=e.getDate(),l=this.options.max,i=l.getFullYear(),s=l.getMonth();return t<i||(t===i&&a<s||(t===i&&a===s&&n<l.getDate()||t===i&&a===s&&n===l.getDate()))},_initViews:function(t){var a,l=this,i=l.options,s=n.viewsEnum[t.viewName],r=n.views[s];l._current=new ie(+n.restrictValue(t.value,i.min,i.max)),l._views=[],l._index=s,(a=l._getFirstViewDate(r)).setDate(1),l._firstViewValue=new Date(+a);for(var o=0;o<i.views&&((a=o?ue(a,r.name,1):a).setDate(1),l._canRenderNextView(a));o++)l._table=e(r.content(e.extend({min:i.min,max:i.max,date:a,url:i.url,dates:i.dates,format:i.format,culture:i.culture,disableDates:i.disableDates,showHeader:i.showViewHeader,isWeekColumnVisible:i.weekNumber,otherMonth:i.otherMonth,messages:i.messages,contentClasses:"k-calendar-table k-content"},l[r.name]))),l._table.appendTo(l.tablesWrapper).addClass("k-"+r.name),l._views.push(l._table);l._currentView=r,l.tablesWrapper.attr("class","k-calendar-view k-calendar-"+r.name+`view ${"vertical"!=l.options.orientation?"k-hstack":"k-vstack"} k-align-items-start k-justify-content-center`),l._updateHeader(),l._aria()},_rangeSelection:function(e){var t,a,n=this,l=e.sender.range(),i=e.sender._useEnd,r=e.sender._useStart,o=n.selectRange()||{};l.start&&(t=s(l.start.find("a"))),l.end&&(a=s(l.end.find("a"))),n._range={start:r?o.start:t,end:i?o.end:a},n._preventChange||n.trigger(D)},_selection:function(t){var a,n=this,l=t.sender.value(),i=t.event,r=e(i&&i.currentTarget),o=r.is("td");n.options.selectable===q&&n._validateValue(l[0]?s(l.first().find("a")):t.sender._lastActive?s(t.sender._lastActive.find("a")):n.value()),n.options.selectable==K&&(o&&(a=s(r.find("a"))),i&&i.ctrlKey?o?r.hasClass(x)?n._selectDates.push(a):n._deselect(a):(n.element.find("table "+I).each((function(t,a){var l=s(e(a).find("a"));n._deselect(l)})),n._addSelectedCellsToArray()):i&&i.shiftKey?n._selectRange(s(t.sender._lastActive?t.sender._lastActive.find("a"):l.first().find("a")),a):o?(n._selectDates=[],n._selectDates.push(a)):(n._selectDates=[],n._addSelectedCellsToArray())),n._preventChange||n.trigger(D)},_addSelectedCellsToArray:function(){var t=this;t.selectable&&t.selectable.value().each((function(a,n){var l=s(e(n.firstChild));t.options.disableDates(l)||t._selectDates.push(l)}))},_deselect:function(e){var t=this._selectDates.map(Number).indexOf(+e);-1!=t&&this._selectDates.splice(t,1)},_unselecting:function(e){var t=e.element;this.options.selectable===q&&!v&&t.hasClass(V)&&e.preventDefault()},_visibleRange:function(){var e=this.element.find(k+$+w+L);return{start:s(e.first().find(W).first().find("a")),end:s(e.last().find(W).last().find("a"))}},_dateInViews:function(e){var t=this.element.find(k+$+w+L),a=s(t.first().find(W).first().find("a")),n=s(t.last().find(W).last().find("a"));return+(e=new Date(e.toDateString()))<=+n&&+e>=+a},_fillRange:function(e,t){var l,i=this;i._selectDates=[],l=function(e,t){if(+t<+e){var l=+e;n.views[0].setDate(e,t),n.views[0].setDate(t,new Date(l))}var i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),s=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+s-+i)/a.date.MS_PER_DAY)}(e,t),function(e,t,a,n){for(var l=0;l<=t;l++){var i=new Date(a.getTime());n(i=new Date(i.setDate(i.getDate()+l)))||e.push(i)}}(i._selectDates,l,e,i.options.disableDates)},_selectRange:function(e,t){var a;+t<+e&&(a=t,t=e,e=a),this._fillRange(e,t),this._visualizeSelectedDatesInView()},_header:function(){var t,n=this,l=n.element,i=l.find(".k-calendar-header");i.length||(i=e(`<div class="k-calendar-header ${"vertical"!=n.options.orientation?"k-hstack":"k-vstack"}"><a id="calendar-title" tabindex="-1" href="#" role="button" class="k-calendar-title k-title k-button ${a.getValidCssClass("k-button-","size",n.options.size||"medium")} k-rounded-md k-button-flat k-button-flat-base" aria-live="polite"></a><span class="k-spacer"></span><span class="k-calendar-nav ${"vertical"!=n.options.orientation?"k-hstack":"k-vstack"}"><a tabindex="-1" href="#" role="button" class="k-button ${a.getValidCssClass("k-button-","size",n.options.size||"medium")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-prev-view" `+ne+`="Previous">${a.ui.icon({icon:"chevron-left",iconClass:"k-button-icon"})}</a>`+`<a tabindex="-1" href="#" role="button" class="k-button ${a.getValidCssClass("k-button-","size",n.options.size||"medium")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-next-view" `+ne+`="Next">${a.ui.icon({icon:"chevron-right",iconClass:"k-button-icon"})}</a></span></div>`).prependTo(l)),n.header=i,i.on(O+h+" "+H+" "+P+h+" "+z+h,".k-button",ce).on(b,(function(){return!1})).on(b+h,".k-button.k-calendar-title",n._calendarTitleClick.bind(n)).on(b+h,".k-button.k-calendar-prev-view",n._prevViewClick.bind(n)).on(b+h,".k-button.k-calendar-next-view",n._nextViewClick.bind(n)),t=i.find(".k-button"),n._title=t.filter(".k-calendar-title"),n._navContainer=i.find(".k-calendar-nav"),n[U]=t.filter(".k-calendar-prev-view"),n[j]=t.filter(".k-calendar-next-view")},_calendarTitleClick:function(){this.navigateUp(),this.focus(),this.trigger(S)},_prevViewClick:function(e){e.preventDefault(),this.navigateToPast(),this.focus(),this.trigger(S)},_nextViewClick:function(e){e.preventDefault(),this.navigateToFuture(),this.focus(),this.trigger(S)},_wrapper:function(){this.tablesWrapper=e('<div tabindex="0" role="grid" class="k-calendar-view" aria-labelledby="calendar-title" />').insertAfter(this.element[0].firstChild)},_templates:function(){var e=this.options.month,t=e.content,n=e.weekNumber,l=e.empty;this.month={content:g((e=>`<td class="${e.cssClass}" role="gridcell"><a tabindex="-1" class="k-link${e.linkClass}" href="${e.url}" ${a.attr(y)}="${e.dateString}" title="${e.title}">${t?a.template(t,{useWithBlock:!!t})(e):e.value}</a></td>`),{useWithBlock:!!t}),empty:g((e=>`<td role="gridcell"${l?">":' class="k-calendar-td k-out-of-range">'}${l?a.template(l,{useWithBlock:!!l})(e):"<a class='k-link'></a>"}</td>`),{useWithBlock:!!l}),weekNumber:g((e=>`<th class="k-calenar-td k-alt">${n?a.template(n,{useWithBlock:!!n})(e):e.weekNumber}</th>`),{useWithBlock:!!n})}},_footer:function(){var t=this,n=t.options,l=!1!==n.footer?a.template(t.options.footer||(e=>a.toString(e,"D",n.culture)),{useWithBlock:!1}):null,i=c(),s=t.element,r=s.find(".k-footer");if(!l)return t._toggle(!1),void r.hide();r[0]||(r=e(`<div class="k-footer">\n                    <button tabindex="-1" class="k-calendar-nav-today k-flex k-button ${a.getValidCssClass("k-button-","size",t.options.size||"medium")} k-button-flat k-button-flat-primary k-rounded-md">\n                        <span class="k-button-text"></span>\n                    </button>\n                </div>`).appendTo(s)),t._today=r.show().find(".k-button-flat-primary").attr("title",a.toString(i,"D",t.options.culture)),r.find(".k-button-text").html(l(i)),t._toggle()},_navigate:function(e,t){var a,l=this,i=l._index+1,s=new ie(+l._current),r=new ie(+l._current);e=l[e],a=l._cellByDate(s).closest(L).index(),t>0?a=1-a:a+=1,e&&e.hasClass(E)||(i>3?s.setFullYear(s.getFullYear()+t*a*100):n.views[i].setDate(s,t*a),l.navigate(s),l._dateInViews(r)?(l._focusCell(l._cellByDate(r)),l._current=r):(i>3?r.setFullYear(r.getFullYear()+100*t):n.views[i].setDate(r,t),l._focusCell(l._cellByDate(r)),l._current=r))},_toggle:function(e){var a=this,n=a.options,l=n.selectable!==G&&a.options.disableDates(c()),s=a._today;e===t&&(e=i(c(),n.min,n.max)),s&&(s.off(b+h),e&&!l?s.addClass(B).removeClass(E).on(b+h,(function(e){a._todayClick(e),a.focus()})):s.removeClass(B).addClass(E).on(b+h,(function(e){e.preventDefault()})))},_click:function(e){var t=this,l=t.options,i=new Date(+t._current),r=s(e);a.date.adjustDST(r,0),t._currentView.setDate(i,r),t._current=r,t._currentView.name!==l.depth?(t.navigateDown(n.restrictValue(i,l.min,l.max)),t._focusCell(t._cellByDate(t._current)),t.trigger(S)):t._focusCell(e.closest("td")),t.focus()},_blur:function(){this._cell&&this._cell.removeClass(V)},_focus:function(){var t=this._cell;t&&e.contains(this.tablesWrapper[0],t[0])||(t=this._current&&this._dateInViews(this._current)?this._cellByDate(this._current):this.tablesWrapper.find(I).first()),this._focusCell(t)},_focusCell:function(e){var t=this,a=t._cellID;t._cell&&t._cell.length&&(t._cell[0].removeAttribute(ne),t._cell.removeClass(V),t.tablesWrapper.removeAttr(le),t._cell.attr(m)===a&&t._cell[0].removeAttribute(m)),t._cell=e,e.attr(m)?t.tablesWrapper.attr(le,e.attr(m)):a&&(e.attr(m,a),t.tablesWrapper.attr(le,a)),e.addClass(V),e.length&&t._currentView.name==p&&(t._current=s(e.find("a")))},_todayClick:function(e){var t=this,a=t.options.disableDates,n=c(),l=!1;e.preventDefault(),a(n)||(t._value=n,t.options.selectable===K&&(t._selectDates=[n]),t.options.selectable===G&&(t.rangeSelectable.clear(!0),t._range={start:n,end:null}),t._currentView.name==p&&t._dateInViews(n)||(l=!0),t.navigate(n,t.options.depth),t.options.selectable===q&&(t.selectable._lastActive=null),l&&t.trigger(S),t.trigger(D))},_validateValue:function(e){var n=this,l=n.options,s=l.min,r=l.max;return null!==(e=a.parseDate(e,l.format,l.culture))&&(e=new ie(+e),i(e,s,r)||(e=null)),null!==e&&n.options.disableDates(new Date(+e))?n._value===t&&(n._value=null):n._value=e,n._value},_updateAria:function(e,t){var n,l=this,i=l._cellByDate(t||l.current()),s=l.view().valueType(),r=t||l.current();return l._focusCell(i),n=s===p?a.toString(r,"MMMM"):"date"===s?a.toString(r,"D"):i.text(),i.attr(ne,e({current:r,valueType:s,text:n})),i.attr(m)},clearSelection:function(){var e=this;e.selectable&&e.element.find(k+x).removeClass(x).removeAttr(te),e.rangeSelectable&&e.rangeSelectable.clear(!0)},_restoreSelection:function(){var e,t=this,a=t.options.selectable;if(t._currentView.name===t.options.depth){if(t._preventChange=!0,a===G){if(!(e=t.selectRange())||!e.start)return void(t._preventChange=!1);t.selectRange(e)}a===q&&t.value()&&t.selectable.value(t._cellByDate(t.value())),a===K&&t._visualizeSelectedDatesInView(),t._preventChange=!1}},value:function(e){var a,n=this;if(e===t)return n._value;e=n._validateValue(e),n.clearSelection(),e&&!n._dateInViews(e)&&n.navigate(e),null!==e&&n._currentView.name===p&&(a=n._cellByDate(e),n.selectable&&n.selectable.value(a),n.rangeSelectable&&(n.rangeSelectable.start(a),n.rangeSelectable._lastActive=a))},selectDates:function(a){var n,l,i=this;if(a===t)return i._selectDates;l=a.map((function(e){return e.getTime()})).filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e){return new Date(e)})),n=e.grep(l,(function(e){if(e)return+i._validateValue(new Date(e.setHours(0,0,0,0)))==+e})),i._selectDates=n.length>0?n:0===l.length?l:i._selectDates,i._visualizeSelectedDatesInView()},selectRange:function(e){var a,n,l,i=this;if(e===t)return i._range;i._range=e,e.start&&(l=i._visibleRange(),a=i._dateInViews(e.start),n=e.end&&i._dateInViews(e.end),!a&&n&&i.rangeSelectable.selectTo(i._cellByDate(e.end)),a&&n&&i.rangeSelectable.range(i._cellByDate(e.start),i._cellByDate(e.end)),e.end&&a&&!n&&i.rangeSelectable.selectFrom(i._cellByDate(e.start)),!e.end&&a&&i.rangeSelectable.start(i._cellByDate(e.start)),+l.start>+e.start&&+l.end<+e.end&&i.rangeSelectable.mid(i.element.find(I)))}});function ce(t){e(this).hasClass("k-disabled")||e(this).toggleClass(R,O.indexOf(t.type)>-1||t.type==P)}function ue(e,t,a){var l;return t===p?((l=new ie(e.getFullYear(),e.getMonth()+a,e.getDate())).setFullYear(e.getFullYear()),(Math.abs(l.getMonth()-e.getMonth())>a||a>10)&&(l.setMonth(e.getMonth()+a),l=n.views[0].last(l)),l):"year"===t?((l=new ie(1,e.getMonth(),e.getDate())).setFullYear(e.getFullYear()+a),Math.abs(l.getFullYear()-e.getFullYear())>a&&((l=new ie(1,e.getMonth(),1)).setFullYear(e.getFullYear()+a),l=n.views[1].last(l)),l):"decade"===t?((l=new ie(1,e.getMonth(),e.getDate())).setFullYear(e.getFullYear()+10*a),Math.abs(l.getFullYear()-e.getFullYear())>10*a&&((l=new ie(1,e.getMonth(),1)).setFullYear(e.getFullYear()+10*a),l=n.views[2].last(l)),l):"century"===t?((l=new ie(1,e.getMonth(),e.getDate())).setFullYear(e.getFullYear()+100*a),Math.abs(l.getFullYear()-e.getFullYear())>100*a&&((l=new ie(1,e.getMonth(),1)).setFullYear(e.getFullYear()+100*a),l=n.views[3].last(l)),l):void 0}a.ui.plugin(oe)}(window.kendo.jQuery);
//# sourceMappingURL=kendo.multiviewcalendar.js.map
