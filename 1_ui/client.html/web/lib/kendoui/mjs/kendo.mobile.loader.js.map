{"version":3,"file":"kendo.mobile.loader.js","names":["__meta__","id","name","category","description","depends","hidden","$","undefined$1","kendo","window","ui","mobile","Widget","CAPTURE_EVENTS","map","eventMap","value","join","split","Loader","extend","init","container","options","that","this","element","fn","call","captureEvents","_attachCapture","append","loading","hide","appendTo","timeout","show","clearTimeout","_loading","setTimeout","changeMessage","message","find","html","transition","css","transitionDone","capture","e","preventDefault","i","length","addEventListener","plugin","jQuery"],"sources":["kendo.mobile.loader.js"],"mappings":"MAAO,kBAEP,IAAIA,SAAW,CACXC,GAAI,gBACJC,KAAM,SACNC,SAAU,SACVC,YAAa,gBACbC,QAAS,CAAE,QACXC,QAAQ,IAGZ,SAAUC,EAAGC,GACT,IAAIC,EAAQC,OAAOD,MACfE,EAAKF,EAAMG,OAAOD,GAClBE,EAASF,EAAGE,OACZC,EAAiBP,EAAEQ,IAAIN,EAAMO,UAAU,SAASC,GAAS,OAAOA,CAAO,IAAGC,KAAK,KAAKC,MAAM,KAE1FC,EAASP,EAAOQ,OAAO,CACvBC,KAAM,SAASC,EAAWC,GACtB,IAAIC,EAAOC,KACPC,EAAUpB,EAAE,oJAEhBM,EAAOe,GAAGN,KAAKO,KAAKJ,EAAME,EAASH,GAEnCC,EAAKF,UAAYA,EACjBE,EAAKK,eAAgB,EAErBL,EAAKM,iBAELJ,EAAQK,OAAOP,EAAKD,QAAQS,SAASC,OAAOC,SAASZ,EACzD,EAEAC,QAAS,CACLtB,KAAM,SACN+B,QAAS,sBACTG,QAAS,KAGbC,KAAM,WACF,IAAIZ,EAAOC,KAEXY,aAAab,EAAKc,WAEW,IAAzBd,EAAKD,QAAQS,UAIjBR,EAAKK,eAAgB,EACrBL,EAAKc,SAAWC,YAAW,WACvBf,EAAKE,QAAQU,MACjB,GAAGZ,EAAKD,QAAQY,SACpB,EAEAF,KAAM,WACFR,KAAKI,eAAgB,EACrBQ,aAAaZ,KAAKa,UAClBb,KAAKC,QAAQO,MACjB,EAEAO,cAAe,SAASC,GACpBhB,KAAKF,QAAQS,QAAUS,EACvBhB,KAAKC,QAAQgB,KAAK,OAAOC,KAAKF,EAClC,EAEAG,WAAY,WACRnB,KAAKI,eAAgB,EACrBJ,KAAKH,UAAUuB,IAAI,iBAAkB,OACzC,EAEAC,eAAgB,WACZrB,KAAKI,eAAgB,EACrBJ,KAAKH,UAAUuB,IAAI,iBAAkB,GACzC,EAEAf,eAAgB,WACZ,IAAIN,EAAOC,KAGX,SAASsB,EAAQC,GACTxB,EAAKK,eACLmB,EAAEC,gBAEV,CANAzB,EAAKK,eAAgB,EAQrB,IAAK,IAAIqB,EAAI,EAAGA,EAAIrC,EAAesC,OAAQD,IACvC1B,EAAKF,UAAU,GAAG8B,iBAAiBvC,EAAeqC,GAAIH,GAAS,EAEvE,IAGJrC,EAAG2C,OAAOlC,EACb,CAhFD,CAgFGV,OAAOD,MAAM8C","sourcesContent":["import './kendo.core.js';\n\nvar __meta__ = {\n    id: \"mobile.loader\",\n    name: \"Loader\",\n    category: \"mobile\",\n    description: \"Mobile Loader\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        CAPTURE_EVENTS = $.map(kendo.eventMap, function(value) { return value; }).join(\" \").split(\" \");\n\n    var Loader = Widget.extend({\n        init: function(container, options) {\n            var that = this,\n                element = $('<div class=\"km-loader\"><span class=\"km-loading km-spin\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>');\n\n            Widget.fn.init.call(that, element, options);\n\n            that.container = container;\n            that.captureEvents = false;\n\n            that._attachCapture();\n\n            element.append(that.options.loading).hide().appendTo(container);\n        },\n\n        options: {\n            name: \"Loader\",\n            loading: \"<h1>Loading...</h1>\",\n            timeout: 100\n        },\n\n        show: function() {\n            var that = this;\n\n            clearTimeout(that._loading);\n\n            if (that.options.loading === false) {\n                return;\n            }\n\n            that.captureEvents = true;\n            that._loading = setTimeout(function() {\n                that.element.show();\n            }, that.options.timeout);\n        },\n\n        hide: function() {\n            this.captureEvents = false;\n            clearTimeout(this._loading);\n            this.element.hide();\n        },\n\n        changeMessage: function(message) {\n            this.options.loading = message;\n            this.element.find(\">h1\").html(message);\n        },\n\n        transition: function() {\n            this.captureEvents = true;\n            this.container.css(\"pointer-events\", \"none\");\n        },\n\n        transitionDone: function() {\n            this.captureEvents = false;\n            this.container.css(\"pointer-events\", \"\");\n        },\n\n        _attachCapture: function() {\n            var that = this;\n            that.captureEvents = false;\n\n            function capture(e) {\n                if (that.captureEvents) {\n                    e.preventDefault();\n                }\n            }\n\n            for (var i = 0; i < CAPTURE_EVENTS.length; i ++) {\n                that.container[0].addEventListener(CAPTURE_EVENTS[i], capture, true);\n            }\n        }\n    });\n\n    ui.plugin(Loader);\n})(window.kendo.jQuery);\n"]}