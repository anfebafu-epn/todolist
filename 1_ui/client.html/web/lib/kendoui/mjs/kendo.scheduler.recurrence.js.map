{"version":3,"file":"kendo.scheduler.recurrence.js","names":["__meta__","id","name","category","depends","hidden","$","undefined$1","kendo","window","encode","htmlEncode","timezone","Class","ui","Widget","DropDownList","ButtonGroup","kendoDate","date","setTime","setDayOfWeek","adjustDST","firstDayOfMonth","getMilliseconds","DAYS_IN_LEAPYEAR","DAYS_IN_YEAR","MONTHS","WEEK_DAYS","WEEK_DAYS_IDX","SU","MO","TU","WE","TH","FR","SA","DATE_FORMATS","RULE_NAMES","RULE_NAMES_LENGTH","length","RECURRENCE_DATE_FORMAT","limitation","months","end","rule","monthRules","ruleValues","getMonth","changed","setMonth","setFullYear","getFullYear","monthDays","monthLength","month","days","hours","getHours","normalize","monthDay","getMonthLength","getDate","sort","numberSortPredicate","yearDays","year","yearDay","leapYear","dayInYear","weeks","day","weekStart","week","weekInYear","weekDays","weekDayRule","offsetDate","Date","getTime","offsets","start","normalizeDay","getDay","weekDayRules","ruleWeekOffset","weekDay","weekNumber","currentDay","normalizeDayIndex","result","idx","weekInMonth","normalizeOffset","push","ruleWeekValues","freq","positions","position","forEach","nextMonthFirstDay","ruleDay","offset","isInWeek","numberOfWeeks","setDate","hourRules","startTime","_startTime","startHours","setHours","minutes","setMinutes","getMinutes","minuteRules","seconds","setSeconds","getSeconds","secondRules","BaseFrequency","extend","next","options","this","_hour","limit","ruleName","firstRule","modified","interval","current","diff","startTimeHours","_startPeriod","frequency","excess","getTimezoneOffset","MS_PER_HOUR","MS_PER_MINUTE","intervalExcess","Math","floor","round","MS_PER_DAY","_date","_getNumberOfWeeksBetweenDates","_hasRuleValue","first","second","exactWeeks","HourlyFrequency","fn","DailyFrequency","WeeklyFrequency","setup","eventStartDate","MonthlyFrequency","YearlyFrequency","frequencies","hourly","daily","weekly","monthly","yearly","CLICK","CHANGE","firstWeekLength","ceil","lastDate","weeksInMonth","skipFirst","skipLast","rules","value","ruleValue","availableRules","parseArray","list","range","parseInt","isNaN","parseWeekDayList","valueLength","substring","toUpperCase","a","b","parseExceptions","exceptions","zone","dates","split","indexOf","parseUTCDate","isException","Array","isArray","dateTime","toExceptionString","concat","convert","toString","join","endPeriodByFreq","eventsByPosition","periodEvents","until","event","inPeriod","periodEventsLength","events","removeExceptionDates","exceptionDates","getZoneOffset","parseDate","apply","parseDateRule","dateRule","pair","property","tzid","valueIdx","pairs","parseRule","recur","splits","part","parts","instance","trim","exdates","toLowerCase","count","culture","calendar","firstDay","day1","day2","serializeDateRule","val","serialize","ruleString","valueString","serializeWeekDayList","recurrence","parse","expand","endTime","endDate","durationMS","startPeriod","ruleStart","ruleEnd","useEventStart","freqName","eventStartTime","eventStartMS","eventStart","currentIdx","shiftedStart","shiftedEnd","shiftedStartTime","shifterEndTime","recurrenceRule","startTimezone","endTimezone","clone","recurrenceException","set","startPeriodByFreq","_endPeriod","duration","dateOffset","dateMinusHour","dateMinusHourOffset","allDayCompensation","isAllDay","toInvariantTime","inPeriodCheckEndDate","toUtcTime","startZone","endZone","startOffsetDiff","endOffsetDiff","startTZOffsetDiff","endTZOffsetDiff","offsetTicksStart","offsetTicksEnd","toOccurrence","_endTime","slice","isMissingDSTHour","RECURRENCE_VIEW_TEMPLATE","template","messages","repeatEvery","repeatOn","of","label","never","after","occurrence","on","DAY_RULE","WEEKDAY_RULE","WEEKEND_RULE","BaseRecurrenceEditor","init","element","that","call","wrapper","today","firstWeekDay","_namespace","spinners","mobile","repeat","recurrenceEditorTitle","mobileLabel","offsetPositions","third","fourth","last","weekdays","weekday","weekend","_initInterval","_value","_container","find","kendoNumericTextBox","decimals","format","min","change","_trigger","_weekDayButtons","names","abbreviated","namesAbbr","values","items","text","attributes","_weekDayButtonGroup","selection","select","selectedDays","map","i","Number","getAttribute","_weekDayRule","clear","_weekDay","_weekDayOffset","_weekDayView","weekDayOffset","weekDayValue","method","weekDayOffsetWidget","_initWeekDay","data","weekdayMessage","offsetMessage","weekDayInput","autoWidth","dataTextField","dataValueField","dataSource","dayName","_initWeekDays","weekDayButtonGroup","selectedWeekDayButtons","ruleDays","ruleDaysLength","selectors","_initMonthDay","monthDayInput","_monthDay","NumericTextBox","max","_initCount","input","_count","_initUntil","startInput","closest","validDateValidationMessage","Validator","prototype","dateCompareValidationMessage","dateCompare","initialValue","attr","_until","kendoDatePicker","untilEl","readonly","Boolean","enable","is","parents","setOptions","trigger","RecurrenceEditor","_initFrequency","_initContainer","destroy","_frequency","off","freqButton","_initView","container","editContainer","parent","insertAfter","append","buttonGroupElement","title","empty","html","_initMonth","_period","_end","monthInputs","monthName","_month1","_month2","endRule","namespace","click","e","_toggleEnd","currentTarget","_buttonNever","_buttonCount","_buttonUntil","toggleRule","_toggleMonthDay","_toggleYear","selector","radioButtons","_buttonMonthDay","eq","_buttonWeekDay","enableCount","enableUntil","prop","monthRule","enableMonthDay","enableWeekDay","yearRule","enableMonth1","enableMonth2","plugin","RECURRENCE_HEADER_TEMPLATE","headerTitle","RECURRENCE_REPEAT_PATTERN_TEMPLATE","repeatBy","every","RECURRENCE_END_PATTERN_TEMPLATE","endPattern","RECURRENCE_GROUP_BUTTON_TEMPLATE","item","MobileRecurrenceEditor","_optionTemplate","_pane","pane","_initRepeatButton","_initParentRepeatEnd","_defaultValue","animations","left","right","cancel","update","endTitle","repeatTitle","patterns","dayOfMonth","dayOfWeek","_destroyView","_endFields","target","_chevronButton","icon","_repeatValue","preventDefault","_createView","navigate","_view","_endLiItem","endLabelField","endEditField","appendTo","_navigateToView","_endParentLabelField","toggle","_endParentEndButton","_endText","_initRepeatEnd","_endLabelField","toggleClass","_endButton","viewName","frequencyMessages","ns","_initRepeatView","_initEndNavigation","endMessages","_initEndView","viewType","returnViewId","view","stopPropagation","hasClass","one","remove","content","hide","show","ev","weekDaySelect","_options","monthSelect","monthNames","_monthSelect","repeatRuleGroupButton","weekDayView","monthDayView","currentValue","weekDayName","support","optionLabel","jQuery"],"sources":["kendo.scheduler.recurrence.js"],"mappings":"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","sourcesContent":["import './kendo.dropdownlist.js';\nimport './kendo.datepicker.js';\nimport './kendo.numerictextbox.js';\nimport './kendo.buttongroup.js';\nimport './kendo.icons.js';\n\nvar __meta__ = {\n    id: \"scheduler.recurrence\",\n    name: \"Recurrence\",\n    category: \"web\",\n    depends: [ \"dropdownlist\", \"datepicker\", \"numerictextbox\", \"buttongroup\", \"icons\" ],\n    hidden: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        encode = kendo.htmlEncode,\n        timezone = kendo.timezone,\n        Class = kendo.Class,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        DropDownList = ui.DropDownList,\n        ButtonGroup = ui.ButtonGroup,\n        kendoDate = kendo.date,\n        setTime = kendoDate.setTime,\n        setDayOfWeek = kendoDate.setDayOfWeek,\n        adjustDST = kendoDate.adjustDST,\n        firstDayOfMonth = kendoDate.firstDayOfMonth,\n        getMilliseconds = kendoDate.getMilliseconds,\n        DAYS_IN_LEAPYEAR = [0,31,60,91,121,152,182,213,244,274,305,335,366],\n        DAYS_IN_YEAR = [0,31,59,90,120,151,181,212,243,273,304,334,365],\n        MONTHS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        WEEK_DAYS = {\n            0: \"SU\",\n            1: \"MO\",\n            2: \"TU\",\n            3: \"WE\",\n            4: \"TH\",\n            5: \"FR\",\n            6: \"SA\"\n        },\n        WEEK_DAYS_IDX = {\n            \"SU\": 0,\n            \"MO\": 1,\n            \"TU\": 2,\n            \"WE\": 3,\n            \"TH\": 4,\n            \"FR\": 5,\n            \"SA\": 6\n        },\n        DATE_FORMATS = [\n            \"yyyy-MM-ddTHH:mm:ss.fffzzz\",\n            \"yyyy-MM-ddTHH:mm:sszzz\",\n            \"yyyy-MM-ddTHH:mm:ss\",\n            \"yyyy-MM-ddTHH:mm\",\n            \"yyyy-MM-ddTHH\",\n            \"yyyy-MM-dd\",\n            \"yyyyMMddTHHmmssfffzzz\",\n            \"yyyyMMddTHHmmsszzz\",\n            \"yyyyMMddTHHmmss\",\n            \"yyyyMMddTHHmm\",\n            \"yyyyMMddTHH\",\n            \"yyyyMMdd\"\n        ],\n        RULE_NAMES = [\"months\", \"weeks\", \"yearDays\", \"monthDays\", \"weekDays\", \"hours\", \"minutes\", \"seconds\"],\n        RULE_NAMES_LENGTH = RULE_NAMES.length,\n        RECURRENCE_DATE_FORMAT = \"yyyyMMddTHHmmssZ\",\n        limitation = {\n            months: function(date, end, rule) {\n                var monthRules = rule.months,\n                    months = ruleValues(monthRules, date.getMonth() + 1),\n                    changed = false;\n\n                if (months !== null) {\n                    if (months.length) {\n                        date.setMonth(months[0] - 1, 1);\n                    } else {\n                        date.setFullYear(date.getFullYear() + 1, monthRules[0] - 1, 1);\n                    }\n\n                    changed = true;\n                }\n\n                return changed;\n            },\n\n            monthDays: function(date, end, rule) {\n                var monthLength, month, days,\n                    changed = false,\n                    hours = date.getHours(),\n                    normalize = function(monthDay) {\n                        if (monthDay < 0) {\n                            monthDay = monthLength + monthDay + 1;\n                        }\n                        return monthDay;\n                    };\n\n                while (date <= end) {\n                    month = date.getMonth();\n                    monthLength = getMonthLength(date);\n                    days = ruleValues(rule.monthDays, date.getDate(), normalize);\n\n                    if (days === null) {\n                        return changed;\n                    }\n\n                    changed = true;\n\n                    if (days.length) {\n                        date.setMonth(month, days.sort(numberSortPredicate)[0]);\n                        adjustDST(date, hours);\n\n                        if (month === date.getMonth()) {\n                            break;\n                        }\n                    } else {\n                        date.setMonth(month + 1, 1);\n                    }\n                }\n\n                return changed;\n            },\n\n            yearDays: function(date, end, rule) {\n                var year, yearDays,\n                    changed = false,\n                    hours = date.getHours(),\n                    normalize = function(yearDay) {\n                        if (yearDay < 0) {\n                            yearDay = year + yearDay;\n                        }\n                        return yearDay;\n                    };\n\n                while (date < end) {\n                    year = leapYear(date) ? 366 : 365;\n                    yearDays = ruleValues(rule.yearDays, dayInYear(date), normalize);\n\n                    if (yearDays === null) {\n                        return changed;\n                    }\n\n                    changed = true;\n                    year = date.getFullYear();\n\n                    if (yearDays.length) {\n                        date.setFullYear(year, 0, yearDays.sort(numberSortPredicate)[0]);\n                        adjustDST(date, hours);\n                        break;\n                    } else {\n                        date.setFullYear(year + 1, 0, 1);\n                    }\n                }\n\n                return changed;\n            },\n\n            weeks: function(date, end, rule) {\n                var weekStart = rule.weekStart,\n                    year, weeks, day,\n                    changed = false,\n                    hours = date.getHours(),\n                    normalize = function(week) {\n                        if (week < 0) {\n                            week = 53 + week;\n                        }\n                        return week;\n                    };\n\n                while (date < end) {\n                    weeks = ruleValues(rule.weeks, weekInYear(date, weekStart), normalize);\n\n                    if (weeks === null) {\n                        return changed;\n                    }\n\n                    changed = true;\n                    year = date.getFullYear();\n\n                    if (weeks.length) {\n                        day = (weeks.sort(numberSortPredicate)[0] * 7) - 1;\n\n                        date.setFullYear(year, 0, day);\n                        setDayOfWeek(date, weekStart, -1);\n\n                        adjustDST(date, hours);\n                        break;\n                    } else {\n                        date.setFullYear(year + 1, 0, 1);\n                    }\n                }\n\n                return changed;\n            },\n\n            weekDays: function(date, end, rule) {\n                var offsetDate = new Date(date.getTime() + rule.offsets.start);\n                var normalizeDay = offsetDate.getDay() - date.getDay();\n                var weekDays = rule.weekDays;\n                var weekStart = rule.weekStart;\n                var weekDayRules = ruleWeekValues(weekDays, offsetDate, weekStart);\n                var hours = date.getHours();\n                var traverseRuleForNextMont = function(rule) {\n                    var nextMonthFirstDay = new Date(date.getFullYear(), date.getMonth() + 1, 1);\n                    var ruleDay = normalizeDayIndex(rule.day, weekStart);\n\n                    if (nextMonthFirstDay.getDay() <= ruleDay) {\n                        if (!weekDayRule || normalizeDayIndex(weekDayRule.day, weekStart) > ruleDay) {\n                            weekDayRule = rule;\n                        }\n                    }\n                };\n                var weekDayRule, day;\n\n\n                if (weekDayRules === null) {\n                    return false;\n                }\n\n                weekDayRule = weekDayRules[0];\n\n                if (!weekDayRule) {\n                    if (rule.freq === \"monthly\" && !rule.positions || rule.position > 0) {\n                        weekDays.forEach(traverseRuleForNextMont);\n                    }\n                    if (!weekDayRule) {\n                        weekDayRule = weekDays[0];\n                    }\n                    setDayOfWeek(date, weekStart);\n                }\n\n                day = weekDayRule.day;\n                day -= normalizeDay;\n\n                if (weekDayRule.offset) {\n                    while (date <= end && !isInWeek(date, weekDayRule, weekStart)) {\n                        if (weekInMonth(date, weekStart) === numberOfWeeks(date, weekStart)) {\n                            date.setMonth(date.getMonth() + 1, 1);\n                            adjustDST(date, hours);\n                        } else {\n                            date.setDate(date.getDate() + 7);\n                            adjustDST(date, hours);\n\n                            setDayOfWeek(date, weekStart, -1);\n                        }\n                    }\n                }\n\n                if (date.getDay() !== day) {\n                    setDayOfWeek(date, day);\n                }\n\n                return true;\n            },\n\n            hours: function(date, end, rule) {\n                var hourRules = rule.hours,\n                    startTime = rule._startTime,\n                    startHours = startTime.getHours(),\n                    hours = ruleValues(hourRules, startHours),\n                    changed = false;\n\n                if (hours !== null) {\n                    changed = true;\n\n                    date.setHours(startHours);\n                    adjustDST(date, startHours);\n\n                    if (hours.length) {\n                        hours = hours[0];\n                        date.setHours(hours);\n                    } else {\n                        hours = date.getHours();\n                        date.setDate(date.getDate() + 1);\n                        adjustDST(date, hours);\n\n                        hours = hourRules[0];\n                        date.setHours(hours);\n                        adjustDST(date, hours);\n                    }\n\n                    if (rule.minutes) {\n                        date.setMinutes(0);\n                    }\n\n                    startTime.setHours(hours, date.getMinutes());\n                }\n\n                return changed;\n            },\n\n            minutes: function(date, end, rule) {\n                var minuteRules = rule.minutes,\n                    currentMinutes = date.getMinutes(),\n                    minutes = ruleValues(minuteRules, currentMinutes),\n                    hours = rule._startTime.getHours(),\n                    changed = false;\n\n                if (minutes !== null) {\n                    changed = true;\n\n                    if (minutes.length) {\n                        minutes = minutes[0];\n                    } else {\n                        hours += 1;\n                        minutes = minuteRules[0];\n                    }\n\n                    if (rule.seconds) {\n                        date.setSeconds(0);\n                    }\n\n                    date.setHours(hours, minutes);\n\n                    hours = hours % 24;\n                    adjustDST(date, hours);\n                    rule._startTime.setHours(hours, minutes, date.getSeconds());\n                }\n\n                return changed;\n            },\n\n            seconds: function(date, end, rule) {\n                var secondRules = rule.seconds,\n                    hours = rule._startTime.getHours(),\n                    seconds = ruleValues(secondRules, date.getSeconds()),\n                    minutes = date.getMinutes(),\n                    changed = false;\n\n                if (seconds !== null) {\n                    changed = true;\n\n                    if (seconds.length) {\n                        date.setSeconds(seconds[0]);\n                    } else {\n                        minutes += 1;\n                        date.setMinutes(minutes, secondRules[0]);\n\n                        if (minutes > 59) {\n                            minutes = minutes % 60;\n                            hours = (hours + 1) % 24;\n                        }\n                    }\n\n                    rule._startTime.setHours(hours, minutes, date.getSeconds());\n                }\n\n                return changed;\n            }\n        },\n        BaseFrequency = Class.extend({\n            next: function(date, rule) {\n                var startTime = rule._startTime,\n                    day = startTime.getDate(),\n                    minutes, seconds;\n\n                if (rule.seconds) {\n                    seconds = date.getSeconds() + 1;\n\n                    date.setSeconds(seconds);\n                    startTime.setSeconds(seconds);\n                    startTime.setDate(day);\n\n                } else if (rule.minutes) {\n                    minutes = date.getMinutes() + 1;\n\n                    date.setMinutes(minutes);\n                    startTime.setMinutes(minutes);\n                    startTime.setDate(day);\n                } else {\n                    return false;\n                }\n\n                return true;\n            },\n\n            normalize: function(options) {\n                var rule = options.rule;\n\n                if (options.idx === 4 && rule.hours) {\n                    rule._startTime.setHours(0);\n                    this._hour(options.date, rule);\n                }\n            },\n\n            limit: function(date, end, rule) {\n                var interval = rule.interval,\n                    ruleName, firstRule,\n                    modified,\n                    idx, day;\n\n                while (date <= end) {\n                    modified = firstRule = undefined$1;\n                    day = date.getDate();\n\n                    for (idx = 0; idx < RULE_NAMES_LENGTH; idx++) {\n                        ruleName = RULE_NAMES[idx];\n\n                        if (rule[ruleName]) {\n                            modified = limitation[ruleName](date, end, rule);\n                            if (firstRule !== undefined$1 && modified) {\n                                break;\n                            } else {\n                                firstRule = modified;\n                            }\n                        }\n\n                        if (modified) {\n                            this.normalize({ date: date, rule: rule, day: day, idx: idx });\n                        }\n                    }\n\n                    if ((interval === 1 || !this.interval(rule, date)) && idx === RULE_NAMES_LENGTH) {\n                        break;\n                    }\n                }\n            },\n\n            interval: function(rule, current) {\n                var start = new Date(rule._startPeriod);\n                var date = new Date(current);\n                var hours = current.getHours();\n                var weekStart = rule.weekStart;\n                var interval = rule.interval;\n                var frequency = rule.freq;\n                var modified = false;\n                var excess = 0;\n                var month = 0;\n                var day = 1;\n                var diff;\n\n                var startTimeHours;\n\n                if (frequency === \"hourly\") {\n                    diff = date.getTimezoneOffset() - start.getTimezoneOffset();\n                    startTimeHours = rule._startTime.getHours();\n\n                    date = date.getTime();\n                    if (hours !== startTimeHours) {\n                        date += (startTimeHours - hours) * kendoDate.MS_PER_HOUR;\n                    }\n                    date -= start;\n\n                    if (diff) {\n                        date -= diff * kendoDate.MS_PER_MINUTE;\n                    }\n\n                    diff = Math.floor(date / kendoDate.MS_PER_HOUR);\n                    excess = intervalExcess(diff, interval);\n\n                    if (excess !== 0) {\n                        this._hour(current, rule, excess);\n                        modified = true;\n                    }\n                } else if (frequency === \"daily\") {\n                    kendoDate.setTime(date, -start, true);\n\n                    diff = Math.round(date / kendoDate.MS_PER_DAY);\n                    excess = intervalExcess(diff, interval);\n\n                    if (excess !== 0) {\n                        this._date(current, rule, excess);\n                        modified = true;\n                    }\n\n                } else if (frequency === \"weekly\") {\n                    excess = this._getNumberOfWeeksBetweenDates(start, current);\n\n                    var normalizedCurrentIndex = normalizeDayIndex(current.getDay(), weekStart);\n                    var normalizedStartIndex = normalizeDayIndex(start.getDay(), weekStart);\n\n                    if (normalizedCurrentIndex < normalizedStartIndex) {\n                        excess += 1;\n                    }\n\n                    excess = intervalExcess(excess, interval);\n                    if (excess !== 0) {\n                        kendoDate.setDayOfWeek(current, rule.weekStart, -1);\n\n                        current.setDate(current.getDate() + (excess * 7));\n                        adjustDST(current, hours);\n\n                        modified = true;\n                    }\n                } else if (frequency === \"monthly\") {\n                    diff = current.getFullYear() - start.getFullYear();\n                    diff = current.getMonth() - start.getMonth() + (diff * 12);\n\n                    excess = intervalExcess(diff, interval);\n\n                    if (excess !== 0) {\n                        day = rule._hasRuleValue ? 1 : current.getDate();\n\n                        current.setFullYear(current.getFullYear(), current.getMonth() + excess, day);\n                        adjustDST(current, hours);\n\n                        modified = true;\n                    }\n                } else if (frequency === \"yearly\") {\n                    diff = current.getFullYear() - start.getFullYear();\n                    excess = intervalExcess(diff, interval);\n\n                    if (!rule.months) {\n                        month = current.getMonth();\n                    }\n\n                    if (!rule.yearDays && !rule.monthDays && !rule.weekDays) {\n                        day = current.getDate();\n                    }\n\n                    if (excess !== 0) {\n                        current.setFullYear(current.getFullYear() + excess, month, day);\n                        adjustDST(current, hours);\n\n                        modified = true;\n                    }\n                }\n\n                return modified;\n            },\n\n            _getNumberOfWeeksBetweenDates: function(first, second) {\n                 var weeks = (second - first) / 604800000;\n                 var exactWeeks = Math.floor(weeks);\n\n                //this is happening when weeks pass DST change\n                if (weeks - exactWeeks > 0.99) {\n                    exactWeeks = Math.round(weeks);\n                }\n                return exactWeeks;\n            },\n\n            _hour: function(date, rule, interval) {\n                var startTime = rule._startTime,\n                    hours = startTime.getHours();\n\n                if (interval) {\n                    hours += interval;\n                }\n\n                date.setHours(hours);\n\n                hours = hours % 24;\n                startTime.setHours(hours);\n                adjustDST(date, hours);\n            },\n\n            _date: function(date, rule, interval) {\n                var hours = date.getHours();\n\n                date.setDate(date.getDate() + interval);\n                if (!adjustDST(date, hours)) {\n                    this._hour(date, rule);\n                }\n            }\n        }),\n        HourlyFrequency = BaseFrequency.extend({\n            next: function(date, rule) {\n                if (!BaseFrequency.fn.next(date, rule)) {\n                    this._hour(date, rule, 1);\n                }\n            },\n\n            normalize: function(options) {\n                var rule = options.rule;\n\n                if (options.idx === 4) {\n                    rule._startTime.setHours(0);\n                    this._hour(options.date, rule);\n                }\n            }\n        }),\n        DailyFrequency = BaseFrequency.extend({\n            next: function(date, rule) {\n                if (!BaseFrequency.fn.next(date, rule)) {\n                    this[rule.hours ? \"_hour\" : \"_date\"](date, rule, 1);\n                }\n            }\n        }),\n        WeeklyFrequency = DailyFrequency.extend({\n            setup: function(rule, eventStartDate) {\n                if (!rule.weekDays) {\n                    rule.weekDays = [{\n                        day: eventStartDate.getDay(),\n                        offset: 0\n                    }];\n                }\n            }\n        }),\n        MonthlyFrequency = BaseFrequency.extend({\n            next: function(date, rule) {\n                var day, hours;\n                if (!BaseFrequency.fn.next(date, rule)) {\n                    if (rule.hours) {\n                        this._hour(date, rule, 1);\n                    } else if (rule.monthDays || rule.weekDays || rule.yearDays || rule.weeks) {\n                        this._date(date, rule, 1);\n                    } else {\n                        day = date.getDate();\n                        hours = date.getHours();\n\n                        date.setMonth(date.getMonth() + 1);\n                        adjustDST(date, hours);\n\n                        while (date.getDate() !== day) {\n                            date.setDate(day);\n                            adjustDST(date, hours);\n                        }\n\n                        this._hour(date, rule);\n                    }\n                }\n            },\n            normalize: function(options) {\n                var rule = options.rule,\n                    date = options.date,\n                    hours = date.getHours();\n\n                if (options.idx === 0 && !rule.monthDays && !rule.weekDays) {\n                    date.setDate(options.day);\n                    adjustDST(date, hours);\n                } else {\n                    BaseFrequency.fn.normalize(options);\n                }\n            },\n            setup: function(rule, eventStartDate, date) {\n                if (!rule.monthDays && !rule.weekDays) {\n                    date.setDate(eventStartDate.getDate());\n                }\n            }\n        }),\n        YearlyFrequency = MonthlyFrequency.extend({\n            next: function(date, rule) {\n                var day,\n                    hours = date.getHours();\n\n                if (!BaseFrequency.fn.next(date, rule)) {\n                    if (rule.hours) {\n                        this._hour(date, rule, 1);\n                    } else if (rule.monthDays || rule.weekDays || rule.yearDays || rule.weeks) {\n                        this._date(date, rule, 1);\n                    } else if (rule.months) {\n                        day = date.getDate();\n\n                        date.setMonth(date.getMonth() + 1);\n                        adjustDST(date, hours);\n\n                        while (date.getDate() !== day) {\n                            date.setDate(day);\n                            adjustDST(date, hours);\n                        }\n\n                        this._hour(date, rule);\n                    } else {\n                        date.setFullYear(date.getFullYear() + 1);\n                        adjustDST(date, hours);\n\n                        this._hour(date, rule);\n                    }\n                }\n            },\n            setup: function() {}\n        }),\n        frequencies = {\n            \"hourly\": new HourlyFrequency(),\n            \"daily\": new DailyFrequency(),\n            \"weekly\": new WeeklyFrequency(),\n            \"monthly\": new MonthlyFrequency(),\n            \"yearly\": new YearlyFrequency()\n        },\n        CLICK = \"click\",\n        CHANGE = \"change\";\n\n    function intervalExcess(diff, interval) {\n        var excess;\n        if (diff !== 0 && diff < interval) {\n            excess = interval - diff;\n        } else {\n            excess = diff % interval;\n            if (excess) {\n                excess = interval - excess;\n            }\n        }\n\n        return excess;\n    }\n\n    function dayInYear(date) {\n        var month = date.getMonth();\n        var days = leapYear(date) ? DAYS_IN_LEAPYEAR[month] : DAYS_IN_YEAR[month];\n\n        return days + date.getDate();\n    }\n\n    function weekInYear(date, weekStart) {\n        var year, days;\n\n        date = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n        adjustDST(date, 0);\n\n        year = date.getFullYear();\n\n        if (weekStart !== undefined$1) {\n            setDayOfWeek(date, weekStart, -1);\n            date.setDate(date.getDate() + 4);\n        } else {\n            date.setDate(date.getDate() + (4 - (date.getDay() || 7)));\n        }\n\n        adjustDST(date, 0);\n        days = Math.floor((date.getTime() - new Date(year, 0, 1, -6)) / 86400000);\n\n        return 1 + Math.floor(days / 7);\n    }\n\n    function weekInMonth(date, weekStart) {\n        var firstWeekDay = firstDayOfMonth(date).getDay();\n        var firstWeekLength = 7 - (firstWeekDay + 7 - (weekStart || 7)) || 7;\n\n        if (firstWeekLength < 0) {\n            firstWeekLength += 7;\n        }\n\n        return Math.ceil((date.getDate() - firstWeekLength) / 7) + 1;\n    }\n\n    function normalizeDayIndex(weekDay, weekStart) {\n        return weekDay + (weekDay < weekStart ? 7 : 0);\n    }\n\n    function normalizeOffset(date, rule, weekStart) {\n        var offset = rule.offset;\n\n        if (!offset) {\n            return weekInMonth(date, weekStart);\n        }\n\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        var weeksInMonth = weekInMonth(lastDate, weekStart);\n\n        var day = normalizeDayIndex(rule.day, weekStart);\n\n        var skipFirst = day < normalizeDayIndex(new Date(date.getFullYear(), date.getMonth(), 1).getDay(), weekStart);\n        var skipLast = day > normalizeDayIndex(lastDate.getDay(), weekStart);\n\n        if (offset < 0) {\n            offset = weeksInMonth + (offset + 1 - (skipLast ? 1 : 0));\n        } else if (skipFirst) {\n            offset += 1;\n        }\n\n        weeksInMonth -= (skipLast ? 1 : 0);\n\n        if (offset < (skipFirst ? 1 : 0) || offset > weeksInMonth) {\n            return null;\n        }\n\n        return offset;\n    }\n\n    function numberOfWeeks(date, weekStart) {\n        return weekInMonth(new Date(date.getFullYear(), date.getMonth() + 1, 0), weekStart);\n    }\n\n    function isInWeek(date, rule, weekStart) {\n        return weekInMonth(date, weekStart) === normalizeOffset(date, rule, weekStart);\n    }\n\n    function ruleWeekValues(weekDays, date, weekStart) {\n        var currentDay = normalizeDayIndex(date.getDay(), weekStart);\n        var length = weekDays.length;\n        var ruleWeekOffset;\n        var weekDay, day;\n        var weekNumber;\n        var result = [];\n        var idx = 0;\n\n        for (;idx < length; idx++) {\n            weekDay = weekDays[idx];\n\n            weekNumber = weekInMonth(date, weekStart);\n            ruleWeekOffset = normalizeOffset(date, weekDay, weekStart);\n\n            if (ruleWeekOffset === null) {\n                continue;\n            }\n\n            if (weekNumber < ruleWeekOffset) {\n                result.push(weekDay);\n            } else if (weekNumber === ruleWeekOffset) {\n                day = normalizeDayIndex(weekDay.day, weekStart);\n\n                if (currentDay < day) {\n                    result.push(weekDay);\n                } else if (currentDay === day) {\n                    return null;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    function ruleValues(rules, value, normalize) {\n        var idx = 0,\n            length = rules.length,\n            availableRules = [],\n            ruleValue;\n\n        for (; idx < length; idx++) {\n            ruleValue = rules[idx];\n\n            if (normalize) {\n                ruleValue = normalize(ruleValue);\n            }\n\n            if (value === ruleValue) {\n                return null;\n            } else if (value < ruleValue) {\n                availableRules.push(ruleValue);\n            }\n        }\n\n        return availableRules;\n    }\n\n    function parseArray(list, range) {\n        var idx = 0,\n            length = list.length,\n            value;\n\n        for (; idx < length; idx++) {\n            value = parseInt(list[idx], 10);\n            if (isNaN(value) || value < range.start || value > range.end || (value === 0 && range.start < 0)) {\n                return null;\n            }\n\n            list[idx] = value;\n        }\n\n        return list.sort(numberSortPredicate);\n    }\n\n    function parseWeekDayList(list) {\n        var idx = 0, length = list.length,\n            value, valueLength, day;\n\n        for (; idx < length; idx++) {\n            value = list[idx];\n            valueLength = value.length;\n            day = value.substring(valueLength - 2).toUpperCase();\n\n            day = WEEK_DAYS_IDX[day];\n            if (day === undefined$1) {\n                return null;\n            }\n\n            list[idx] = {\n                offset: parseInt(value.substring(0, valueLength - 2), 10) || 0,\n                day: day\n            };\n        }\n        return list;\n    }\n\n    function serializeWeekDayList(list) {\n        var idx = 0, length = list.length,\n            value, valueString, result = [];\n\n        for (; idx < length; idx++) {\n            value = list[idx];\n            if (typeof value === \"string\") {\n                valueString = value;\n            } else {\n                valueString = \"\" + WEEK_DAYS[value.day];\n\n                if (value.offset) {\n                    valueString = value.offset + valueString;\n                }\n            }\n\n            result.push(valueString);\n        }\n        return result.toString();\n    }\n\n    function getMonthLength(date) {\n        var month = date.getMonth();\n\n        if (month === 1) {\n            if (new Date(date.getFullYear(), 1, 29).getMonth() === 1) {\n                return 29;\n            }\n            return 28;\n        }\n        return MONTHS[month];\n    }\n\n    function leapYear(year) {\n        year = year.getFullYear();\n        return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n    }\n\n    function numberSortPredicate(a, b) {\n        return a - b;\n    }\n\n    function parseExceptions(exceptions, zone) {\n        var idx = 0, length, date,\n            dates = [];\n\n        if (exceptions) {\n            exceptions = exceptions.split(exceptions.indexOf(\";\") !== -1 ? \";\" : \",\");\n            length = exceptions.length;\n\n            for (; idx < length; idx++) {\n                date = parseUTCDate(exceptions[idx], zone);\n\n                if (date) {\n                    dates.push(date);\n                }\n            }\n        }\n\n        return dates;\n    }\n\n    function isException(exceptions, date, zone) {\n        var dates = Array.isArray(exceptions) ? exceptions : parseExceptions(exceptions, zone),\n            dateTime = date.getTime() - date.getMilliseconds(),\n            idx = 0, length = dates.length;\n\n        for (; idx < length; idx++) {\n            if (dates[idx].getTime() === dateTime) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function toExceptionString(dates, zone) {\n        var idx = 0;\n        var length;\n        var date;\n        var result = [].concat(dates);\n\n        for (length = result.length; idx < length; idx++) {\n            date = result[idx];\n            date = kendo.timezone.convert(date, zone || date.getTimezoneOffset(), \"Etc/UTC\");\n            result[idx] = kendo.toString(date, RECURRENCE_DATE_FORMAT);\n        }\n\n        return result.join(\",\");\n    }\n\n    function startPeriodByFreq(start, rule) {\n        var date = new Date(start);\n\n        switch (rule.freq) {\n            case \"yearly\":\n                date.setFullYear(date.getFullYear(), 0, 1);\n                break;\n\n            case \"monthly\":\n                date.setFullYear(date.getFullYear(), date.getMonth(), 1);\n                break;\n\n            case \"weekly\":\n                setDayOfWeek(date, rule.weekStart, -1);\n                break;\n\n            default:\n                break;\n        }\n\n        if (rule.hours) {\n            date.setHours(0);\n        }\n\n        if (rule.minutes) {\n            date.setMinutes(0);\n        }\n\n        if (rule.seconds) {\n            date.setSeconds(0);\n        }\n\n        return date;\n    }\n\n    function endPeriodByFreq(start, rule) {\n        var date = new Date(start);\n\n        switch (rule.freq) {\n            case \"yearly\":\n                date.setFullYear(date.getFullYear(), 11, 31);\n                break;\n\n            case \"monthly\":\n                date.setFullYear(date.getFullYear(), date.getMonth() + 1, 0);\n                break;\n\n            case \"weekly\":\n                setDayOfWeek(date, rule.weekStart, -1);\n                date.setDate(date.getDate() + 6);\n                break;\n\n            default:\n                break;\n        }\n\n        if (rule.hours) {\n            date.setHours(23);\n        }\n\n        if (rule.minutes) {\n            date.setMinutes(59);\n        }\n\n        if (rule.seconds) {\n            date.setSeconds(59);\n        }\n\n        return date;\n    }\n\n    function eventsByPosition(periodEvents, start, positions, until) {\n        var periodEventsLength = periodEvents.length;\n        var events = [];\n        var position;\n        var event;\n        var inPeriod;\n\n        for (var idx = 0, length = positions.length; idx < length; idx++) {\n            position = positions[idx];\n\n            if (position < 0) {\n                position = periodEventsLength + position;\n            } else {\n                position -= 1; //convert to zero based index\n            }\n\n            event = periodEvents[position];\n            inPeriod = until ? event.start < until : true;\n\n            if (event && event.start >= start && inPeriod) {\n                events.push(event);\n            }\n        }\n\n        return events;\n    }\n\n    function removeExceptionDates(periodEvents, exceptionDates, zone) {\n        var events = [];\n        var event;\n\n        for (var idx = 0; idx < periodEvents.length; idx++) {\n            event = periodEvents[idx];\n            if (!isException(exceptionDates, event.start, zone)) {\n                events.push(event);\n            }\n        }\n\n        return events;\n    }\n\n    function expand(event, start, end, zone) {\n        var rule,\n            startTime, endTime, endDate,\n            hours, minutes, seconds,\n            durationMS, startPeriod, inPeriod,\n            ruleStart, ruleEnd,\n            useEventStart, freqName,\n            exceptionDates,\n            eventStartTime,\n            eventStartMS,\n            eventStart,\n            count, freq,\n            positions,\n            currentIdx,\n            periodEvents,\n            events = [],\n            shiftedStart,\n            shiftedEnd,\n            shiftedStartTime,\n            shifterEndTime;\n\n        rule = parseRule(event.recurrenceRule, zone, { // offsets argument\n            start: (getZoneOffset(event.start, zone) - getZoneOffset(event.start, event.startTimezone || zone)) * kendo.date.MS_PER_MINUTE,\n            end: (getZoneOffset(event.end, zone) - getZoneOffset(event.end, event.endTimezone || zone)) * kendo.date.MS_PER_MINUTE\n        });\n\n        if (!rule) {\n            return [event];\n        }\n\n        positions = rule.positions;\n        currentIdx = positions ? 0 : 1;\n\n        ruleStart = rule.start;\n        ruleEnd = rule.end;\n\n        if (ruleStart || ruleEnd) {\n            event = event.clone({\n                start: ruleStart ? new Date(ruleStart.value[0]) : undefined$1,\n                end: ruleEnd ? new Date(ruleEnd.value[0]) : undefined$1\n            });\n        }\n\n        eventStart = event.start;\n        eventStartMS = eventStart.getTime();\n        eventStartTime = getMilliseconds(eventStart);\n\n        exceptionDates = parseExceptions(event.recurrenceException, zone);\n\n        if (!exceptionDates[0] && rule.exdates) {\n            exceptionDates = rule.exdates.value;\n            event.set(\"recurrenceException\", toExceptionString(exceptionDates, zone));\n        }\n\n        startPeriod = start = new Date(start);\n        end = new Date(end);\n\n        freqName = rule.freq;\n        freq = frequencies[freqName];\n        count = rule.count;\n\n        if (rule.until && rule.until < end) {\n            end = new Date(rule.until);\n        }\n\n        useEventStart = freqName === \"yearly\" || freqName === \"monthly\" || freqName === \"weekly\";\n\n        if (start < eventStartMS || count || rule.interval > 1 || useEventStart ||\n             ((freqName === \"daily\" || freqName === \"hourly\") && !rule.seconds)) {\n                    start = new Date(eventStartMS);\n        } else {\n            hours = start.getHours();\n            minutes = start.getMinutes();\n            seconds = start.getSeconds();\n\n            if (!rule.hours) {\n                hours = eventStart.getHours();\n            }\n\n            if (!rule.minutes) {\n                minutes = eventStart.getMinutes();\n            }\n\n            if (!rule.seconds) {\n                seconds = eventStart.getSeconds();\n            }\n\n            start.setHours(hours, minutes, seconds, eventStart.getMilliseconds());\n        }\n\n        rule._startPeriod = new Date(start);\n\n        if (positions) {\n            start = startPeriodByFreq(start, rule);\n            end = endPeriodByFreq(end, rule);\n\n            var diff = getMilliseconds(end) - getMilliseconds(start);\n            if (diff < 0) {\n                hours = start.getHours();\n                end.setHours(hours, start.getMinutes(), start.getSeconds(), start.getMilliseconds());\n                kendoDate.adjustDST(end, hours);\n            }\n\n            rule._startPeriod = new Date(start);\n            rule._endPeriod = endPeriodByFreq(start, rule);\n        }\n\n        durationMS = event.duration();\n        var allDayCompensation = event.isAllDay ? 86400000 : 0;\n        rule._startTime = startTime = kendoDate.toInvariantTime(start);\n\n        if (freq.setup) {\n            freq.setup(rule, eventStart, start);\n        }\n\n        freq.limit(start, end, rule);\n\n        while (start <= end) {\n            endDate = new Date(start);\n            setTime(endDate, durationMS);\n            var inPeriodCheckEndDate = new Date(start);\n            setTime(inPeriodCheckEndDate, durationMS + allDayCompensation);\n\n            inPeriod = start >= startPeriod || inPeriodCheckEndDate > startPeriod;\n\n            if (inPeriod && !isException(exceptionDates, start, zone) || positions) {\n                startTime = kendoDate.toUtcTime(kendoDate.getDate(start)) + getMilliseconds(rule._startTime);\n                endTime = startTime + durationMS;\n\n                if (eventStartMS !== start.getTime() || eventStartTime !== getMilliseconds(rule._startTime)) {\n                    var startZone = event.startTimezone || event.endTimezone;\n                    var endZone = event.endTimezone || event.startTimezone;\n\n                    if (!event.isAllDay) {\n                        if ((zone && startZone) || (!zone && !startZone)) {\n                            var startOffsetDiff = getZoneOffset(start, zone) - getZoneOffset(event.start, zone);\n                            var endOffsetDiff = getZoneOffset(endDate, zone) - getZoneOffset(event.end, zone);\n                            var startTZOffsetDiff = getZoneOffset(start, startZone) - getZoneOffset(event.start, startZone);\n                            var endTZOffsetDiff = getZoneOffset(endDate, endZone) - getZoneOffset(event.end, endZone);\n\n                            if (startOffsetDiff !== startTZOffsetDiff) {\n                                var offsetTicksStart = (startOffsetDiff - startTZOffsetDiff) * 60000;\n                                shiftedStart = new Date(start.getTime() - offsetTicksStart);\n                                shiftedStartTime = startTime - offsetTicksStart;\n                            }\n\n                            if (endOffsetDiff !== endTZOffsetDiff) {\n                                var offsetTicksEnd = (endOffsetDiff - endTZOffsetDiff) * 60000;\n                                shiftedEnd = new Date(endDate.getTime() - offsetTicksEnd);\n                                shifterEndTime = endTime - offsetTicksEnd;\n                            }\n                        }\n                    }\n\n\n                    events.push(event.toOccurrence({\n                        start: shiftedStart || new Date(start),\n                        end: shiftedEnd || endDate,\n                        _startTime: shiftedStartTime || startTime,\n                        _endTime: shifterEndTime || endTime\n                    }));\n\n                    shiftedStart = shiftedEnd = shiftedStartTime = shifterEndTime = null;\n                } else {\n                    event._startTime = startTime;\n                    event._endTime = endTime;\n                    events.push(event);\n                }\n            }\n\n            if (positions) {\n                freq.next(start, rule);\n                freq.limit(start, end, rule);\n\n                if (start > rule._endPeriod) {\n                    periodEvents = eventsByPosition(events.slice(currentIdx), eventStart, positions, rule.until);\n                    periodEvents = removeExceptionDates(periodEvents, exceptionDates, zone);\n                    events = events.slice(0, currentIdx).concat(periodEvents);\n\n                    rule._endPeriod = endPeriodByFreq(start, rule);\n\n                    currentIdx = events.length;\n                }\n\n                if (count && count === currentIdx) {\n                    break;\n                }\n\n            } else {\n                if (count && count === currentIdx) {\n                    break;\n                }\n\n                currentIdx += 1;\n\n                var isMissingDSTHour = isDSTMissingHour(start);\n                freq.next(start, rule);\n\n                if (isMissingDSTHour && rule.freq !== \"hourly\" && kendoDate.toInvariantTime(event.start).getTime() !== kendoDate.toInvariantTime(start).getTime()) {\n                    rule._startTime = startTime = new Date(start.getTime() - 3600000);\n                }\n\n                freq.limit(start, end, rule);\n            }\n        }\n\n        return events;\n    }\n\n    function isDSTMissingHour(date) {\n        var dateOffset = date.getTimezoneOffset();\n        var dateMinusHour = new Date(date.getTime() - 3600000);\n        var dateMinusHourOffset = dateMinusHour.getTimezoneOffset();\n\n        return dateOffset < dateMinusHourOffset;\n    }\n\n    function getZoneOffset(date, zone) {\n        return zone ? kendo.timezone.offset(date, zone) : date.getTimezoneOffset();\n    }\n\n    function parseUTCDate(value, zone) {\n        value = kendo.parseDate(value, DATE_FORMATS); //Parse UTC to local time\n\n        if (value && zone) {\n            value = timezone.apply(value, zone);\n        }\n\n        return value;\n    }\n\n    function parseDateRule(dateRule, zone) {\n        var pairs = dateRule.split(\";\");\n        var pair;\n        var property;\n        var value;\n        var tzid;\n        var valueIdx, valueLength;\n\n        for (var idx = 0, length = pairs.length; idx < length; idx++) {\n            pair = pairs[idx].split(\":\");\n            property = pair[0];\n            value = pair[1];\n\n            if (property.indexOf(\"TZID\") !== -1) {\n                tzid = property.substring(property.indexOf(\"TZID\")).split(\"=\")[1];\n            }\n\n            if (value) {\n                value = value.split(\",\");\n\n                for (valueIdx = 0, valueLength = value.length; valueIdx < valueLength; valueIdx++) {\n                    value[valueIdx] = parseUTCDate(value[valueIdx], tzid || zone);\n                }\n            }\n        }\n\n        if (value) {\n            return {\n                value: value,\n                tzid: tzid\n            };\n        }\n    }\n\n    function parseRule(recur, zone, offsets) {\n        var instance = {};\n        var splits, value;\n        var idx = 0, length;\n        var ruleValue = false;\n        var rule, part, parts;\n        var property, weekStart, weekDays;\n        var predicate = function(a, b) {\n            var day1 = a.day,\n                day2 = b.day;\n\n            if (day1 < weekStart) {\n               day1 += 7;\n            }\n\n            if (day2 < weekStart) {\n                day2 += 7;\n            }\n\n            return day1 - day2;\n        };\n\n        if (!recur) {\n            return null;\n        }\n\n        parts = recur.split(\"\\n\");\n\n        if (!parts[1] && (recur.indexOf(\"DTSTART\") !== -1 || recur.indexOf(\"DTEND\") !== -1 || recur.indexOf(\"EXDATE\") !== -1)) {\n            parts = recur.split(\" \");\n        }\n\n        for (idx = 0, length = parts.length; idx < length; idx++) {\n            part = kendo.trim(parts[idx]);\n\n            if (part.indexOf(\"DTSTART\") !== -1) {\n                instance.start = parseDateRule(part, zone);\n            } else if (part.indexOf(\"DTEND\") !== -1) {\n                instance.end = parseDateRule(part, zone);\n            } else if (part.indexOf(\"EXDATE\") !== -1) {\n                instance.exdates = parseDateRule(part, zone);\n            } else if (part.indexOf(\"RRULE\") !== -1) {\n                rule = part.substring(6);\n            } else if (kendo.trim(part)) {\n                rule = part;\n            }\n        }\n\n        rule = rule.split(\";\");\n\n        for (idx = 0, length = rule.length; idx < length; idx++) {\n            property = rule[idx];\n            splits = property.split(\"=\");\n            value = kendo.trim(splits[1]).split(\",\");\n\n            switch (kendo.trim(splits[0]).toUpperCase()) {\n                case \"FREQ\":\n                    instance.freq = value[0].toLowerCase();\n                    break;\n                case \"UNTIL\":\n                    instance.until = parseUTCDate(value[0], zone);\n                    break;\n                case \"COUNT\":\n                    instance.count = parseInt(value[0], 10);\n                    break;\n                case \"INTERVAL\":\n                    instance.interval = parseInt(value[0], 10);\n                    break;\n                case \"BYSECOND\":\n                    instance.seconds = parseArray(value, { start: 0, end: 60 });\n                    ruleValue = true;\n                    break;\n                case \"BYMINUTE\":\n                    instance.minutes = parseArray(value, { start: 0, end: 59 });\n                    ruleValue = true;\n                    break;\n                case \"BYHOUR\":\n                    instance.hours = parseArray(value, { start: 0, end: 23 });\n                    ruleValue = true;\n                    break;\n                case \"BYMONTHDAY\":\n                    instance.monthDays = parseArray(value, { start: -31, end: 31 });\n                    ruleValue = true;\n                    break;\n                case \"BYYEARDAY\":\n                    instance.yearDays = parseArray(value, { start: -366, end: 366 });\n                    ruleValue = true;\n                    break;\n                case \"BYMONTH\":\n                    instance.months = parseArray(value, { start: 1, end: 12 });\n                    ruleValue = true;\n                    break;\n                case \"BYDAY\":\n                    instance.weekDays = weekDays = parseWeekDayList(value);\n                    ruleValue = true;\n                    break;\n                case \"BYWEEKNO\":\n                    instance.weeks = parseArray(value, { start: -53, end: 53 });\n                    ruleValue = true;\n                    break;\n                case \"BYSETPOS\":\n                    instance.positions = parseArray(value, { start: -366, end: 366 });\n                    break;\n                case \"WKST\":\n                    instance.weekStart = weekStart = WEEK_DAYS_IDX[value[0]];\n                    break;\n            }\n        }\n\n        if (instance.freq === undefined$1 || (instance.count !== undefined$1 && instance.until)) {\n            return null;\n        }\n\n        if (!instance.interval) {\n            instance.interval = 1;\n        }\n\n        if (weekStart === undefined$1) {\n            instance.weekStart = weekStart = kendo.culture().calendar.firstDay;\n        }\n\n        if (weekDays) {\n            instance.weekDays = weekDays.sort(predicate);\n        }\n\n        if (instance.positions && !ruleValue) {\n            instance.positions = null;\n        }\n\n        instance._hasRuleValue = ruleValue;\n        instance.offsets = offsets;\n\n        return instance;\n    }\n\n    function serializeDateRule(dateRule, zone) {\n        var value = dateRule.value;\n        var tzid = dateRule.tzid || \"\";\n        var length = value.length;\n        var idx = 0;\n        var val;\n\n        for (; idx < length; idx++) {\n            val = value[idx];\n            val = timezone.convert(val, tzid || zone || val.getTimezoneOffset(), \"Etc/UTC\");\n            value[idx] = kendo.toString(val, \"yyyyMMddTHHmmssZ\");\n        }\n\n        if (tzid) {\n            tzid = \";TZID=\" + tzid;\n        }\n\n        return tzid + \":\" + value.join(\",\") + \" \";\n    }\n\n    function serialize(rule, zone) {\n        var weekStart = rule.weekStart;\n        var ruleString = \"FREQ=\" + rule.freq.toUpperCase();\n        var exdates = rule.exdates || \"\";\n        var start = rule.start || \"\";\n        var end = rule.end || \"\";\n        var until = rule.until;\n\n        if (weekStart === undefined$1) {\n            weekStart = kendo.culture().calendar.firstDay;\n        }\n\n        if (rule.interval > 1) {\n            ruleString += \";INTERVAL=\" + rule.interval;\n        }\n\n        if (rule.count) {\n            ruleString += \";COUNT=\" + rule.count;\n        }\n\n        if (until) {\n            until = timezone.convert(until, zone || until.getTimezoneOffset(), \"Etc/UTC\");\n\n            ruleString += \";UNTIL=\" + kendo.toString(until, \"yyyyMMddTHHmmssZ\");\n        }\n\n        if (rule.months) {\n            ruleString += \";BYMONTH=\" + rule.months;\n        }\n\n        if (rule.weeks) {\n            ruleString += \";BYWEEKNO=\" + rule.weeks;\n        }\n\n        if (rule.yearDays) {\n            ruleString += \";BYYEARDAY=\" + rule.yearDays;\n        }\n\n        if (rule.monthDays) {\n            ruleString += \";BYMONTHDAY=\" + rule.monthDays;\n        }\n\n        if (rule.weekDays) {\n            ruleString += \";BYDAY=\" + serializeWeekDayList(rule.weekDays);\n        }\n\n        if (rule.hours) {\n            ruleString += \";BYHOUR=\" + rule.hours;\n        }\n\n        if (rule.minutes) {\n            ruleString += \";BYMINUTE=\" + rule.minutes;\n        }\n\n        if (rule.seconds) {\n            ruleString += \";BYSECOND=\" + rule.seconds;\n        }\n\n        if (rule.positions) {\n            ruleString += \";BYSETPOS=\" + rule.positions;\n        }\n\n        if (weekStart !== undefined$1) {\n            ruleString += \";WKST=\" + WEEK_DAYS[weekStart];\n        }\n\n        if (start) {\n            start = \"DTSTART\" + serializeDateRule(start, zone);\n        }\n\n        if (end) {\n            end = \"DTEND\" + serializeDateRule(end, zone);\n        }\n\n        if (exdates) {\n            exdates = \"EXDATE\" + serializeDateRule(exdates, zone);\n        }\n\n        if (start || end || exdates) {\n            ruleString = start + end + exdates + \"RRULE:\" + ruleString;\n        }\n\n        return ruleString;\n    }\n\n    kendo.recurrence = {\n        rule: {\n            parse: parseRule,\n            serialize: serialize\n        },\n        expand: expand,\n        dayInYear: dayInYear,\n        weekInYear: weekInYear,\n        weekInMonth: weekInMonth,\n        numberOfWeeks: numberOfWeeks,\n        isException: isException,\n        toExceptionString: toExceptionString\n    };\n\n    var RECURRENCE_VIEW_TEMPLATE = kendo.template(({ frequency, messages, end }) =>\n       (frequency !== \"never\" ?\n            '<div class=\"k-form-field\">' +\n                `<label id=\"recur_interval_label\" class=\"k-label k-form-label\" for=\"recur_interval\">${encode(messages.repeatEvery)}</label>` +\n                '<div class=\"k-form-field-wrap\">' +\n                    `<input id=\"recur_interval\" class=\"k-recur-interval\" title=\"${encode(messages.repeatEvery)} ${encode(messages.interval)}\" aria-labelledby=\"recur_interval_label\">${encode(messages.interval)}` +\n                '</div>' +\n            '</div>' : ''\n       ) +\n       (frequency === \"weekly\" ?\n            '<div class=\"k-form-field\">' +\n                `<label class=\"k-label k-form-label\">${encode(messages.repeatOn)}</label>` +\n                '<div class=\"k-form-field-wrap\">' +\n                    `<div class=\"k-button-group-stretched k-recur-weekday-buttons\" title=\"${encode(messages.repeatOn)}\"></div></div>` +\n                '</div>' +\n            '</div>' : ''\n        ) +\n        (frequency === \"monthly\" ?\n            `<div class=\"k-form-field\"><label class=\"k-label k-form-label\">${encode(messages.repeatOn)}</label></div>` +\n                '<div class=\"k-form-field-wrap\">' +\n                    '<ul class=\"k-radio-list\">' +\n                        '<li class=\"k-radio-item\">' +\n                            `<label class=\"k-radio-label\"><input class=\"k-recur-month-radio k-radio k-radio-md\" type=\"radio\" name=\"month\" value=\"monthday\" title=\"${encode(messages.repeatOn)}\" />${encode(messages.date)}:</label>` +\n                            `<input class=\"k-recur-monthday\" aria-label=\"${encode(messages.date)}\" title=\"${encode(messages.date)}\" />` +\n                        '</li>' +\n                        '<li class=\"k-radio-item\">' +\n                            `<input class=\"k-recur-month-radio k-radio k-radio-md\" type=\"radio\" name=\"month\" value=\"weekday\" aria-label=\"${encode(messages.repeatOn)} ${encode(messages.day)}\" title=\"${encode(messages.repeatOn)} ${encode(messages.day)}\" />` +\n                            `<input class=\"k-recur-weekday-offset\" title=\"${encode(messages.repeatOn)}\" style=\"width:8em;\" />` +\n                            `<input class=\"k-recur-weekday\" title=\"${encode(messages.day)}\" style=\"width:8em;\" />` +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>' : ''\n        ) +\n       (frequency === \"yearly\" ?\n            `<div class=\"k-form-field\"><label class=\"k-label k-form-label\">${encode(messages.repeatOn)}</label>` +\n                '<div class=\"k-form-field-wrap\">' +\n                    '<ul class=\"k-radio-list\">' +\n                        '<li class=\"k-radio-item\">' +\n                            `<input class=\"k-recur-year-radio k-radio k-radio-md\" type=\"radio\" name=\"year\" value=\"monthday\" title=\"${encode(messages.repeatOn)} ${encode(messages.month)}\" />` +\n                            `<input class=\"k-recur-month\" aria-label=\"${encode(messages.month)}\" title=\"${encode(messages.month)}\" style=\"width:8em;\" />` +\n                            `<input class=\"k-recur-monthday\" aria-label=\"${encode(messages.date)}\" title=\"${encode(messages.date)}\" />` +\n                        '</li>' +\n                        '<li class=\"k-radio-item\">' +\n                            `<input class=\"k-recur-year-radio k-radio k-radio-md\" type=\"radio\" name=\"year\" value=\"weekday\" title=\"${encode(messages.repeatOn)} ${encode(messages.day)}\" />` +\n                            `<input class=\"k-recur-weekday-offset\" title=\"${encode(messages.repeatOn)}\" style=\"width:8em;\"/><input class=\"k-recur-weekday\" title=\"${encode(messages.day)}\" style=\"width:8em;\"/>${encode(messages.of)}<input class=\"k-recur-month\" title=\"${encode(messages.of + messages.month)}\" style=\"width:8em;\"/>` +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>' : ''\n       ) +\n       (frequency !== \"never\" ?\n            `<div class=\"k-form-field\"><label class=\"k-label k-form-label\">${encode(end.label)}</label>` +\n                '<div class=\"k-form-field-wrap\">' +\n                    '<ul class=\"k-radio-list\">' +\n                        '<li class=\"k-radio-item\">' +\n                            `<label class=\"k-radio-label\"><input class=\"k-recur-end-never k-radio k-radio-md\" type=\"radio\" name=\"end\" value=\"never\" title=\"${encode(end.label)}\" />${encode(end.never)}</label>` +\n                        '</li>' +\n                        '<li class=\"k-radio-item\">' +\n                            `<label class=\"k-radio-label\"><input class=\"k-recur-end-count k-radio k-radio-md\" type=\"radio\" name=\"end\" value=\"count\" title=\"${encode(end.label)}\" />${encode(end.after)}</label>` +\n                            `<input class=\"k-recur-count\" aria-label=\"${encode(end.occurrence)}\" title=\"${encode(end.occurrence)}\" />${encode(end.occurrence)}` +\n                        '</li>' +\n                        '<li class=\"k-radio-item\">' +\n                            `<label class=\"k-radio-label\"><input class=\"k-recur-end-until k-radio k-radio-md\" type=\"radio\" name=\"end\" value=\"until\" title=\"${encode(end.label)}\" />${encode(end.on)}</label>` +\n                            `<input class=\"k-recur-until\" title=\"${encode(end.on)}\" aria-label=\"${encode(end.on)}\" name=\"recur-until\" />` +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>' : ''\n       )\n    );\n\n    var DAY_RULE = [\n        { day: 0, offset: 0 },\n        { day: 1, offset: 0 },\n        { day: 2, offset: 0 },\n        { day: 3, offset: 0 },\n        { day: 4, offset: 0 },\n        { day: 5, offset: 0 },\n        { day: 6, offset: 0 }\n    ];\n\n    var WEEKDAY_RULE = [\n        { day: 1, offset: 0 },\n        { day: 2, offset: 0 },\n        { day: 3, offset: 0 },\n        { day: 4, offset: 0 },\n        { day: 5, offset: 0 }\n    ];\n\n    var WEEKEND_RULE = [\n        { day: 0, offset: 0 },\n        { day: 6, offset: 0 }\n    ];\n\n    var BaseRecurrenceEditor = Widget.extend({\n        init: function(element, options) {\n            var start;\n            var that = this;\n            var frequencies = options && options.frequencies;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            options = that.options;\n            options.start = start = options.start || kendoDate.today();\n\n            if (frequencies) {\n                options.frequencies = frequencies;\n            }\n\n            if (typeof start === \"string\") {\n                options.start = kendo.parseDate(start, \"yyyyMMddTHHmmss\");\n            }\n\n            if (options.firstWeekDay === null) {\n                options.firstWeekDay = kendo.culture().calendar.firstDay;\n            }\n\n            that._namespace = \".\" + options.name;\n        },\n\n        options: {\n            value: \"\",\n            start: \"\",\n            timezone: \"\",\n            spinners: true,\n            firstWeekDay: null,\n            frequencies: [\n                \"never\",\n                \"daily\",\n                \"weekly\",\n                \"monthly\",\n                \"yearly\"\n            ],\n            mobile: false,\n            messages: {\n                repeat: \"Repeat\",\n                recurrenceEditorTitle: \"Recurrence editor\",\n                frequencies: {\n                    never: \"Never\",\n                    hourly: \"Hourly\",\n                    daily: \"Daily\",\n                    weekly: \"Weekly\",\n                    monthly: \"Monthly\",\n                    yearly: \"Yearly\"\n                },\n                hourly: {\n                    repeatEvery: \"Repeat every: \",\n                    interval: \" hour(s)\"\n                },\n                daily: {\n                    repeatEvery: \"Repeat every: \",\n                    interval: \" day(s)\"\n                },\n                weekly: {\n                    interval: \" week(s)\",\n                    repeatEvery: \"Repeat every: \",\n                    repeatOn: \"Repeat on: \"\n                },\n                monthly: {\n                    repeatEvery: \"Repeat every: \",\n                    repeatOn: \"Repeat on: \",\n                    interval: \" month(s)\",\n                    day: \"Day \",\n                    date: \"Date\"\n                },\n                yearly: {\n                    repeatEvery: \"Repeat every: \",\n                    repeatOn: \"Repeat on: \",\n                    interval: \" year(s)\",\n                    of: \" of \",\n                    month: \"month\",\n                    day: \"day\",\n                    date: \"Date\"\n                },\n                end: {\n                    label: \"End:\",\n                    mobileLabel: \"Ends\",\n                    never: \"Never\",\n                    after: \"After \",\n                    occurrence: \" occurrence(s)\",\n                    on: \"On \"\n                },\n                offsetPositions: {\n                    first: \"first\",\n                    second: \"second\",\n                    third: \"third\",\n                    fourth: \"fourth\",\n                    last: \"last\"\n                },\n                weekdays: {\n                    day: \"day\",\n                    weekday: \"weekday\",\n                    weekend: \"weekend day\"\n                }\n            }\n        },\n\n        events: [\"change\"],\n\n        _initInterval: function() {\n            var that = this;\n            var rule = that._value;\n\n            that._container\n                .find(\".k-recur-interval\")\n                .kendoNumericTextBox({\n                    spinners: that.options.spinners,\n                    value: rule.interval || 1,\n                    decimals: 0,\n                    format: \"#\",\n                    min: 1,\n                    change: function() {\n                        rule.interval = this.value();\n                        that._trigger();\n                    }\n                });\n        },\n\n        _weekDayButtons: function(firstDay) {\n            var that = this,\n                names = kendo.culture().calendar.days.names,\n                abbreviated = kendo.culture().calendar.days.namesAbbr,\n                repeatOn = that.options.messages.weekly.repeatOn,\n                length = names.length,\n                idx = 0,\n                values = [],\n                items = [];\n\n            for (; idx < length; idx++) {\n                values.push(idx);\n            }\n\n            names = names.slice(firstDay).concat(names.slice(0, firstDay));\n            abbreviated = abbreviated.slice(firstDay).concat(abbreviated.slice(0, firstDay));\n            values = values.slice(firstDay).concat(values.slice(0, firstDay));\n\n            for (idx = 0; idx < length; idx++) {\n                items.push({\n                    text: abbreviated[idx],\n                    attributes: {\n                        \"data-value\": values[idx],\n                        \"aria-label\": repeatOn + \" \" + names[idx]\n                    }\n                });\n            }\n\n            if (that._container.find(\".k-recur-weekday-buttons\").length > 0) {\n                that._weekDayButtonGroup = new ButtonGroup(that._container.find(\".k-recur-weekday-buttons\"), {\n                    items: items,\n                    selection: \"multiple\",\n                    select: function() {\n                        var rule = that._value,\n                            selectedDays = that._weekDayButtonGroup.current();\n\n                        rule.weekDays = selectedDays.map(function(i, day) {\n                            return {\n                                day: Number(day.getAttribute(\"data-value\")),\n                                offset: 0\n                            };\n                        });\n\n                        if (!that.options.mobile) {\n                            that._trigger();\n                        }\n                    }\n                });\n            }\n        },\n\n        _weekDayRule: function(clear) {\n            var that = this;\n            var weekday = (that._weekDay.element || that._weekDay).val();\n            var offset = Number((that._weekDayOffset.element || that._weekDayOffset).val());\n            var weekDays = null;\n            var positions = null;\n\n            if (!clear) {\n                if (weekday === \"day\") {\n                    weekDays = DAY_RULE;\n                    positions = offset;\n                } else if (weekday === \"weekday\") {\n                    weekDays = WEEKDAY_RULE;\n                    positions = offset;\n                } else if (weekday === \"weekend\") {\n                    weekDays = WEEKEND_RULE;\n                    positions = offset;\n                } else {\n                    weekDays = [{\n                        offset: offset,\n                        day: Number(weekday)\n                    }];\n                }\n            }\n\n            that._value.weekDays = weekDays;\n            that._value.positions = positions;\n        },\n\n        _weekDayView: function() {\n            var that = this;\n            var weekDays = that._value.weekDays;\n            var positions = that._value.positions;\n            var weekDayOffsetWidget = that._weekDayOffset;\n            var weekDayOffset;\n            var weekDayValue;\n            var length;\n            var method;\n\n            if (weekDays) {\n                length = weekDays.length;\n\n                if (positions) {\n                    if (length === 7) {\n                        weekDayValue = \"day\";\n                        weekDayOffset = positions;\n                    } else if (length === 5) {\n                        weekDayValue = \"weekday\";\n                        weekDayOffset = positions;\n                    } else if (length === 2) {\n                        weekDayValue = \"weekend\";\n                        weekDayOffset = positions;\n                    }\n                }\n\n                if (!weekDayValue) {\n                    weekDays = weekDays[0];\n                    weekDayValue = weekDays.day;\n                    weekDayOffset = weekDays.offset || \"\";\n                }\n\n                method = weekDayOffsetWidget.value ? \"value\" : \"val\";\n\n                weekDayOffsetWidget[method](weekDayOffset);\n                that._weekDay[method](weekDayValue);\n            }\n        },\n\n        _initWeekDay: function() {\n            var that = this, data;\n\n            var weekdayMessage = that.options.messages.weekdays;\n            var offsetMessage = that.options.messages.offsetPositions;\n\n            var weekDayInput = that._container.find(\".k-recur-weekday\");\n\n            var change = function() {\n                that._weekDayRule();\n                that._trigger();\n            };\n\n            if (weekDayInput[0]) {\n                that._weekDayOffset = new DropDownList(that._container.find(\".k-recur-weekday-offset\"), {\n                    autoWidth: true,\n                    change: change,\n                    dataTextField: \"text\",\n                    dataValueField: \"value\",\n                    dataSource: [\n                        { text: offsetMessage.first, value: \"1\" },\n                        { text: offsetMessage.second, value: \"2\" },\n                        { text: offsetMessage.third, value: \"3\" },\n                        { text: offsetMessage.fourth, value: \"4\" },\n                        { text: offsetMessage.last, value: \"-1\" }\n                    ]\n                });\n\n                data = [\n                    { text: weekdayMessage.day, value: \"day\" },\n                    { text: weekdayMessage.weekday, value: \"weekday\" },\n                    { text: weekdayMessage.weekend, value: \"weekend\" }\n                ];\n\n                that._weekDay = new DropDownList(weekDayInput, {\n                    autoWidth: true,\n                    value: that.options.start.getDay(),\n                    change: change,\n                    dataTextField: \"text\",\n                    dataValueField: \"value\",\n                    dataSource: data.concat($.map(kendo.culture().calendar.days.names, function(dayName, idx) {\n                        return {\n                            text: dayName,\n                            value: idx\n                        };\n                    }))\n                });\n\n                that._weekDayView();\n            }\n        },\n\n        _initWeekDays: function() {\n            var that = this;\n            var rule = that._value;\n            var weekDayButtonGroup = that._weekDayButtonGroup;\n\n            if (weekDayButtonGroup && rule.weekDays && rule.weekDays.length) {\n                var ruleDays = rule.weekDays,\n                    ruleDaysLength = ruleDays.length,\n                    selectors = [],\n                    i = 0,\n                    selectedWeekDayButtons;\n\n                for (; i < ruleDaysLength; i++) {\n                    selectors.push(\"[data-value='\" + ruleDays[i].day + \"']\");\n                }\n\n                selectedWeekDayButtons = weekDayButtonGroup.element.find(selectors.join(\",\"));\n                weekDayButtonGroup.select(selectedWeekDayButtons);\n            }\n        },\n\n        _initMonthDay: function() {\n            var that = this;\n            var rule = that._value;\n            var monthDayInput = that._container.find(\".k-recur-monthday\");\n\n            if (monthDayInput[0]) {\n                that._monthDay = new kendo.ui.NumericTextBox(monthDayInput, {\n                    spinners: that.options.spinners,\n                    min: 1,\n                    max: 31,\n                    decimals: 0,\n                    format: \"#\",\n                    value: rule.monthDays ? rule.monthDays[0] : that.options.start.getDate(),\n                    change: function() {\n                        var value = this.value();\n\n                        rule.monthDays = value ? [value] : value;\n                        that._trigger();\n                    }\n                });\n            }\n        },\n\n        _initCount: function() {\n            var that = this,\n                input = that._container.find(\".k-recur-count\"),\n                rule = that._value;\n\n            that._count = input.kendoNumericTextBox({\n                spinners: that.options.spinners,\n                value: rule.count || 1,\n                decimals: 0,\n                format: \"#\",\n                min: 1,\n                change: function() {\n                    rule.count = this.value();\n                    that._trigger();\n                }\n            }).data(\"kendoNumericTextBox\");\n        },\n\n        _initUntil: function() {\n            var that = this,\n                input = that._container.find(\".k-recur-until\"),\n                start = that.options.start,\n                rule = that._value,\n                until = rule.until,\n                min = until && until < start ? until : start,\n                startInput = that.wrapper.closest(\".k-scheduler-edit-form\").find(\"[name=start]:visible\"),\n                validDateValidationMessage = kendo.format(kendo.ui.Validator.prototype.options.messages.date, that.options.messages.end.on),\n                dateCompareValidationMessage = kendo.ui.Validator.prototype.options.messages.dateCompare,\n                initialValue = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 23, 59, 59);\n\n            input.attr(\"data-validDate-msg\", validDateValidationMessage);\n            input.attr(\"data-untilDateCompare-msg\", dateCompareValidationMessage);\n\n            if (startInput.length === 0) {\n                startInput = that.wrapper.closest(\".k-scheduler-edit-form\").find(\"[name=start]\");\n            }\n\n            if (startInput.length > 0 && startInput.val()) {\n                min = kendo.parseDate(startInput.val());\n\n                if (initialValue < min) {\n                    initialValue = min;\n                }\n            }\n\n            that._until = input.kendoDatePicker({\n                min: min,\n                value: until || initialValue,\n                change: function() {\n                    var date = this.value();\n                    if (date) {\n                        rule.until = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59);\n                    }\n                    that._trigger();\n                }\n            }).data(\"kendoDatePicker\");\n\n            if (startInput) {\n                startInput.on(\"change\", function() {\n                    var untilEl = that._until.element,\n                        readonly = Boolean(untilEl.attr(\"readonly\")),\n                        enable = !(Boolean(untilEl.is(\"[disabled]\") || untilEl.parents(\"fieldset\").is(':disabled')));\n\n                    that._until.setOptions({\n                        min: startInput.val(),\n                        readonly,\n                        enable\n                    });\n                });\n            }\n        },\n\n        _trigger: function() {\n            if (!this.options.mobile) {\n                this.trigger(\"change\");\n            }\n        }\n    });\n\n    var RecurrenceEditor = BaseRecurrenceEditor.extend({\n        init: function(element, options) {\n            var that = this;\n\n            BaseRecurrenceEditor.fn.init.call(that, element, options);\n\n            that._initFrequency();\n\n            that._initContainer();\n\n            that.value(that.options.value);\n        },\n\n        options: {\n            name: \"RecurrenceEditor\"\n        },\n\n        events: [ \"change\" ],\n\n        destroy: function() {\n            var that = this;\n\n            that._frequency.destroy();\n\n            if (this._weekDayButtonGroup) {\n                this._weekDayButtonGroup.destroy();\n            }\n\n            that._container.find(\"input[type=radio],input[type=checkbox]\").off(CLICK + that._namespace);\n\n            kendo.destroy(that._container);\n\n            BaseRecurrenceEditor.fn.destroy.call(that);\n        },\n\n        value: function(value) {\n            var that = this;\n            var timezone = that.options.timezone;\n            var freq, freqButton;\n\n            if (value === undefined$1) {\n                if (!that._value.freq) {\n                    return \"\";\n                }\n\n                return serialize(that._value, timezone);\n            }\n\n            that._value = parseRule(value, timezone) || {};\n\n            freq = that._value.freq;\n\n            if (freq) {\n                freqButton = that._frequency.element.find(\"[data-value='\" + freq + \"']\");\n                that._frequency.select(freqButton);\n            } else {\n                that._frequency.select(0);\n            }\n\n            that._initView(that._frequency.current().data(\"value\"));\n        },\n\n        _initContainer: function() {\n            var element = this.element,\n                container = $('<div class=\"k-recur-view\" />'),\n                editContainer = element.parent(\".k-edit-field\");\n\n            if (editContainer[0]) {\n                container.insertAfter(editContainer);\n            } else {\n                element.append(container);\n            }\n\n            this._container = container;\n        },\n\n        _initFrequency: function() {\n            var that = this,\n                options = that.options,\n                frequencies = options.frequencies,\n                messages = options.messages.frequencies,\n                buttonGroupElement = $('<div class=\"k-button-group-stretched k-flex-1\"/>').attr({ title: options.messages.recurrenceEditorTitle }),\n                frequency;\n\n            frequencies = $.map(frequencies, function(frequency) {\n                return {\n                    text: messages[frequency],\n                    attributes: { \"data-value\": frequency, \"aria-label\": options.messages.repeat + messages[frequency] }\n                };\n            });\n\n            frequency = frequencies[0];\n            if (frequency && frequency.attributes && frequency.attributes[\"data-value\"] === \"never\") {\n                frequency.attributes[\"data-value\"] = \"\";\n            }\n\n            that.element.append(buttonGroupElement);\n            that._frequency = new ButtonGroup(buttonGroupElement, {\n                items: frequencies,\n                select: function() {\n                    that._value = {};\n                    that._initView(that._frequency.current().data(\"value\"));\n                    that.trigger(\"change\");\n                }\n            });\n        },\n\n        _initView: function(frequency) {\n            var that = this;\n            var rule = that._value;\n            var options = that.options;\n\n            var data = {\n                 frequency: frequency || \"never\",\n                 firstWeekDay: options.firstWeekDay,\n                 messages: options.messages[frequency],\n                 end: options.messages.end\n            };\n\n            if (that._weekDayButtonGroup) {\n                that._weekDayButtonGroup.destroy();\n                that._container.find(\".k-recur-weekday-buttons\").empty();\n                that._weekDayButtonGroup = null;\n            }\n\n            kendo.destroy(that._container);\n            that._container.html(RECURRENCE_VIEW_TEMPLATE(data));\n\n            if (!frequency) {\n                that._value = {};\n                return;\n            }\n\n            rule.freq = frequency;\n\n            if (frequency === \"weekly\" && !rule.weekDays) {\n                rule.weekDays = [{\n                    day: options.start.getDay(),\n                    offset: 0\n                }];\n            }\n\n            that._weekDayButtons(options.firstWeekDay);\n\n            that._initInterval();\n            that._initWeekDays();\n            that._initMonthDay();\n            that._initWeekDay();\n            that._initMonth();\n            that._initCount();\n            that._initUntil();\n\n            that._period();\n            that._end();\n        },\n\n        _initMonth: function() {\n            var that = this;\n            var rule = that._value;\n            var month = rule.months || [that.options.start.getMonth() + 1];\n            var monthInputs = that._container.find(\".k-recur-month\");\n            var options;\n\n            if (monthInputs[0]) {\n                options = {\n                    autoWidth: true,\n                    change: function() {\n                        rule.months = [Number(this.value())];\n                        that.trigger(\"change\");\n                    },\n                    dataTextField: \"text\",\n                    dataValueField: \"value\",\n                    dataSource: $.map(kendo.culture().calendar.months.names, function(monthName, idx) {\n                        return {\n                            text: monthName,\n                            value: idx + 1\n                        };\n                    })\n                };\n\n                that._month1 = new DropDownList(monthInputs[0], options);\n                that._month2 = new DropDownList(monthInputs[1], options);\n\n                if (month) {\n                    month = month[0];\n                    that._month1.value(month);\n                    that._month2.value(month);\n                }\n            }\n\n        },\n\n        _end: function() {\n            var that = this;\n            var rule = that._value;\n            var container = that._container;\n            var namespace = that._namespace;\n            var click = function(e) {\n                that._toggleEnd(e.currentTarget.value);\n                that.trigger(\"change\");\n            };\n            var endRule;\n\n            that._buttonNever = container.find(\".k-recur-end-never\").on(CLICK + namespace, click);\n            that._buttonCount = container.find(\".k-recur-end-count\").on(CLICK + namespace, click);\n            that._buttonUntil = container.find(\".k-recur-end-until\").on(CLICK + namespace, click);\n\n            if (rule.count) {\n                endRule = \"count\";\n            } else if (rule.until) {\n                endRule = \"until\";\n            }\n\n            that._toggleEnd(endRule);\n        },\n\n        _period: function() {\n            var that = this;\n            var rule = that._value;\n            var monthly = rule.freq === \"monthly\";\n\n            var toggleRule = monthly ? that._toggleMonthDay : that._toggleYear;\n\n            var selector = \".k-recur-\" + (monthly ? \"month\" : \"year\") + \"-radio\";\n            var radioButtons = that._container.find(selector);\n\n            if (!monthly && rule.freq !== \"yearly\") {\n                return;\n            }\n\n            radioButtons.on(CLICK + that._namespace, function(e) {\n                toggleRule.call(that, e.currentTarget.value);\n                that.trigger(\"change\");\n            });\n\n            that._buttonMonthDay = radioButtons.eq(0);\n            that._buttonWeekDay = radioButtons.eq(1);\n\n            toggleRule.call(that, rule.weekDays ? \"weekday\" : \"monthday\");\n        },\n\n        _toggleEnd: function(endRule) {\n            var that = this;\n            var count, until;\n            var enableCount, enableUntil;\n\n            if (endRule === \"count\") {\n                that._buttonCount.prop(\"checked\", true);\n\n                enableCount = true;\n                enableUntil = false;\n\n                count = that._count.value();\n                until = null;\n            } else if (endRule === \"until\") {\n                that._buttonUntil.prop(\"checked\", true);\n\n                enableCount = false;\n                enableUntil = true;\n\n                count = null;\n                until = that._until.value();\n            } else {\n                that._buttonNever.prop(\"checked\", true);\n\n                enableCount = enableUntil = false;\n                count = until = null;\n            }\n\n            if (that._count) {\n                that._count.enable(enableCount);\n            }\n\n            if (that._until) {\n                that._until.enable(enableUntil);\n            }\n\n            that._value.count = count;\n            that._value.until = until;\n        },\n\n        _toggleMonthDay: function(monthRule) {\n            var that = this;\n            var enableMonthDay = false;\n            var enableWeekDay = true;\n            var clear = false;\n            var monthDays;\n\n            if (monthRule === \"monthday\") {\n                that._buttonMonthDay.prop(\"checked\", true);\n\n                monthDays = [that._monthDay.value()];\n\n                enableMonthDay = true;\n                enableWeekDay = false;\n                clear = true;\n            } else {\n                that._buttonWeekDay.prop(\"checked\", true);\n                monthDays = null;\n            }\n\n            that._weekDay.enable(enableWeekDay);\n            that._weekDayOffset.enable(enableWeekDay);\n            that._monthDay.enable(enableMonthDay);\n\n            that._value.monthDays = monthDays;\n\n            that._weekDayRule(clear);\n        },\n\n        _toggleYear: function(yearRule) {\n            var that = this;\n            var enableMonth1 = false;\n            var enableMonth2 = true;\n            var month;\n\n            if (yearRule === \"monthday\") {\n                enableMonth1 = true;\n                enableMonth2 = false;\n\n                month = that._month1.value();\n            } else {\n                month = that._month2.value();\n            }\n\n            that._month1.enable(enableMonth1);\n            that._month2.enable(enableMonth2);\n\n            that._value.months = [month];\n            that._toggleMonthDay(yearRule);\n        }\n    });\n\n    ui.plugin(RecurrenceEditor);\n\n\n    var RECURRENCE_HEADER_TEMPLATE = kendo.template(({ headerTitle }) =>\n        '<div data-role=\"content\">' +\n            '<ul class=\"k-listgroup k-listgroup-flush\">' +\n                '<li class=\"k-item k-listgroup-item\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${headerTitle}</span>` +\n                        '<div class=\"k-recur-pattern k-listgroup-form-field-wrapper\"></div>' +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-item k-listgroup-item k-recur-view\"></li>' +\n            '</ul>' +\n        '</div>'\n    );\n\n    var RECURRENCE_REPEAT_PATTERN_TEMPLATE = kendo.template(({ frequency, messages }) =>\n        (frequency !== \"never\" ?\n            '<label class=\"k-label k-listgroup-form-row\">' +\n                `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.repeatEvery)}</span>` +\n                '<div class=\"k-recur-editor-wrap k-listgroup-form-field-wrapper\">' +\n                    '<input class=\"k-recur-interval\" type=\"number\" pattern=\"\\\\d*\"/>' +\n                    (messages.interval.length ? `<span class=\"k-recur-editor-text\">${encode(messages.interval)}</span>` : '') +\n                '</div>' +\n            '</label>' : ''\n        ) +\n        (frequency === \"weekly\" ?\n            '<ul class=\"k-recur-items-wrap k-listgroup k-listgroup-flush\">' +\n                '<li class=\"k-item k-listgroup-item k-no-click\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.repeatOn)}</span>` +\n                    '</label>' +\n                '</li>' +\n                `<div class=\"k-button-group-stretched k-recur-weekday-buttons\" title=\"${encode(messages.repeatOn)}\">` +\n            '</ul>' : '') +\n        (frequency === \"monthly\" ?\n            '<ul class=\"k-recur-items-wrap k-listgroup k-listgroup-flush\">' +\n                '<li class=\"k-item k-listgroup-item\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.repeatBy)}</span>` +\n                        '<div class=\"k-repeat-rule k-listgroup-form-field-wrapper\"></div>' +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-monthday-view k-item k-listgroup-item\" style=\"display:none\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.day)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><input class=\"k-recur-monthday\" type=\"number\" aria-label=\"${encode(messages.date)}\" title=\"${encode(messages.day)}\" pattern=\"\\\\d*\"/></div>` +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-weekday-view k-item k-listgroup-item\" style=\"display:none\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.every)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><select class=\"k-recur-weekday-offset\" title=\"${encode(messages.every)}\"></select></div>` +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-weekday-view k-item k-listgroup-item\" style=\"display:none\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.day)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><select class=\"k-recur-weekday\" title=\"${encode(messages.day)}\"></select></div>` +\n                    '</label>' +\n                '</li>' +\n            '</ul>' : '') +\n        (frequency === \"yearly\" ?\n            '<ul class=\"k-recur-items-wrap k-listgroup k-listgroup-flush\">' +\n                '<li class=\"k-item k-listgroup-item\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.repeatBy)}</span>` +\n                        '<div class=\"k-repeat-rule k-listgroup-form-field-wrapper\"></div>' +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-monthday-view k-item k-listgroup-item\" style=\"display:none\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.day)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><input class=\"k-recur-monthday\" type=\"number\" aria-label=\"${encode(messages.date)}\" title=\"${encode(messages.day)}\" pattern=\"\\\\d*\"/></div>` +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-weekday-view k-item k-listgroup-item\" style=\"display:none\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.every)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><select class=\"k-recur-weekday-offset\" title=\"${encode(messages.every)}\"></select></div>` +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-weekday-view k-item k-listgroup-item\" style=\"display:none\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.day)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><select class=\"k-recur-weekday\" title=\"${encode(messages.day)}\"></select></div>` +\n                    '</label>' +\n                '</li>' +\n                '<li class=\"k-item k-item k-listgroup-item\">' +\n                    '<label class=\"k-label k-listgroup-form-row\">' +\n                        `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.month)}</span>` +\n                        `<div class=\"k-listgroup-form-field-wrapper\"><select class=\"k-recur-month\" title=\"${encode(messages.month)}\"></select></div>` +\n                    '</label>' +\n                '</li>' +\n           '</ul>' : '')\n    );\n\n    var RECURRENCE_END_PATTERN_TEMPLATE = kendo.template(({ endPattern, messages }) => {\n        if (endPattern === \"count\") {\n            return '<label class=\"k-label k-listgroup-form-row\">' +\n                `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.after)}</span>` +\n                `<div class=\"k-listgroup-form-field-wrapper\"><input class=\"k-recur-count\" aria-label=\"${encode(messages.occurrence)}\" type=\"number\" pattern=\"\\\\d*\" /></div>` +\n            '</label>';\n        } else if (endPattern === \"until\") {\n            return '<label class=\"k-label k-listgroup-form-row\">' +\n                `<span class=\"k-item-title k-listgroup-form-field-label\">${encode(messages.on)}</span>` +\n                `<div class=\"k-listgroup-form-field-wrapper\"><input type=\"date\" class=\"k-recur-until\" aria-label=\"${encode(messages.on)}\" name=\"recur-until\"/></div>` +\n            '</label>';\n        }\n    });\n\n    var RECURRENCE_GROUP_BUTTON_TEMPLATE = kendo.template(({ dataSource, value }) =>\n        '<select class=\"k-scheduler-select\">' +\n            dataSource.map((item) => `<option value=\"${item.value}\" ${value === item.value ? 'selected' : ''}>${encode(item.text)}</option>`).join('') +\n        '</select>'\n    );\n\n    var MobileRecurrenceEditor = BaseRecurrenceEditor.extend({\n        init: function(element, options) {\n            var that = this;\n\n            BaseRecurrenceEditor.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that._optionTemplate = kendo.template(({ value, text }) => `<option value=\"${encode(value)}\">${encode(text)}</option>`);\n\n            that.value(options.value);\n\n            that._pane = options.pane || that.wrapper.closest(\"[data-role=pane]\").data(\"kendoPane\");\n\n            that._initRepeatButton();\n\n            that._initParentRepeatEnd();\n\n            that._defaultValue = that._value;\n        },\n\n        options: {\n            name: \"MobileRecurrenceEditor\",\n            animations: {\n                left: \"slide\",\n                right: \"slide:right\"\n            },\n            mobile: true,\n            messages: {\n                cancel: \"Cancel\",\n                update: \"Save\",\n                endTitle: \"Repeat ends\",\n                repeatTitle: \"Repeat pattern\",\n                headerTitle: \"Repeat event\",\n                end: {\n                    patterns: {\n                        never: \"Never\",\n                        after: \"After...\",\n                        on: \"On...\"\n                    },\n                    never: \"Never\",\n                    after: \"End repeat after\",\n                    on: \"End repeat on\"\n                },\n                daily: {\n                    interval: \"\"\n                },\n                hourly: {\n                    interval: \"\"\n                },\n                weekly: {\n                    interval: \"\"\n                },\n                monthly: {\n                    interval: \"\",\n                    repeatBy: \"Repeat by: \",\n                    dayOfMonth: \"Day of the month\",\n                    dayOfWeek: \"Day of the week\",\n                    repeatEvery: \"Repeat every\",\n                    every: \"Every\",\n                    day: \"Day \"\n                },\n                yearly: {\n                    interval: \"\",\n                    repeatBy: \"Repeat by: \",\n                    dayOfMonth: \"Day of the month\",\n                    dayOfWeek: \"Day of the week\",\n                    repeatEvery: \"Repeat every: \",\n                    every: \"Every\",\n                    month: \"Month\",\n                    day: \"Day\"\n                }\n            }\n        },\n\n        events: [ \"change\" ],\n\n        value: function(value) {\n            var that = this;\n            var timezone = that.options.timezone;\n\n            if (value === undefined$1) {\n                if (!that._value.freq) {\n                    return \"\";\n                }\n\n                return serialize(that._value, timezone);\n            }\n\n            that._value = parseRule(value, timezone) || {};\n        },\n\n        destroy: function() {\n            this._destroyView();\n\n            kendo.destroy(this._endFields);\n\n            this.element.off(CLICK + this._namespace);\n\n            BaseRecurrenceEditor.fn.destroy.call(this);\n        },\n\n        _initInterval: function() {\n            var that = this;\n            var rule = that._value;\n\n            that._container.find(\".k-recur-interval\")\n                .val(that._value.interval || 1)\n                .on(CHANGE + that._namespace, function(e) {\n                    rule.interval = e.target.value;\n                    that._trigger();\n                });\n        },\n\n        _initRepeatButton: function() {\n            var that = this;\n            var freq = that.options.messages.frequencies[this._value.freq || \"never\"];\n\n            that._chevronButton = $(kendo.ui.icon(\"chevron-right\"));\n            that._repeatValue = $('<span class=\"\">' + freq + '</span>');\n\n            that.element.append(that._repeatValue).append(that._chevronButton);\n\n            that.element.parents(\"li.k-item\").on(CLICK + that._namespace, function(e) {\n                e.preventDefault();\n                that._createView(\"repeat\");\n                that._pane.navigate(that._view, that.options.animations.left);\n            });\n        },\n\n        _endLiItem: function() {\n            var that = this;\n            return '<li class=\"k-item k-listgroup-item\"><label class=\"k-label k-listgroup-form-row\"><span class=\"k-item-title k-listgroup-form-field-label\">' + that.options.messages.end.mobileLabel + '</span></label></li>';\n        },\n\n        _initParentRepeatEnd: function() {\n            var that = this;\n\n            var endLabelField = $(that._endLiItem()).insertAfter(that.element.parents(\"li.k-item\"));\n\n            var endEditField = $('<div class=\"k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper\"><span class=\"k-scheduler-recur-end\"></span></div>')\n                .appendTo(endLabelField.find(\".k-label\"));\n\n            endLabelField.on(CLICK + that._namespace, function(e) {\n                e.preventDefault();\n                that._navigateToView(\"repeat\");\n            });\n\n            that._endParentLabelField = endLabelField.toggle(!!that._value.freq);\n            that._endParentEndButton = endEditField.find(\".k-scheduler-recur-end\").text(that._endText());\n        },\n\n        _initRepeatEnd: function() {\n            var that = this;\n\n            var endLabelField = $(that._endLiItem()).insertAfter(that._container);\n\n            var endEditField = $(`<div class=\"k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper\"><span class=\"k-scheduler-recur-end\"></span>${kendo.ui.icon(\"chevron-right\")}</div>`)\n                .appendTo(endLabelField.find(\".k-label\"));\n\n            endLabelField.on(CLICK + that._namespace, function(e) {\n                e.preventDefault();\n                that._navigateToView(\"end\");\n            });\n\n            that._endLabelField = endLabelField.toggleClass(\"k-disabled\", !that._value.freq);\n            that._endButton = endEditField.find(\".k-scheduler-recur-end\").text(that._endText());\n        },\n\n        _navigateToView: function(viewName) {\n            var that = this;\n            that._createView(viewName);\n            that._pane.navigate(that._view, that.options.animations.left);\n        },\n\n        _endText: function() {\n            var rule = this._value;\n            var messages = this.options.messages.end;\n\n            var text = messages.never;\n\n            if (rule.count) {\n                text = kendo.format(\"{0} {1}\", messages.after, rule.count);\n            } else if (rule.until) {\n                text = kendo.format(\"{0} {1:d}\", messages.on, rule.until);\n            }\n\n            return text;\n        },\n\n        _initFrequency: function() {\n            var that = this;\n            var frequencyMessages = that.options.messages.frequencies;\n\n            var html = RECURRENCE_GROUP_BUTTON_TEMPLATE({\n                dataSource: $.map(this.options.frequencies, function(frequency) {\n                    return {\n                        text: frequencyMessages[frequency],\n                        value: frequency !== \"never\" ? frequency : \"\"\n                    };\n                }),\n                value: that._value.freq || \"\",\n                ns: kendo.ns\n            });\n\n            that._view.element\n                .find(\".k-recur-pattern\")\n                .append(html);\n\n            that._view.element.find(\".k-scheduler-select\")\n                .on(CHANGE + that._namespace, function(e) {\n                    var value = e.target.value;\n                    that._value = { freq: value };\n                    that._defaultValue = $.extend({}, that._value);\n                    that._initRepeatView();\n                    that._endButton.text(that._endText());\n                    that._endParentEndButton.text(that._endText());\n                });\n        },\n\n        _initEndNavigation: function() {\n            var that = this;\n            var endMessages = that.options.messages.end.patterns;\n            var rule = that._value;\n            var value = \"\";\n\n            if (rule.count) {\n                value = \"count\";\n            } else if (rule.until) {\n                value = \"until\";\n            }\n\n            var html = RECURRENCE_GROUP_BUTTON_TEMPLATE({\n                dataSource: [\n                    { text: endMessages.never, value: \"\" },\n                    { text: endMessages.after, value: \"count\" },\n                    { text: endMessages.on, value: \"until\" }\n                ],\n                value: value,\n                ns: kendo.ns\n            });\n\n            that._view.element\n                .find(\".k-recur-pattern\")\n                .append(html);\n\n            that._view.element.find(\".k-scheduler-select\")\n                .on(CHANGE + that._namespace, function(e) {\n                    var value = e.target.value;\n                    var count = null;\n                    var until = null;\n\n                    that._initEndView(value);\n\n                    if (that._count.length) {\n                        count = that._count.val();\n                        until = null;\n                    } else if (that._until.length) {\n                        count = null;\n                        until = that._until.val ? kendo.parseDate(that._until.val(), \"yyyy-MM-dd\") : that._until.value();\n                    }\n\n                    rule.count = count;\n                    rule.until = until;\n                });\n        },\n\n        _createView: function(viewType) {\n            var that = this;\n            var options = that.options;\n            var messages = options.messages;\n            var headerTitle = messages[viewType === \"repeat\" ? \"repeatTitle\" : \"endTitle\"];\n\n            var html = '<div data-role=\"view\" class=\"k-popup-edit-form k-scheduler-edit-form\" id=\"recurrence\">' +\n                       '<div data-role=\"header\" class=\"k-header\">' +\n                           '<a href=\"#\" class=\"k-header-cancel k-scheduler-cancel k-link\" title=\"' + messages.cancel + '\"' +\n                           `aria-label=\"${messages.cancel}\">${kendo.ui.icon(\"chevron-left\")}</a>` +\n                               messages.headerTitle +\n                           '<a href=\"#\" class=\"k-header-done k-scheduler-update k-link\" title=\"' + messages.update + '\" ' +\n                           `aria-label=\"${messages.update}\">${kendo.ui.icon(\"check\")}</a>` +\n                       '</div>';\n\n            var returnViewId = that._pane.view().id;\n\n            that._view = that._pane.append(html + RECURRENCE_HEADER_TEMPLATE({ headerTitle: headerTitle }));\n\n            that._view.element.on(CLICK + that._namespace, \"a.k-scheduler-cancel, a.k-scheduler-update\", function(e) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                if ($(this).hasClass(\"k-scheduler-update\")) {\n                    that.trigger(\"change\");\n                    that._defaultValue = $.extend({}, that._value);\n                } else {\n                    that._value = that._defaultValue;\n                }\n\n                var frequency = that._value.freq;\n\n                that._endParentEndButton.text(that._endText());\n                that._endParentLabelField.toggle(!!frequency && frequency !== \"never\");\n                that._endButton.text(that._endText());\n\n                that._repeatValue.text(messages.frequencies[frequency || \"never\"]);\n\n                that._pane.one(\"viewShow\", function() {\n                    that._destroyView();\n                });\n\n                that._pane.navigate(returnViewId, that.options.animations.right);\n            });\n\n            that._container = that._view.element.find(\".k-recur-view\");\n\n            if (viewType === \"repeat\") {\n                that._initFrequency();\n                that._initRepeatView();\n                that._initRepeatEnd();\n            } else {\n                that._initEndNavigation();\n                that._initEndView();\n            }\n        },\n\n        _destroyView: function() {\n            if (this._view) {\n\n                this._view.destroy();\n                this._view.element.remove();\n                this._container = null;\n            }\n\n\n            this._view = null;\n        },\n\n        _initRepeatView: function() {\n            var that = this;\n            var frequency = that._value.freq || \"never\";\n\n            var data = {\n                 frequency: frequency,\n                 firstWeekDay: that.options.firstWeekDay,\n                 messages: that.options.messages[frequency]\n            };\n\n            var html = RECURRENCE_REPEAT_PATTERN_TEMPLATE(data);\n\n            var container = that._container = that._container || this._pane.view().content.find(\"li.k-recur-view\");\n            var rule = that._value;\n\n            if (that._endLabelField) {\n                that._endLabelField.toggleClass(\"k-disabled\", frequency === \"never\");\n            }\n\n            kendo.destroy(container);\n            container.html(html);\n\n            if (!html) {\n                that._value = {};\n                container.hide();\n                return;\n            } else {\n                container.show();\n            }\n\n            if (frequency === \"weekly\" && !rule.weekDays) {\n                 rule.weekDays = [{\n                    day: that.options.start.getDay(),\n                    offset: 0\n                 }];\n            }\n\n            that._weekDayButtons(that.options.firstWeekDay);\n\n            that._initInterval();\n            that._initMonthDay();\n            that._initWeekDays();\n            that._initWeekDay();\n            that._initMonth();\n\n            that._period();\n        },\n\n        _initMonthDay: function() {\n            var that = this;\n            var rule = that._value;\n            var monthDayInput = that._monthDay = that._container.find(\".k-recur-monthday\");\n\n            monthDayInput.attr({\n                min: 1,\n                max: 31\n            })\n            .val(rule.monthDays ? rule.monthDays[0] : that.options.start.getDate())\n            .on(CHANGE + that._namespace, function(e) {\n                rule.count = e.target.value;\n                that._trigger();\n            });\n        },\n\n        _initCount: function() {\n            var that = this,\n                input = that._count = that._container.find(\".k-recur-count\"),\n                rule = that._value;\n\n            input.val(rule.count || 1)\n                .on(CHANGE + that._namespace, function(ev) {\n                    rule.count = ev.target.value;\n                    that._trigger();\n                });\n        },\n\n        _initEndView: function(endPattern) {\n            var that = this;\n            var rule = that._value;\n\n            if (endPattern === undefined$1) {\n                if (rule.count) {\n                    endPattern = \"count\";\n                } else if (rule.until) {\n                    endPattern = \"until\";\n                }\n            }\n\n            var data = {\n                 endPattern: endPattern,\n                 messages: that.options.messages.end\n            };\n\n            kendo.destroy(that._container);\n            that._container.html(RECURRENCE_END_PATTERN_TEMPLATE(data));\n\n            that._initCount();\n            that._initUntil();\n        },\n\n        _initWeekDay: function() {\n            var that = this, data;\n\n            var weekdayMessage = that.options.messages.weekdays;\n            var offsetMessage = that.options.messages.offsetPositions;\n\n            var weekDaySelect = that._container.find(\".k-recur-weekday\");\n\n            var change = function() {\n                that._weekDayRule();\n                that.trigger(\"change\");\n            };\n\n            if (weekDaySelect[0]) {\n                that._weekDayOffset = that._container.find(\".k-recur-weekday-offset\")\n                                          .html(that._options([\n                                            { text: offsetMessage.first, value: \"1\" },\n                                            { text: offsetMessage.second, value: \"2\" },\n                                            { text: offsetMessage.third, value: \"3\" },\n                                            { text: offsetMessage.fourth, value: \"4\" },\n                                            { text: offsetMessage.last, value: \"-1\" }\n                                          ]))\n                                          .on(\"change\", change);\n\n                data = [\n                    { text: weekdayMessage.day, value: \"day\" },\n                    { text: weekdayMessage.weekday, value: \"weekday\" },\n                    { text: weekdayMessage.weekend, value: \"weekend\" }\n                ];\n\n                data = data.concat($.map(kendo.culture().calendar.days.names, function(dayName, idx) {\n                    return {\n                        text: dayName,\n                        value: idx\n                    };\n                }));\n\n                that._weekDay = weekDaySelect.html(that._options(data))\n                                             .on(\"change\", change)\n                                             .val(that.options.start.getDay());\n\n                that._weekDayView();\n            }\n        },\n\n        _initMonth: function() {\n            var that = this;\n            var rule = that._value;\n            var start = that.options.start;\n            var month = rule.months || [start.getMonth() + 1];\n            var monthSelect = that._container.find(\".k-recur-month\");\n            var monthNames = kendo.culture().calendar.months.names;\n\n            if (monthSelect[0]) {\n                var data = $.map(monthNames, function(monthName, idx) {\n                    return {\n                        text: monthName,\n                        value: idx + 1\n                    };\n                });\n\n                monthSelect.html(that._options(data))\n                           .on(\"change\", function() {\n                               rule.months = [Number(this.value)];\n                           });\n\n                that._monthSelect = monthSelect;\n\n                if (month) {\n                    monthSelect.val(month[0]);\n                }\n            }\n\n        },\n\n        _period: function() {\n            var that = this;\n            var rule = that._value;\n            var container = that._container;\n            var messages = that.options.messages[rule.freq];\n            var repeatRuleGroupButton = container.find(\".k-repeat-rule\");\n            var weekDayView = container.find(\".k-weekday-view\");\n            var monthDayView = container.find(\".k-monthday-view\");\n\n            if (repeatRuleGroupButton[0]) {\n                var currentValue = rule.weekDays ? \"weekday\" : \"monthday\";\n\n                var html = RECURRENCE_GROUP_BUTTON_TEMPLATE({\n                    value: currentValue,\n                    dataSource: [\n                        { text: messages.dayOfMonth, value: \"monthday\" },\n                        { text: messages.dayOfWeek, value: \"weekday\" }\n                    ],\n                    ns: kendo.ns\n                });\n\n                var init = function(val) {\n                    var weekDayName = that._weekDay.val();\n                    var weekDayOffset = that._weekDayOffset.val();\n                    var monthDay = that._monthDay.val();\n                    var month = that._monthSelect ? that._monthSelect.val() : null;\n\n                    if (val === \"monthday\") {\n                        rule.weekDays = null;\n                        rule.monthDays = monthDay ? [monthDay] : monthDay;\n                        rule.months = month ? [Number(month)] : month;\n\n                        weekDayView.hide();\n                        monthDayView.show();\n                    } else {\n                        rule.monthDays = null;\n                        rule.months = month ? [Number(month)] : month;\n\n                        rule.weekDays = [{\n                            offset: Number(weekDayOffset),\n                            day: Number(weekDayName)\n                        }];\n\n                        weekDayView.show();\n                        monthDayView.hide();\n                    }\n                };\n\n                repeatRuleGroupButton\n                    .append(html);\n\n                repeatRuleGroupButton.find(\".k-scheduler-select\")\n                    .on(CHANGE + that._namespace, function(e) {\n                        init(e.target.value);\n                    });\n\n                init(currentValue);\n            }\n        },\n\n        _initUntil: function() {\n            var that = this;\n            var input = that._container.find(\".k-recur-until\");\n            var start = that.options.start;\n            var rule = that._value;\n            var until = rule.until;\n            var min = until && until < start ? until : start;\n            var validDateValidationMessage = kendo.format(kendo.ui.Validator.prototype.options.messages.date, that.options.messages.end.on);\n            var dateCompareValidationMessage = kendo.ui.Validator.prototype.options.messages.dateCompare;\n\n            input.attr(\"data-validDate-msg\", validDateValidationMessage);\n            input.attr(\"data-untilDateCompare-msg\", dateCompareValidationMessage);\n\n            if (kendo.support.input.date) {\n                that._until = input.attr(\"min\", kendo.toString(min, \"yyyy-MM-dd\"))\n                                   .val(kendo.toString(until || start, \"yyyy-MM-dd\"))\n                                   .on(\"change\", function() {\n                                        var date = kendo.parseDate(this.value, \"yyyy-MM-dd\");\n                                        if (date) {\n                                            rule.until = date;\n                                        }\n                                        that._trigger();\n                                   });\n            } else {\n                that._until = input.kendoDatePicker({\n                    min: min,\n                    value: until || start,\n                    change: function() {\n                        var date = this.value();\n                        if (date) {\n                            rule.until = date;\n                        }\n                        that._trigger();\n                    }\n                }).data(\"kendoDatePicker\");\n            }\n        },\n\n        _options: function(data, optionLabel) {\n            var idx = 0;\n            var html = \"\";\n            var length = data.length;\n            var template = this._optionTemplate;\n\n            if (optionLabel) {\n                html += template({ value: \"\", text: optionLabel });\n            }\n\n            for (; idx < length; idx++) {\n                html += template(data[idx]);\n            }\n\n            return html;\n        }\n    });\n\n    ui.plugin(MobileRecurrenceEditor);\n\n})(window.kendo.jQuery);\n"]}