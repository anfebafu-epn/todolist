{"version":3,"file":"kendo.mobile.view.js","names":["__meta__","id","name","category","description","depends","hidden","$","undefined$1","kendo","window","mobile","ui","attr","Widget","ViewClone","INIT","BEFORE_SHOW","SHOW","AFTER_SHOW","BEFORE_HIDE","TRANSITION_END","TRANSITION_START","HIDE","DESTROY","attrValue","roleSelector","directiveSelector","compileMobileDirective","initPopOvers","element","idx","length","popovers","find","roles","initWidget","preventScrollIfNotInput","e","triggeredByInput","preventDefault","View","extend","init","options","fn","call","this","params","transition","defaultTransition","_id","$angular","_overlay","_layout","_scroller","_model","events","title","layout","getLayout","noop","reload","useNativeScrolling","stretch","zoom","model","modelScope","scroller","initWidgets","enable","overlay","hide","show","destroy","detach","trigger","scope","$destroy","purge","remove","triggerBeforeShow","view","triggerBeforeHide","showStart","css","inited","_invokeNgController","attach","_padIfNativeScrolling","resize","showEnd","hideEnd","that","beforeTransition","type","afterTransition","appLevelNativeScrolling","isAndroid","support","mobileOS","android","skin","application","isAndroidForced","os","indexOf","hasPlatformIndependentSkin","topContainer","bottomContainer","content","paddingTop","height","paddingBottom","contentElement","scrollerContent","clone","addClass","kendoMobileScroller","useNative","data","scrollElement","kineticScrollNeeded","on","getter","bind","dataviz","children","idAttrValue","guid","contentSelector","header","footer","wrapInner","prepend","append","setup","appendTo","controller","callback","_callController","test","$$phase","$apply","injector","invoke","constructor","$scope","collection","each","Layout","_locate","elements","add","selectors","platform","cloneNode","previousView","currentView","Observable","bodyRegExp","LOAD_START","LOAD_COMPLETE","SHOW_START","SAME_VIEW_REQUESTED","VIEW_SHOW","VIEW_TYPE_DETERMINED","AFTER","ViewEngine","views","errorMessage","container","sandbox","_hideViews","rootView","first","rootNeeded","Error","layouts","viewContainer","ViewContainer","getLayoutProxy","_getLayout","_setupLayouts","viewOptions","loader","showView","url","replace","RegExp","remoteViewURLPrefix","showClosure","_findViewElement","widgetInstance","remote","_createView","serverNavigation","location","href","_loadView","html","modalViews","urlPath","split","$1","innerHTML","charAt","_xhr","abort","get","absoluteURL","always","_xhrComplete","response","success","status","responseText","plugin","jQuery"],"sources":["kendo.mobile.view.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.fx.js';\nimport './kendo.mobile.scroller.js';\nimport './kendo.view.js';\n\nvar __meta__ = {\n    id: \"mobile.view\",\n    name: \"View\",\n    category: \"mobile\",\n    description: \"Mobile View\",\n    depends: [ \"core\", \"fx\", \"mobile.scroller\", \"view\" ],\n    hidden: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        attr = kendo.attr,\n        Widget = ui.Widget,\n        ViewClone = kendo.ViewClone,\n        INIT = \"init\",\n        UI_OVERLAY = '<div style=\"height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none\"></div>',\n        BEFORE_SHOW = \"beforeShow\",\n        SHOW = \"show\",\n        AFTER_SHOW = \"afterShow\",\n        BEFORE_HIDE = \"beforeHide\",\n        TRANSITION_END = \"transitionEnd\",\n        TRANSITION_START = \"transitionStart\",\n        HIDE = \"hide\",\n        DESTROY = \"destroy\",\n        attrValue = kendo.attrValue,\n        roleSelector = kendo.roleSelector,\n        directiveSelector = kendo.directiveSelector,\n        compileMobileDirective = kendo.compileMobileDirective;\n\n    function initPopOvers(element) {\n        var popovers = element.find(roleSelector(\"popover\")),\n            idx, length,\n            roles = ui.roles;\n\n        for (idx = 0, length = popovers.length; idx < length; idx ++) {\n            kendo.initWidget(popovers[idx], {}, roles);\n        }\n    }\n\n    function preventScrollIfNotInput(e) {\n        if (!kendo.triggeredByInput(e)) {\n            e.preventDefault();\n        }\n    }\n\n    var View = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.params = {};\n\n            $.extend(this, options);\n\n            this.transition = this.transition || this.defaultTransition;\n\n            this._id();\n\n            if (!this.options.$angular) {\n                this._layout();\n                this._overlay();\n                this._scroller();\n                this._model();\n            } else {\n                this._overlay();\n            }\n        },\n\n        events: [\n            INIT,\n            BEFORE_SHOW,\n            SHOW,\n            AFTER_SHOW,\n            BEFORE_HIDE,\n            HIDE,\n            DESTROY,\n            TRANSITION_START,\n            TRANSITION_END\n        ],\n\n        options: {\n            name: \"View\",\n            title: \"\",\n            layout: null,\n            getLayout: $.noop,\n            reload: false,\n            transition: \"\",\n            defaultTransition: \"\",\n            useNativeScrolling: false,\n            stretch: false,\n            zoom: false,\n            model: null,\n            modelScope: window,\n            scroller: {},\n            initWidgets: true\n        },\n\n        enable: function(enable) {\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            if (enable) {\n                this.overlay.hide();\n            } else {\n                this.overlay.show();\n            }\n        },\n\n        destroy: function() {\n            if (this.layout) {\n                this.layout.detach(this);\n            }\n\n            this.trigger(DESTROY);\n\n\n            Widget.fn.destroy.call(this);\n\n            if (this.scroller) {\n                this.scroller.destroy();\n            }\n\n            if (this.options.$angular) {\n                this.element.scope().$destroy();\n            }\n\n            kendo.destroy(this.element);\n        },\n\n        purge: function() {\n            this.destroy();\n            this.element.remove();\n        },\n\n        triggerBeforeShow: function() {\n            if (this.trigger(BEFORE_SHOW, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            if (this.trigger(BEFORE_HIDE, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        showStart: function() {\n            var element = this.element;\n\n            element.css(\"display\", \"\");\n\n            if (!this.inited) {\n                this.inited = true;\n                this.trigger(INIT, { view: this });\n            } else { // skip the initial controller update\n                this._invokeNgController();\n            }\n\n            if (this.layout) {\n                this.layout.attach(this);\n            }\n\n            this._padIfNativeScrolling();\n            this.trigger(SHOW, { view: this });\n            kendo.resize(element);\n        },\n\n        showEnd: function() {\n            this.trigger(AFTER_SHOW, { view: this });\n            this._padIfNativeScrolling();\n        },\n\n        hideEnd: function() {\n            var that = this;\n            that.element.hide();\n            that.trigger(HIDE, { view: that });\n\n            if (that.layout) {\n                that.layout.trigger(HIDE, { view: that, layout: that.layout });\n            }\n        },\n\n        beforeTransition: function(type) {\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type) {\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        _padIfNativeScrolling: function() {\n            if (mobile.appLevelNativeScrolling()) {\n                var isAndroid = kendo.support.mobileOS && kendo.support.mobileOS.android,\n                    skin = mobile.application.skin() || \"\",\n                    isAndroidForced = mobile.application.os.android || (skin.indexOf(\"android\") > -1),\n                    hasPlatformIndependentSkin = skin === \"flat\" || (skin.indexOf(\"material\") > -1),\n                    topContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"footer\" : \"header\",\n                    bottomContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"header\" : \"footer\";\n\n                this.content.css({\n                    paddingTop: this[topContainer].height(),\n                    paddingBottom: this[bottomContainer].height()\n                });\n            }\n        },\n\n        contentElement: function() {\n            var that = this;\n\n            return that.options.stretch ? that.content : that.scrollerContent;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            if (mobile.appLevelNativeScrolling()) {\n                return;\n            }\n            if (that.options.stretch) {\n                that.content.addClass(\"km-stretched-view\");\n            } else {\n                that.content.kendoMobileScroller($.extend(that.options.scroller, { zoom: that.options.zoom, useNative: that.options.useNativeScrolling }));\n\n                that.scroller = that.content.data(\"kendoMobileScroller\");\n                that.scrollerContent = that.scroller.scrollElement;\n            }\n\n            // prevent accidental address bar display when pulling the header\n            if (kendo.support.kineticScrollNeeded) {\n                $(that.element).on(\"touchmove\", \".km-header\", preventScrollIfNotInput);\n                if (!that.options.useNativeScrolling && !that.options.stretch) {\n                    $(that.element).on(\"touchmove\", \".km-content\", preventScrollIfNotInput);\n                }\n            }\n        },\n\n        _model: function() {\n            var that = this,\n                element = that.element,\n                model = that.options.model;\n\n            if (typeof model === \"string\") {\n                model = kendo.getter(model)(that.options.modelScope);\n            }\n\n            that.model = model;\n\n            initPopOvers(element);\n\n            that.element.css(\"display\", \"\");\n            if (that.options.initWidgets) {\n                if (model) {\n                    kendo.bind(element, model, ui, kendo.ui, kendo.dataviz.ui);\n                } else {\n                    mobile.init(element.children());\n                }\n            }\n            that.element.css(\"display\", \"none\");\n        },\n\n        _id: function() {\n            var element = this.element,\n                idAttrValue = element.attr(\"id\") || \"\";\n\n            this.id = attrValue(element, \"url\") || \"#\" + idAttrValue;\n\n            if (this.id == \"#\") {\n                this.id = kendo.guid();\n                element.attr(\"id\", this.id);\n            }\n        },\n\n        _layout: function() {\n            var contentSelector = roleSelector(\"content\"),\n                element = this.element;\n\n            element.addClass(\"km-view\");\n\n            this.header = element.children(roleSelector(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(roleSelector(\"footer\")).addClass(\"km-footer\");\n\n            if (!element.children(contentSelector)[0]) {\n              element.wrapInner(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            this.content = element.children(roleSelector(\"content\"))\n                                .addClass(\"km-content\");\n\n            this.element.prepend(this.header).append(this.footer);\n\n\n            this.layout = this.options.getLayout(this.layout);\n\n            if (this.layout) {\n                this.layout.setup(this);\n            }\n        },\n\n        _overlay: function() {\n            this.overlay = $(UI_OVERLAY).appendTo(this.element);\n        },\n\n        _invokeNgController: function() {\n            var controller,\n                scope;\n\n            if (this.options.$angular) {\n                controller = this.element.controller();\n                scope = this.options.$angular[0];\n\n                if (controller) {\n                    var callback = this._callController.bind(this, controller, scope);\n\n                    if (/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                        callback();\n                    } else {\n                        scope.$apply(callback);\n                    }\n                }\n            }\n        },\n\n        _callController: function(controller, scope) {\n            this.element.injector().invoke(controller.constructor, controller, { $scope: scope });\n        }\n    });\n\n    function initWidgets(collection) {\n        collection.each(function() {\n            kendo.initWidget($(this), {}, ui.roles);\n        });\n    }\n\n    var Layout = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            this.header = element.children(this._locate(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(this._locate(\"footer\")).addClass(\"km-footer\");\n            this.elements = this.header.add(this.footer);\n\n            initPopOvers(element);\n\n            if (!this.options.$angular) {\n                kendo.mobile.init(this.element.children());\n            }\n            this.element.detach();\n            this.trigger(INIT, { layout: this });\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        options: {\n            name: \"Layout\",\n            id: null,\n            platform: null\n        },\n\n        events: [\n            INIT,\n            SHOW,\n            HIDE\n        ],\n\n        setup: function(view) {\n            if (!view.header[0]) { view.header = this.header; }\n            if (!view.footer[0]) { view.footer = this.footer; }\n        },\n\n        detach: function(view) {\n            var that = this;\n            if (view.header === that.header && that.header[0]) {\n                view.element.prepend(that.header.detach()[0].cloneNode(true));\n            }\n\n            if (view.footer === that.footer && that.footer.length) {\n                view.element.append(that.footer.detach()[0].cloneNode(true));\n            }\n        },\n\n        attach: function(view) {\n            var that = this,\n                previousView = that.currentView;\n\n            if (previousView) {\n                that.detach(previousView);\n            }\n\n            if (view.header === that.header) {\n                that.header.detach();\n                view.element.children(roleSelector(\"header\")).remove();\n                view.element.prepend(that.header);\n            }\n\n            if (view.footer === that.footer) {\n                that.footer.detach();\n                view.element.children(roleSelector(\"footer\")).remove();\n                view.element.append(that.footer);\n            }\n\n            that.trigger(SHOW, { layout: that, view: view });\n            that.currentView = view;\n        }\n    });\n\n    var Observable = kendo.Observable,\n        bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i,\n        LOAD_START = \"loadStart\",\n        LOAD_COMPLETE = \"loadComplete\",\n        SHOW_START = \"showStart\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        VIEW_SHOW = \"viewShow\",\n        VIEW_TYPE_DETERMINED = \"viewTypeDetermined\",\n        AFTER = \"after\";\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                errorMessage,\n                container,\n                collection;\n\n            Observable.fn.init.call(that);\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n\n            if (!that.rootView[0] && options.rootNeeded) {\n                if (container[0] == kendo.mobile.application.element[0]) {\n                    errorMessage = 'Your kendo mobile application element does not contain any direct child elements with data-role=\"view\" attribute set. Make sure that you instantiate the mobile application using the correct container.';\n                } else {\n                    errorMessage = 'Your pane element does not contain any direct child elements with data-role=\"view\" attribute set.';\n                }\n                throw new Error(errorMessage);\n            }\n\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.getLayoutProxy = this._getLayout.bind(this);\n            that._setupLayouts(container);\n\n            collection = container.children(that._locate(\"modalview drawer\"));\n            if (that.$angular) {\n\n                that.$angular[0].viewOptions = {\n                    defaultTransition: that.transition,\n                    loader: that.loader,\n                    container: that.container,\n                    getLayout: that.getLayoutProxy\n                };\n\n                collection.each(function(idx, element) {\n                    compileMobileDirective($(element), options.$angular[0]);\n                });\n            } else {\n                initWidgets(collection);\n            }\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            kendo.destroy(this.container);\n\n            for (var id in this.layouts) {\n                this.layouts[id].destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                showClosure = function(view) {\n                    return that.viewContainer.show(view, transition, url);\n                },\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return showClosure(view);\n            } else {\n                if (this.serverNavigation) {\n                    location.href = url;\n                } else {\n                    that._loadView(url, showClosure);\n                }\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                modalViews,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            this._setupLayouts(sandbox);\n\n            modalViews = sandbox.children(this._locate(\"modalview drawer\"));\n\n            container.append(sandbox.children(this._locate(\"layout modalview drawer\")).add(views));\n\n            // Initialize the modalviews after they have been appended to the final container\n            initWidgets(modalViews);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            return element;\n        },\n\n        _createView: function(element) {\n            if (this.$angular) {\n                return compileMobileDirective(element, this.$angular[0]);\n            } else {\n                return kendo.initWidget(element, {\n                    defaultTransition: this.transition,\n                    loader: this.loader,\n                    container: this.container,\n                    getLayout: this.getLayoutProxy,\n                    modelScope: this.modelScope,\n                    reload: attrValue(element, \"reload\")\n                }, ui.roles);\n            }\n        },\n\n        _getLayout: function(name) {\n            if (name === \"\") {\n                return null;\n            }\n\n            return name ? this.layouts[name] : this.layouts[this.layout];\n        },\n\n        _loadView: function(url, callback) {\n            if (this._xhr) {\n                this._xhr.abort();\n            }\n\n            this.trigger(LOAD_START);\n\n            this._xhr = $.get(kendo.absoluteURL(url, this.remoteViewURLPrefix), \"html\")\n                .always(this._xhrComplete.bind(this, callback, url));\n        },\n\n        _xhrComplete: function(callback, url, response) {\n            var success = true;\n\n            if (typeof response === \"object\") {\n                if (response.status === 0) {\n                    if (response.responseText && response.responseText.length > 0) {\n                        success = true;\n                        response = response.responseText;\n                    } else { // request has been aborted for real\n                        return;\n                    }\n                }\n            }\n\n            this.trigger(LOAD_COMPLETE);\n\n            if (success) {\n                callback(this.append(response, url));\n            }\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view splitview\")).hide();\n        },\n\n        _setupLayouts: function(element) {\n            var that = this,\n                layout;\n\n            element.children(that._locate(\"layout\")).each(function() {\n                if (that.$angular) {\n                    layout = compileMobileDirective($(this), that.$angular[0]);\n                } else {\n                    layout = kendo.initWidget($(this), {}, ui.roles);\n                }\n\n                var platform = layout.options.platform;\n\n                if (!platform || platform === mobile.application.os.name) {\n                    that.layouts[layout.options.id] = layout;\n                } else {\n                    layout.destroy();\n                }\n            });\n\n        }\n    });\n\n    kendo.mobile.ViewEngine = ViewEngine;\n\n    ui.plugin(View);\n    ui.plugin(Layout);\n})(window.kendo.jQuery);\n"]}