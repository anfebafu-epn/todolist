{"version":3,"file":"kendo.list.js","names":["__meta__","id","name","category","depends","hidden","$","undefined$1","kendo","window","ui","outerHeight","_outerHeight","percentageUnitsRegex","Widget","keys","support","htmlEncode","activeElement","_activeElement","outerWidth","_outerWidth","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","KSELECTED","LOADING","LIST_UL","FIXED_GROUP_HEADER","ITEMSELECTOR","OPEN","CLOSE","CASCADE","SELECT","CLICK","MOUSEENTER","ACTIVATE","DEACTIVATE","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","SELECTED","REQUESTSTART","REQUESTEND","FOCUS","extend","isArray","Array","browser","HIDDENCLASS","WIDTH","TEXT","isIE","msie","quotRegExp","alternativeNames","ComboBox","DropDownList","MultiColumnComboBox","ARIA_LABELLEDBY","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_SELECTED","GROUP_ROW_SEL","List","DataBoundWidget","init","element","options","that","this","fn","call","_isSelect","is","length","dataSource","dataTextField","dataValueField","adaptiveMode","largeMQL","mediaQuery","mediumMQL","smallMQL","_listSize","cssProperties","getValidClass","widget","propName","value","size","_filterHeader","ul","attr","tabIndex","list","addClass","append","guid","columns","removeClass","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","valuePrimitive","footerTemplate","headerTemplate","noDataTemplate","messages","noData","clear","setOptions","enable","enabled","_renderFooter","_renderNoData","label","_inputLabel","_unwrapFloating","remove","_label","focus","_focused","trigger","readonly","_editable","disable","floatingLabel","labelOptions","isPlainObject","content","Label","floatCheck","_floatCheck","bind","listView","text","popup","visible","_refreshFloatingLabel","refresh","header","template","_angularElement","destroy","parent","before","filterTemplate","icon","iconClass","_isFilterEnabled","filterInput","placeholder","title","filterTitle","role","columnsHeader","colGroup","row","idx","currentColumn","field","columnsHeaderTemplate","currentWidth","width","currentWidthInt","parseInt","widthStyle","isNaN","test","prepend","angular","elements","appendTo","footer","footerEl","_listOptions","currentOptions","virtual","changeEventOption","change","_listChange","listBoundHandler","_listBound","focusedElm","inputId","labelElm","labelledBy","_generateLabelId","autoBind","selectable","click","_click","activate","_activateItem","deactivate","_deactivateItem","dataBinding","dataBound","height","groupTemplate","fixedGroupTemplate","ariaLabel","ariaLabelledBy","listSize","getter","$angular","_initList","opts","skipValueUpdate","listOptions","selectedItemChange","VirtualList","Object","assign","_hasActionSheet","StaticList","_setListValue","done","_updateSelectionState","noop","_listMousedown","e","target","preventDefault","filter","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","_filter","word","open","highlightFirst","_change","_clearFilter","bound","_filterSource","force","isMultiColumnFiltering","filterFields","logic","filters","expression","resetPageSettings","removed","removeFiltersForField","_clearFilterExpressions","Deferred","reject","promise","newExpression","push","_pushFilterExpression","isValidFilterExpr","concat","_cascading","setDSFilter","dataSourceState","page","pageSize","sort","group","aggregate","_mergeState","filtersToRemove","i","splice","action","html","instance","_toggleNoData","show","toggle","_toggleHeader","prev","children","first","_allowOpening","flatView","val","_old","_ignoreCase","model","reader","fields","type","ignoreCase","_focus","candidate","widgetOptions","fromFilter","_buildExpression","_open","accentFoldingFiltering","toLocaleLowerCase","toLowerCase","operator","_clearButton","clearTitle","clearButton","search","_inputValue","clearTimeout","_typingTimeout","minLength","_state","_emptySearch","trim","_searchByWord","current","items","ns","_unbindDataSource","off","_form","_resetHandler","dataItem","index","selectedDataItems","getByUid","add","removeAttr","textField","valueField","_text","_value","_aria","autocomplete","suggest","_ariaLabel","_blur","close","_userTriggered","_isValueChanged","unifyType","selectedIndex","optionValue","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","prevAll","each","_height","popups","isMccb","closest","hide","scrollHeight","_openHandler","_adjustListWidth","computedStyle","computedWidth","style","wrapper","getComputedStyle","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","autoWidth","minWidth","whiteSpace","_closeHandler","closeButton","_onCloseButtonPressed","_focusItem","noFocusedItem","last","select","scrollToIndex","_calculateGroupPadding","li","groupHeader","padding","direction","display","scrollbar","parents","_calculatePopupHeight","_calculateColumnsHeaderPadding","isRtl","_refreshScroll","enableYScroll","overflowX","overflowY","mediaQueryList","matches","_resizePopup","one","isDefaultPrevented","_popup","wrap","onEnter","_createPopup","_createActionSheet","fullscreen","_cachedFilterValue","_removeFilterHeader","_removeStaticHeader","Popup","anchor","animation","autosize","_addFilterHeader","popupFilter","find","_postCreatePopup","_onActionSheetCreate","ActionSheet","renderButton","fillMode","focusOnActivate","adaptive","document","body","listViewValue","on","_clean","tagList","empty","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","valueMapper","Error","toString","Boolean","Number","inArray","node","parentNode","siblings","Select","_initial","setDataSource","_dataSource","_initialIndex","_current","fetch","_parentWidget","_cascadeSelect","_select","_cascadeValue","_accessorInput","_accessorSelect","getSelectedOption","selected","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","_request","setTimeout","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","_move","pressed","moveIndex","selectCandidate","key","keyCode","down","DOWN","isVirtual","UP","altKey","firstChild","_fetch","hasClass","total","_get","item","ENTER","TAB","selection","activeFilter","shouldTrigger","input","_focusElement","focusout","ESC","PAGEDOWN","PAGEUP","scrollWith","screenHeight","_fetchData","hasItems","cascadeFrom","_options","option","dataText","dataValue","htmlElement","indexOf","replace","setAttribute","_reset","formId","form","parentElement","_cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","filterValue","cascadeFromParentField","cascadeFromField","cascadeOnCustomValue","handler","currentHandler","shift","STATIC_LIST_NS","_touchHandlers","thead","_optionID","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_createOnScrollProxy","events","source","_refreshHandler","_fixedHeader","startY","endY","itemSelector","tapPosition","event","originalEvent","changedTouches","pageY","Math","abs","_touchTriggered","_triggerClick","get","skip","_render","_scrollId","clientHeight","scroll","scrollTop","itemOffsetTop","offsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","result","singleSelection","selectedIndices","uiSelectedIndices","added","deferred","resolve","filtered","_deselectFiltered","_deselect","_valueComparer","removeAt","position","setValue","_valueDeferred","state","_valueIndices","_onScroll","_renderHeader","_valueExpr","values","comparer","normalized","_valueType","_dataItemPosition","valueExpr","j","templates","forEach","column","templateText","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","_renderItem","context","notFirstItem","hasColumns","altRow","newGroup","isLastGroupedItem","_renderColumns","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","skipUpdateOnBind","isItemChange","_angularItems","itemsToMatch","found","itemsLength","selectedLength","changed","unchanged","mapChangedItems","_bound","isEmptyObject","grep","plugin","registerPrefix","jQuery"],"sources":["kendo.list.js"],"mappings":"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","sourcesContent":["import './kendo.data.js';\nimport './kendo.popup.js';\nimport './kendo.label.js';\nimport './kendo.icons.js';\nimport './kendo.actionsheet.js';\n\nvar __meta__ = {\n    id: \"list\",\n    name: \"List\",\n    category: \"framework\",\n    depends: [ \"data\", \"popup\", \"label\", \"icons\", \"actionsheet\" ],\n    hidden: true\n};\n\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        outerHeight = kendo._outerHeight,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        support = kendo.support,\n        htmlEncode = kendo.htmlEncode,\n        activeElement = kendo._activeElement,\n        outerWidth = kendo._outerWidth,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        KSELECTED = \"k-selected\",\n        LOADING = \"k-i-loading k-input-loading-icon\",\n        LIST = \"k-list\",\n        TABLE = \"k-table\",\n        DATA_TABLE = \"k-data-table\",\n        TABLE_MD = \"k-table-md\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n        FIXED_GROUP_HEADER = \".k-list-group-sticky-header\",\n        GROUP_LABEL = \".k-list-item-group-label\",\n        ITEMSELECTOR = \".k-list-item\",\n        ITEMSELECTORTABLE = \".k-table-row\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CASCADE = \"cascade\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        MOUSELEAVE = \"mouseleave\",\n        MOUSEENTER = \"mouseenter\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        DATA_BINDING = \"dataBinding\",\n        DATA_BOUND = \"dataBound\",\n        SELECTED_ITEM_CHANGE = \"selectedItemChange\",\n        SELECTED = \"selected\",\n        REQUESTSTART = \"requestStart\",\n        REQUESTEND = \"requestEnd\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        FOCUSOUT = \"focusout\",\n        extend = $.extend,\n        isArray = Array.isArray,\n        browser = support.browser,\n        HIDDENCLASS = \"k-hidden\",\n        WIDTH = \"width\",\n        TEXT = \"text\",\n        VALUE = \"value\",\n        isIE = browser.msie,\n        quotRegExp = /\"/g,\n        alternativeNames = {\n            \"ComboBox\": [ \"DropDownList\", \"MultiColumnComboBox\" ],\n            \"DropDownList\": [ \"ComboBox\", \"MultiColumnComboBox\" ],\n            \"MultiColumnComboBox\": [ \"ComboBox\", \"DropDownList\" ]\n        },\n\n        UL_EL = '<ul unselectable=\"on\"/>',\n        LIST_EL = \"<div class='k-list'/>\",\n        NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>',\n        LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>',\n        TABLE_FOOTER_EL = '<div class=\"k-table-footer\">' +\n                '<span class=\"k-table-td\"></span>' +\n            '</div>',\n        MOUSEDOWN = \"mousedown\",\n        LIST_SUFFIX = \"-list\",\n        LISTBOX_SUFFIX = \"_listbox\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_AUTOCOMPLETE = \"aria-autocomplete\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LIVE = \"aria-live\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_BUSY = \"aria-busy\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_SELECTED = \"aria-selected\",\n        GROUP_ROW_SEL = \".k-table-group-row\";\n\n    var List = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                id;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            that._isSelect = element.is(SELECT);\n\n            if (that._isSelect && that.element[0].length) {\n                if (!options.dataSource) {\n                    options.dataTextField = options.dataTextField || TEXT;\n                    options.dataValueField = options.dataValueField || VALUE;\n                }\n            }\n\n            if (options.adaptiveMode === \"auto\") {\n                that.largeMQL = kendo.mediaQuery(\"large\");\n                that.mediumMQL = kendo.mediaQuery(\"medium\");\n                that.smallMQL = kendo.mediaQuery(\"small\");\n            }\n\n            that._listSize = kendo.cssProperties.getValidClass({\n                widget: \"List\",\n                propName: \"size\",\n                value: options.size\n            });\n\n            that._filterHeader();\n\n            that.ul = $(UL_EL).attr({\n                tabIndex: -1,\n                \"aria-hidden\": true\n            });\n\n            that.list = $(LIST_EL)\n                .addClass(that._listSize)\n                .append(that.ul);\n\n            id = element.attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that.list.attr(ID, id + LIST_SUFFIX);\n            that.ul.attr(ID, id + LISTBOX_SUFFIX);\n\n            if (options.columns && options.columns.length) {\n                that.list.removeClass(LIST).addClass(DATA_TABLE);\n                that.list.removeClass(that._listSize).addClass(TABLE_MD);\n\n                that.ul.removeClass(LIST_UL).addClass(TABLE);\n\n                that._columnsHeader();\n            }\n\n            that._header();\n            that._noData();\n            that._footer();\n            that._accessors();\n            that._initValue();\n        },\n\n        options: {\n            valuePrimitive: false,\n            footerTemplate: \"\",\n            headerTemplate: \"\",\n            noDataTemplate: true,\n            size: \"medium\",\n            messages: {\n                \"noData\": \"No data found.\",\n                \"clear\": \"clear\"\n            },\n            adaptiveMode: \"none\"\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            if (options && options.enable !== undefined$1) {\n                options.enabled = options.enable;\n            }\n\n            if (options.columns && options.columns.length) {\n                this._columnsHeader();\n            }\n\n            this._header();\n            this._noData();\n            this._footer();\n\n            this._renderFooter();\n            this._renderNoData();\n\n            if (options.label && this._inputLabel) {\n                this.label.setOptions(options.label);\n            } else if (options.label === false) {\n                this.label._unwrapFloating();\n                this._inputLabel.remove();\n                delete this._inputLabel;\n            } else if (options.label) {\n                this._label();\n            }\n        },\n\n        focus: function() {\n            this._focused.trigger(FOCUS);\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined$1 ? true : readonly,\n                disable: false\n            });\n\n            if (this.label && this.label.floatingLabel) {\n                this.label.floatingLabel.readonly(readonly === undefined$1 ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined$1 ? true : enable)\n            });\n\n            if (this.label && this.label.floatingLabel) {\n                this.label.floatingLabel.enable(enable = enable === undefined$1 ? true : enable);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var options = that.options;\n            var labelOptions = $.isPlainObject(options.label) ? options.label : {\n                content: options.label\n            };\n\n            that.label = new kendo.ui.Label(null, $.extend({}, labelOptions, {\n                widget: that,\n                floatCheck: that._floatCheck.bind(that)\n            }));\n\n            that._inputLabel = that.label.element;\n        },\n\n        _floatCheck: function() {\n            if (this.listView) {\n                var hasValue = this.value() || (this.text ? this.text() : false);\n                return !hasValue && !this.popup.visible();\n            }\n\n            return true;\n        },\n\n        _refreshFloatingLabel: function() {\n            var that = this;\n\n            if (that.label && that.label.floatingLabel) {\n                that.label.floatingLabel.refresh();\n            }\n        },\n\n        _header: function() {\n            var list = this;\n            var header = $(list.header);\n            var template = list.options.headerTemplate;\n\n            this._angularElement(header, \"cleanup\");\n            kendo.destroy(header);\n            header.remove();\n\n            if (!template) {\n                list.header = null;\n                return;\n            }\n\n            var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            header = $(headerTemplate({}));\n\n            list.header = header[0] ? header : null;\n\n            if (list.list.parent.length > 0) {\n                list.list.before(header);\n            }\n\n            this._angularElement(list.header, \"compile\");\n        },\n\n        _filterHeader: function() {\n            this.filterTemplate = '<div class=\"k-list-filter\">' +\n                '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                    kendo.ui.icon({ icon: \"search\", iconClass: \"k-input-icon\" }) +\n                '</span>' +\n            '</div>';\n\n            if (this._isFilterEnabled()) {\n                this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                    .attr({\n                        placeholder: this.element.attr(\"placeholder\"),\n                        title: this.options.filterTitle || this.element.attr(\"title\"),\n                        role: \"searchbox\",\n                        \"aria-label\": this.options.filterTitle,\n                        \"aria-haspopup\": \"listbox\",\n                        \"aria-autocomplete\": \"list\"\n                    });\n            }\n        },\n\n        _columnsHeader: function() {\n            var list = this;\n            var columnsHeader = $(list.columnsHeader);\n\n            this._angularElement(columnsHeader, \"cleanup\");\n            kendo.destroy(columnsHeader);\n            columnsHeader.remove();\n\n            var header = \"<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>\";\n            var colGroup = \"<colgroup>\";\n            var row = \"<tr class='k-table-row'>\";\n\n            for (var idx = 0; idx < this.options.columns.length; idx++) {\n                var currentColumn = this.options.columns[idx];\n                var title = currentColumn.title || currentColumn.field || \"\";\n                var titleFunc = () => title;\n                var template = currentColumn.headerTemplate || titleFunc;\n                var columnsHeaderTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                var currentWidth = currentColumn.width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n\n                colGroup += \"<col \" + widthStyle + \"/>\";\n\n                row += \"<th class='k-table-th'>\";\n                row += columnsHeaderTemplate(currentColumn);\n                row += \"</th>\";\n            }\n            colGroup += \"</colgroup>\";\n            row += \"</tr>\";\n            header += colGroup;\n            header += \"<thead class='k-table-thead'>\";\n            header += row;\n            header += \"</thead></table></div></div>\";\n\n            list.columnsHeader = columnsHeader = $(header);\n            list.list.prepend(columnsHeader);\n\n            this._angularElement(list.columnsHeader, \"compile\");\n        },\n\n        _noData: function() {\n            var list = this;\n            var noData = $(list.noData);\n            var template = list.options.noDataTemplate === true ? () => list.options.messages.noData : list.options.noDataTemplate;\n\n            list.angular(\"cleanup\", function() { return { elements: noData }; });\n            kendo.destroy(noData);\n            noData.remove();\n\n            if (!template) {\n                list.noData = null;\n                return;\n            }\n\n            list.noData = $(NO_DATA_EL).appendTo(list.list);\n            list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _footer: function() {\n            var list = this;\n            var footer = $(list.footer);\n            var template = list.options.footerTemplate;\n            var footerEl = this.options.columns && this.options.columns.length ? TABLE_FOOTER_EL : LIST_FOOTER_EL;\n\n            this._angularElement(footer, \"cleanup\");\n            kendo.destroy(footer);\n            footer.remove();\n\n            if (!template) {\n                list.footer = null;\n                return;\n            }\n\n            list.footer = $(footerEl).appendTo(list.list);\n            list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var currentOptions = that.options;\n            var virtual = currentOptions.virtual;\n            var changeEventOption = { change: that._listChange.bind(that) };\n            var listBoundHandler = that._listBound.bind(that);\n            var focusedElm = that._focused;\n            var inputId = that.element.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + that.element.attr(\"id\") + \"\\\"]\");\n            var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n\n            if (!labelledBy && labelElm.length) {\n                labelledBy = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n            }\n\n            virtual = typeof virtual === \"object\" ? virtual : {};\n\n            options = $.extend({\n                autoBind: false,\n                selectable: true,\n                dataSource: that.dataSource,\n                click: that._click.bind(that),\n                activate: that._activateItem.bind(that),\n                columns: currentOptions.columns,\n                deactivate: that._deactivateItem.bind(that),\n                dataBinding: function() {\n                    that.trigger(DATA_BINDING);\n                },\n                dataBound: listBoundHandler,\n                height: currentOptions.height,\n                dataValueField: currentOptions.dataValueField,\n                dataTextField: currentOptions.dataTextField,\n                groupTemplate: currentOptions.groupTemplate,\n                fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                template: currentOptions.template,\n                ariaLabel: focusedElm.attr(ARIA_LABEL),\n                ariaLabelledBy: labelledBy,\n                listSize: that._listSize\n            }, options, virtual, changeEventOption);\n\n            if (!options.template) {\n                options.template = (data) => htmlEncode(kendo.getter(options.dataTextField)(data));\n            }\n\n            if (currentOptions.$angular) {\n                options.$angular = currentOptions.$angular;\n            }\n\n            return options;\n        },\n\n        _initList: function(opts) {\n            var that = this;\n            var skipValueUpdate = opts && opts.skipValueUpdate;\n            var listOptions = that._listOptions({\n                selectedItemChange: that._listChange.bind(that)\n            });\n\n            if (!that.options.virtual) {\n                that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n            } else {\n                that.listView = new kendo.ui.VirtualList(that.ul, Object.assign(listOptions, {\n                    height: that._hasActionSheet() ? 362 : that.options.height, // Hardcoded virtual list height for action sheet untill better solution is found\n                }));\n                that.list.addClass(\"k-virtual-list\");\n            }\n\n            that.listView.bind(\"listBound\", that._listBound.bind(that));\n\n            if (!skipValueUpdate) {\n                that._setListValue();\n            }\n        },\n\n        _setListValue: function(value) {\n            value = value || this.options.value;\n\n            if (value !== undefined$1) {\n                this.listView.value(value)\n                    .done(this._updateSelectionState.bind(this));\n            }\n        },\n\n        _updateSelectionState: $.noop,\n\n        _listMousedown: function(e) {\n            if (!this.filterInput || this.filterInput[0] !== e.target) {\n                e.preventDefault();\n            }\n        },\n\n        _isFilterEnabled: function() {\n            var filter = this.options.filter;\n            return filter && filter !== \"none\";\n        },\n\n        _hideClear: function() {\n            var list = this;\n\n            if (list._clear) {\n                list._clear.addClass(HIDDENCLASS);\n            }\n        },\n\n        _showClear: function() {\n            if (this._clear) {\n                this._clear.removeClass(HIDDENCLASS);\n            }\n        },\n\n        _clearValue: function() {\n            this._clearText();\n            this._accessor(\"\");\n            this.listView.value([]);\n\n            if (this._isSelect) {\n                this._customOption = undefined$1;\n            }\n\n            if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                this._filter({ word: \"\", open: false });\n\n                if (this.options.highlightFirst) {\n                    this.listView.focus(0);\n                }\n            }\n            this._change();\n        },\n\n        _clearText: function() {\n            this.text(\"\");\n        },\n\n        _clearFilter: function() {\n            if (!this.options.virtual) {\n                this.listView.bound(false);\n            }\n\n            this._filterSource();\n        },\n\n        _filterSource: function(filter, force) {\n            var that = this;\n            var options = that.options;\n            var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n            var dataSource = that.dataSource;\n            var expression = extend({}, dataSource.filter() || {});\n            var resetPageSettings = filter || (expression.filters && expression.filters.length && !filter);\n\n            var removed = removeFiltersForField(expression, options.dataTextField);\n\n            this._clearFilterExpressions(expression);\n\n            if ((filter || removed) && that.trigger(\"filtering\", { filter: filter })) {\n                return $.Deferred().reject().promise();\n            }\n\n            var newExpression = {\n                filters: [],\n                logic: \"and\"\n            };\n\n            if (isMultiColumnFiltering) {\n                newExpression.filters.push(filter);\n            } else {\n                this._pushFilterExpression(newExpression, filter);\n            }\n\n            if (isValidFilterExpr(expression)) {\n                if (newExpression.logic === expression.logic) {\n                    newExpression.filters = newExpression.filters.concat(expression.filters);\n                } else {\n                    newExpression.filters.push(expression);\n                }\n            }\n\n            if (that._cascading) {\n                this.listView.setDSFilter(newExpression);\n            }\n\n            var dataSourceState = extend({}, {\n                page: resetPageSettings ? 1 : dataSource.page(),\n                pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                sort: dataSource.sort(),\n                filter: dataSource.filter(),\n                group: dataSource.group(),\n                aggregate: dataSource.aggregate()\n            }, { filter: newExpression });\n\n            return dataSource[force ? \"read\" : \"query\"](dataSource._mergeState(dataSourceState));\n        },\n\n        _pushFilterExpression: function(newExpression, filter) {\n            if (isValidFilterExpr(filter) && filter.value !== \"\") {\n                newExpression.filters.push(filter);\n            }\n        },\n\n        _clearFilterExpressions: function(expression) {\n            if (!expression.filters) {\n                return;\n            }\n\n            var filtersToRemove;\n\n            for (var i = 0; i < expression.filters.length; i++) {\n                if (\"fromFilter\" in expression.filters[i]) {\n                    filtersToRemove = i;\n                }\n            }\n\n            if (!isNaN(filtersToRemove)) {\n                expression.filters.splice(filtersToRemove, 1);\n            }\n        },\n\n        _angularElement: function(element, action) {\n            if (!element) {\n                return;\n            }\n\n            this.angular(action, function() {\n                return { elements: element };\n            });\n        },\n\n        _renderNoData: function() {\n            var list = this;\n            var noData = list.noData;\n\n            if (!noData) {\n                return;\n            }\n\n            this._angularElement(noData, \"cleanup\");\n            noData.html(list.noDataTemplate({ instance: list }));\n            this._angularElement(noData, \"compile\");\n        },\n\n        _toggleNoData: function(show) {\n            $(this.noData).toggle(show);\n        },\n\n        _toggleHeader: function(show) {\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            groupHeader.toggle(show);\n        },\n\n        _renderFooter: function() {\n            var list = this,\n                footer = list.footer ? this.options.columns && this.options.columns.length ? list.footer.children().first() : list.footer : null;\n\n            if (!footer) {\n                return;\n            }\n\n            this._angularElement(footer, \"cleanup\");\n            footer.html(list.footerTemplate({ instance: list }));\n            this._angularElement(footer, \"compile\");\n        },\n\n        _allowOpening: function() {\n            return this.options.noDataTemplate || this.dataSource.flatView().length;\n        },\n\n        _initValue: function() {\n            var that = this,\n                value = that.options.value;\n\n            if (value !== null) {\n                that.element.val(value);\n            } else {\n                value = that._accessor();\n                that.options.value = value;\n            }\n\n            that._old = value;\n        },\n\n        _ignoreCase: function() {\n            var that = this,\n                model = that.dataSource.reader.model,\n                field;\n\n            if (model && model.fields) {\n                field = model.fields[that.options.dataTextField];\n\n                if (field && field.type && field.type !== \"string\") {\n                    that.options.ignoreCase = false;\n                }\n            }\n        },\n\n        _focus: function(candidate) {\n            return this.listView.focus(candidate);\n        },\n\n        _filter: function(options) {\n            var that = this;\n            var widgetOptions = that.options;\n            var word = options.word;\n            var filterFields = widgetOptions.filterFields;\n            var field = widgetOptions.dataTextField;\n            var expression;\n\n            if (filterFields && filterFields.length) {\n                expression = {\n                    logic: \"or\",\n                    filters: [],\n                    fromFilter: true\n                };\n                for (var i = 0; i < filterFields.length; i++) {\n                    this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                }\n            } else {\n                expression = that._buildExpression(word, field);\n            }\n\n            that._open = options.open;\n            that._filterSource(expression);\n        },\n\n        _buildExpression: function(value, field) {\n            var that = this;\n            var widgetOptions = that.options;\n            var ignoreCase = widgetOptions.ignoreCase;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            return {\n                value: ignoreCase ? (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()) : value,\n                field: field,\n                operator: widgetOptions.filter,\n                ignoreCase: ignoreCase\n            };\n        },\n\n        _clearButton: function() {\n            var list = this;\n            var clearTitle = list.options.messages.clear;\n\n            if (!list._clear) {\n                list._clear = $(`<span unselectable=\"on\" class=\"k-clear-value\" title=\"${clearTitle}\">${kendo.ui.icon(\"x\")}</span>`).attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            }\n\n            if (!list.options.clearButton) {\n                list._clear.remove();\n            }\n            this._hideClear();\n        },\n\n        search: function(word) {\n            var options = this.options;\n\n            word = typeof word === \"string\" ? word : this._inputValue();\n\n            clearTimeout(this._typingTimeout);\n\n            if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                this._state = \"filter\";\n                if (this.listView) {\n                    this.listView._emptySearch = !kendo.trim(word).length;\n                }\n\n                if (!this._isFilterEnabled()) {\n                    this._searchByWord(word);\n                } else {\n                    this._filter({ word: word, open: true });\n                }\n            }\n        },\n\n        current: function(candidate) {\n            return this._focus(candidate);\n        },\n\n        items: function() {\n            return this.ul[0].children;\n        },\n\n        destroy: function() {\n            var that = this;\n            var ns = that.ns;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            if (that.largeMQL || that.mediumMQL || that.smallMQL) {\n                that.largeMQL.destroy();\n                that.mediumMQL.destroy();\n                that.smallMQL.destroy();\n            }\n\n            that.listView.destroy();\n            that.list.off(ns);\n\n            that.popup.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n\n            if (that.label) {\n                that.label.destroy();\n            }\n        },\n\n        dataItem: function(index) {\n            var that = this;\n\n            if (index === undefined$1) {\n                return that.listView.selectedDataItems()[0];\n            }\n\n            if (typeof index !== \"number\") {\n                if (that.options.virtual) {\n                    return that.dataSource.getByUid($(index).data(\"uid\"));\n                }\n\n                index = $(that.items()).index(index);\n            }\n\n            return that.dataSource.flatView()[index];\n        },\n\n        _activateItem: function() {\n            var current = this.listView.focus();\n            if (current && this.popup.visible()) {\n                this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n            }\n        },\n\n        _deactivateItem: function() {\n            this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n        },\n\n        _accessors: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var getter = kendo.getter;\n            var textField = element.attr(kendo.attr(\"text-field\"));\n            var valueField = element.attr(kendo.attr(\"value-field\"));\n\n            if (!options.dataTextField && textField) {\n                options.dataTextField = textField;\n            }\n\n            if (!options.dataValueField && valueField) {\n                options.dataValueField = valueField;\n            }\n\n            that._text = getter(options.dataTextField);\n            that._value = getter(options.dataValueField);\n        },\n\n        _aria: function(id) {\n            var that = this,\n                options = that.options,\n                element = that._focused,\n                autocomplete;\n\n            if (options.suggest !== undefined$1) {\n                if (options.filter === \"none\") {\n                    if (options.suggest === true) {\n                        autocomplete = \"inline\";\n                    } else {\n                        autocomplete = \"none\";\n                    }\n                } else {\n                    if (options.suggest === true) {\n                        autocomplete = \"both\";\n                    } else {\n                        autocomplete = \"list\";\n                    }\n                }\n\n                element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n            }\n\n            id = id ? id + \" \" + that.ul[0].id : that.ul[0].id;\n\n            element.attr({\n                \"aria-controls\": id\n            });\n\n            if (that.filterInput && that.filterInput.length > 0) {\n                that.filterInput.attr(ARIA_CONTROLS, id);\n            }\n\n            that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? \"off\" : \"polite\");\n\n            that._ariaLabel(that._focused);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._change();\n            that.close();\n            that._userTriggered = false;\n        },\n\n        _isValueChanged: function(value) {\n            return value !== unifyType(this._old, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var index = that.selectedIndex;\n            var optionValue = that.options.value;\n            var value = that.value();\n            var trigger;\n\n            if (that._isSelect && !that.listView.bound() && optionValue) {\n                value = optionValue;\n            }\n\n            if (that._isValueChanged(value)) {\n                trigger = true;\n            } else if (that._valueBeforeCascade !== undefined$1 && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                trigger = true;\n            } else if (index !== undefined$1 && index !== that._oldIndex && !that.listView.isFiltered()) {\n                trigger = true;\n            }\n\n            if (trigger) {\n\n                if (that._old === null || that._old === \"\" || value === \"\") {\n                    that._valueBeforeCascade = that._old = value;\n                } else {\n                    if (that.dataItem()) {\n                        that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                    } else {\n                        that._valueBeforeCascade = that._old = null;\n                    }\n                }\n                that._oldIndex = index;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n        },\n\n        _data: function() {\n            return this.dataSource.view();\n        },\n\n        _enable: function() {\n            var that = this,\n                options = that.options,\n                disabled = that.element.is(\"[disabled]\");\n\n            if (options.enable !== undefined$1) {\n                options.enabled = options.enable;\n            }\n\n            if (!options.enabled || disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(that.element.is(\"[readonly]\"));\n            }\n        },\n\n        _dataValue: function(dataItem) {\n            var value = this._value(dataItem);\n\n            if (value === undefined$1) {\n                value = this._text(dataItem);\n            }\n\n            return value;\n        },\n\n        _offsetHeight: function() {\n            var offsetHeight = 0;\n            var siblings = this.listView.content.parent().prevAll(\":visible\");\n\n            siblings.each(function() {\n                var element = $(this);\n\n                offsetHeight += outerHeight(element, true);\n            });\n\n            return offsetHeight;\n        },\n\n        _height: function(length) {\n            var that = this;\n            var list = that.list;\n            var height = that.options.height;\n            var visible = that.popup.visible();\n            var isMccb = this.options.columns && this.options.columns.length;\n            var offsetTop, popups;\n\n            if (length || that.options.noDataTemplate) {\n                // Check where animation container stays\n                popups = list.parent().add(list.closest(\".k-animation-container\")).show();\n\n                if (!list.parent().is(\":visible\")) {\n                    popups.hide();\n                    return;\n                }\n\n                height = that.listView.content[0].scrollHeight > height ? height : \"auto\";\n\n                popups.height(height);\n\n                if (height !== \"auto\") {\n                    offsetTop = that._offsetHeight();\n\n                    height = height - offsetTop;\n\n                    if (isMccb) {\n                        height = height - (outerHeight($(that.footer)) || 0) - (outerHeight($(that.columnsHeader)) || 0);\n                    }\n                }\n\n                if (isMccb) {\n                    that.listView.content.outerHeight(height);\n                } else {\n                    that.listView.content.parent().outerHeight(height);\n                }\n\n                if (!visible) {\n                    list.parent().hide();\n                }\n            }\n\n            return height;\n        },\n\n        _openHandler: function(e) {\n            var current;\n\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, true);\n                this.ul.attr(ARIA_HIDDEN, false);\n\n                current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n                }\n            }\n        },\n\n        _adjustListWidth: function() {\n            var that = this,\n                list = that.list.parent(),\n                width = list[0].style.width,\n                wrapper = that.wrapper,\n                computedStyle, computedWidth;\n\n            if ((!list.data(WIDTH) && width) || that._hasActionSheet()) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n            if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            if (list.css(\"box-sizing\") !== \"border-box\") {\n                width = computedWidth - (outerWidth(list) - list.width());\n            } else {\n                width = computedWidth;\n            }\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: that.options.autoWidth ? \"auto\" : width,\n                minWidth: width,\n                whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n            })\n            .data(WIDTH, width);\n\n            return true;\n        },\n\n        _closeHandler: function(e) {\n            if (e.closeButton) {\n                this._onCloseButtonPressed();\n            }\n\n\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, false);\n                this.ul.attr(ARIA_HIDDEN, true);\n                this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n        },\n\n        _focusItem: function() {\n            var listView = this.listView;\n            var noFocusedItem = !listView.focus();\n            var index = last(listView.select());\n\n            if (index === undefined$1 && this.options.highlightFirst && noFocusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined$1) {\n                listView.focus(index);\n            } else if (noFocusedItem) {\n                listView.scrollToIndex(0);\n            }\n        },\n\n        _calculateGroupPadding: function(height) {\n            var li = this.ul.children(\".k-first\").first();\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            var padding = 0;\n            var direction = 'right';\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                if (this.element.parents('.k-rtl').length) {\n                    direction = 'left';\n                }\n\n                padding += parseFloat(li.css(\"border-\" + direction + \"-width\"), 10) + parseFloat(li.children(GROUP_LABEL).css(\"padding-\" + direction), 10);\n                groupHeader.css(\"padding-\" + direction, padding);\n            }\n        },\n\n        _calculatePopupHeight: function(force) {\n            var height = this._height(this.dataSource.flatView().length || force);\n            this._calculateGroupPadding(height);\n            this._calculateColumnsHeaderPadding(height);\n        },\n\n        _calculateColumnsHeaderPadding: function(height) {\n            if (this.options.columns && this.options.columns.length) {\n                var list = this;\n                var isRtl = support.isRtl(list.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n\n                list.columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), height !== \"auto\" ? scrollbar : 0);\n            }\n        },\n\n        _refreshScroll: function() {\n            var listView = this.listView;\n            var enableYScroll = listView.element.height() > listView.content.height();\n\n            if (this.options.autoWidth) {\n                listView.content.css({\n                    overflowX: \"hidden\",\n                    overflowY: enableYScroll ? \"scroll\" : \"auto\"\n                });\n            }\n        },\n\n        _hasActionSheet: function() {\n            return this.options.adaptiveMode === \"auto\" && (this.mediumMQL.mediaQueryList.matches\n                    || this.smallMQL.mediaQueryList.matches);\n        },\n\n        _resizePopup: function(force) {\n            if (this.options.virtual\n                    || this._hasActionSheet()) {\n                return;\n            }\n\n            if (!this.popup.element.is(\":visible\")) {\n                this.popup.one(\"open\", (function(force) {\n                    return (function(e) {\n                        if (!e.isDefaultPrevented()) {\n                            this._calculatePopupHeight(force);\n                        }\n                    }).bind(this);\n                }).call(this, force));\n\n                this.popup.one(ACTIVATE, this._refreshScroll.bind(this));\n            } else {\n                this._calculatePopupHeight(force);\n            }\n        },\n\n        _popup: function() {\n            var list = this;\n\n            list.list.wrap(\"<div>\");\n\n            if (list.options.adaptiveMode === \"auto\") {\n                list.largeMQL.onEnter(list._createPopup.bind(list));\n                list.mediumMQL.onEnter(list._createActionSheet.bind(list));\n                list.smallMQL\n                    .onEnter(() => {\n                        if (!list.popup) {\n                            list._createActionSheet();\n                        }\n\n                        list.popup.fullscreen(true);\n                    });\n            } else {\n                list._createPopup();\n            }\n        },\n\n        _createPopup: function() {\n            var list = this;\n\n            if (list.popup) {\n                list._cachedFilterValue = list.filterInput ? list.filterInput.val() : null;\n                list.popup.destroy();\n                list._removeFilterHeader();\n                list._removeStaticHeader();\n            }\n\n            list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                anchor: list.wrapper,\n                open: list._openHandler.bind(list),\n                close: list._closeHandler.bind(list),\n                animation: list.options.animation,\n                isRtl: support.isRtl(list.wrapper),\n                autosize: list.options.autoWidth,\n                activate: () => {\n                    this._refreshFloatingLabel();\n                },\n                deactivate: () => {\n                    this._refreshFloatingLabel();\n                }\n            }));\n\n            list._addFilterHeader = list._isFilterEnabled() && list.options.popupFilter ? () => {\n                list._filterHeader();\n                list.list\n                    .parent()\n                    .prepend($(list.filterTemplate))\n                    .find(\".k-searchbox\")\n                    .append(list.filterInput);\n                list.enable();\n            } : $.noop;\n\n            list._postCreatePopup();\n        },\n\n        _onActionSheetCreate: $.noop,\n        _onCloseButtonPressed: $.noop,\n\n        _createActionSheet: function() {\n            var list = this;\n\n            if (list.popup) {\n                list._cachedFilterValue = list.filterInput ? list.filterInput.val() : null;\n                list.popup.destroy();\n                list._removeFilterHeader();\n                list._removeStaticHeader();\n                list.list.parent().css({\n                    width: \"\",\n                    height: \"\",\n                    minWidth: \"\"\n                });\n            }\n\n            list.popup = new ui.ActionSheet(list.list.parent(), {\n                headerTemplate: (options) =>\n                `<div class=\"k-text-center k-actionsheet-titlebar\" >` +\n                        '<div class=\"k-actionsheet-titlebar-group k-hbox\">' +\n                            `<div  class=\"k-actionsheet-title\">` +\n                                (list.options.label ? `<div class=\"k-text-center\">${list.options.label}</div>` : '') +\n                                (list.options.placeholder ? `<div class=\"k-actionsheet-subtitle k-text-center\">${list.options.placeholder || \"\"}</div>` : \"\") +\n                            '</div>' +\n                            (options.closeButton ?\n                            '<div class=\"k-actionsheet-actions\">' +\n                                kendo.html.renderButton(`<button tabindex=\"-1\" ${kendo.attr(\"ref-actionsheet-close-button\")}></button>`, { icon: \"x\", fillMode: \"flat\", size: \"large\" }) +\n                            '</div>'\n                            : \"\") +\n                        '</div>' +\n                    (this._isFilterEnabled() ? `<div class=\"k-actionsheet-titlebar-group k-actionsheet-filter\">${list.filterTemplate}</div>` : '') +\n                '</div>',\n                open: list._openHandler.bind(list),\n                close: list._closeHandler.bind(list),\n                focusOnActivate: false,\n                adaptive: true,\n                appendTo: (list.options.popup && list.options.popup.appendTo) || document.body,\n                closeButton: true,\n                fullscreen: list.smallMQL.mediaQueryList.matches,\n                activate: () => {\n                    this._refreshFloatingLabel();\n                },\n                deactivate: () => {\n                    this._refreshFloatingLabel();\n                },\n                popup: extend({}, list.options.popup, {\n                    autosize: list.options.autoWidth\n                })\n            });\n\n            list._addFilterHeader = this._isFilterEnabled() ? () => {\n                list._filterHeader();\n                list.popup.element\n                    .find(\".k-searchbox\")\n                    .append(list.filterInput);\n                list.enable();\n            } : $.noop;\n\n\n            list._postCreatePopup();\n            list._onActionSheetCreate();\n        },\n\n        _removeFilterHeader: function() {\n            if (this.filterInput) {\n                this.filterInput\n                    .off(this.ns)\n                    .closest(\".k-list-filter\")\n                    .remove();\n\n                this.filterInput = null;\n            }\n        },\n\n        _removeStaticHeader: function() {\n            this.listView.header.remove();\n        },\n\n        _postCreatePopup: function() {\n            var list = this;\n            var listViewValue;\n\n            list._addFilterHeader();\n\n            if (list.filterInput && list._cachedFilterValue) {\n                list.filterInput.val(list._cachedFilterValue);\n            }\n\n            list.popup.element.prepend(list.header)\n                .on(MOUSEDOWN + this.ns, this._listMousedown.bind(this));\n\n            if (list.listView) {\n                listViewValue = list.listView.value();\n\n                if (list.listView._clean) {\n                    list.listView._clean();\n                }\n\n                // Dirty hack to clean MultiSelect taglist\n                if (list.tagList && list.options.virtual) {\n                    list.tagList.empty();\n                }\n\n                list.listView.destroy();\n                list._initList({ skipValueUpdate: true });\n                list.listView.value(listViewValue);\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n        },\n\n        _toggle: function(open, preventFocus) {\n            var that = this;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            open = open !== undefined$1 ? open : !that.popup.visible();\n\n            if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                that._prevent = true;\n                that._focused.trigger(FOCUS);\n                that._prevent = false;\n            }\n\n            that[open ? OPEN : CLOSE]();\n        },\n\n        _triggerCascade: function() {\n            var that = this;\n\n            if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                that._cascadedValue = that.value();\n                that._cascadeTriggered = true;\n                that.trigger(CASCADE, { userTriggered: that._userTriggered });\n            }\n        },\n\n        _triggerChange: function() {\n            if (this._valueBeforeCascade !== this.value()) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(REQUESTSTART, that._requestStartHandler)\n                           .unbind(REQUESTEND, that._requestEndHandler)\n                           .unbind(\"error\", that._errorHandler);\n        },\n\n        requireValueMapper: function(options, value) {\n            var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n            if (hasValue && options.virtual && typeof options.virtual.valueMapper !== \"function\") {\n                throw new Error(\"ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function\");\n            }\n        }\n    });\n\n    function unifyType(value, type) {\n        if (value !== undefined$1 && value !== \"\" && value !== null) {\n            if (type === \"boolean\") {\n                if (typeof value !== \"boolean\") {\n                    value = value.toString().toLowerCase() === \"true\";\n                }\n                value = Boolean(value);\n            } else if (type === \"number\") {\n                value = Number(value);\n            } else if (type === \"string\") {\n                value = value.toString();\n            }\n        }\n\n        return value;\n    }\n\n    extend(List, {\n        inArray: function(node, parentNode) {\n            var idx, length, siblings = parentNode.children;\n\n            if (!node || node.parentNode !== parentNode) {\n                return -1;\n            }\n\n            for (idx = 0, length = siblings.length; idx < length; idx++) {\n                if (node === siblings[idx]) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n        unifyType: unifyType\n    });\n\n    kendo.ui.List = List;\n\n    ui.Select = List.extend({\n        init: function(element, options) {\n            List.fn.init.call(this, element, options);\n            this._initial = this.element.val();\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            var parent;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n\n            if (that.listView.bound()) {\n                that._initialIndex = null;\n                that.listView._current = null;\n            }\n\n            that.listView.setDataSource(that.dataSource);\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            parent = that._parentWidget();\n\n            if (parent) {\n                that._cascadeSelect(parent);\n            }\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        select: function(candidate) {\n            var that = this;\n\n            if (candidate === undefined$1) {\n                return that.selectedIndex;\n            } else {\n                return that._select(candidate).done(function() {\n                    that._cascadeValue = that._old = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n\n                    that._refreshFloatingLabel();\n                });\n            }\n        },\n\n        _accessor: function(value, idx) {\n            return this[this._isSelect ? \"_accessorSelect\" : \"_accessorInput\"](value, idx);\n        },\n\n        _accessorInput: function(value) {\n            var element = this.element[0];\n\n            if (value === undefined$1) {\n                return element.value;\n            } else {\n                if (value === null) {\n                    value = \"\";\n                }\n                element.value = value;\n            }\n        },\n\n        _accessorSelect: function(value, idx) {\n            var element = this.element[0];\n            var hasValue;\n\n            if (value === undefined$1) {\n                return getSelectedOption(element).value || \"\";\n            }\n\n            getSelectedOption(element).selected = false;\n\n            if (idx === undefined$1) {\n                idx = -1;\n            }\n\n            hasValue = (value !== null && value !== \"\");\n\n            if (hasValue && idx == -1) {\n                this._custom(value);\n            } else {\n                if (value) {\n                    element.value = value;\n                } else {\n                    element.selectedIndex = idx;\n                }\n            }\n        },\n\n        _syncValueAndText: function() {\n            return true;\n        },\n\n        _custom: function(value) {\n            var that = this;\n            var element = that.element;\n            var custom = that._customOption;\n\n            if (!custom) {\n                custom = $(\"<option/>\");\n                that._customOption = custom;\n\n                element.append(custom);\n            }\n\n            custom.text(value);\n            custom[0].selected = true;\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(ARIA_BUSY, false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function(e) {\n            var that = this;\n\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function() {\n                if (that._arrowIcon) { //destroyed after request start\n                    that._focused.attr(ARIA_BUSY, true);\n                    that._arrowIcon.addClass(LOADING);\n                    that._hideClear();\n                }\n            }, 100);\n        },\n\n        _requestEnd: function() {\n            this._request = false;\n            this._hideBusy();\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {},\n                idx;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (that._isSelect) {\n                idx = element[0].selectedIndex;\n                if (idx > -1) {\n                    options.index = idx;\n                }\n\n                dataSource.select = element;\n                dataSource.fields = [{ field: options.dataTextField },\n                                     { field: options.dataValueField }];\n            }\n\n            if (that.dataSource) {\n                that._unbindDataSource();\n            } else {\n                that._requestStartHandler = that._showBusy.bind(that);\n                that._requestEndHandler = that._requestEnd.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(REQUESTSTART, that._requestStartHandler)\n                                   .bind(REQUESTEND, that._requestEndHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _firstItem: function() {\n            this.listView.focusFirst();\n        },\n\n        _lastItem: function() {\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            return this.listView.focusNext();\n        },\n\n        _prevItem: function() {\n            return this.listView.focusPrev();\n        },\n\n        _getNormalizedDataItem: function(candidate) {\n            var that = this,\n                listView = that.listView,\n                isIndex = typeof candidate === \"number\",\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                index;\n\n            if (isIndex) {\n                index = hasOptionLabel ? --candidate : candidate;\n            } else {\n                index = listView.getElementIndex(candidate);\n            }\n\n            return listView.dataItemByIndex(index);\n        },\n\n        _getNormalizedSelectCandidate: function(candidate) {\n            var that = this,\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                isIndex = typeof candidate === \"number\",\n                normalizedCandidate = candidate;\n\n            if (hasOptionLabel && isIndex) {\n                normalizedCandidate++;\n            }\n\n            return normalizedCandidate;\n        },\n\n        _move: function(e) {\n            var that = this;\n            var listView = that.listView;\n            var key = e.keyCode;\n            var down = key === keys.DOWN;\n            var isVirtual = that.options.virtual;\n            var dataItem;\n            var pressed;\n            var current;\n            var moveIndex;\n            var selectCandidate;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                } else {\n                    if (!listView.bound() && !that.ul[0].firstChild) {\n                        if (!that._fetch) {\n                            that.dataSource.one(CHANGE, function() {\n                                that._fetch = false;\n                                that._move(e);\n                            });\n\n                            that._fetch = true;\n                            that._filterSource();\n                        }\n\n                        e.preventDefault();\n\n                        return true; //pressed\n                    }\n\n                    current = that._focus();\n\n                    if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                        if (down) {\n                            moveIndex = that._nextItem();\n\n                            if ((isVirtual && moveIndex <= 0) || (!that._focus() && !moveIndex) ) {\n                                that._lastItem();\n                            }\n                        } else {\n                            moveIndex = that._prevItem();\n\n                            if ((isVirtual && moveIndex >= listView.dataSource.total() - 1) || (!that._focus() && !moveIndex)) {\n                                that._firstItem();\n                            }\n                        }\n                    }\n\n                    selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n\n                    that._select(selectCandidate, true).done(function() {\n                        var done = function() {\n                            if (!that.popup.visible()) {\n                                that._blur();\n                            }\n\n                            if (that._cascadedValue === null) {\n                                that._cascadedValue = that.value();\n                            } else {\n                                that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                            }\n                        };\n\n                        if (that.trigger(SELECT, { dataItem: that._getNormalizedDataItem(selectCandidate), item: that._focus() })) {\n                            that._select(current).done(done);\n                        } else {\n                            done();\n                        }\n                    });\n                }\n\n                e.preventDefault();\n                pressed = true;\n            } else if (key === keys.ENTER || key === keys.TAB) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n\n                current = that._focus();\n                dataItem = that.dataItem();\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                var selection;\n\n                if (current) {\n                    dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    var shouldTrigger = true;\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(SELECT, { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    selection = that._select(current);\n                } else if (that.input) {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        that._accessor(that.input.val());\n                    }\n                    that.listView.value(that.input.val());\n                }\n\n                if (that._focusElement) {\n                    that._focusElement(that.wrapper);\n                }\n\n                if (activeFilter && key === keys.TAB) {\n                    that.wrapper.focusout();\n                } else {\n                    if (selection && typeof selection.done === \"function\") {\n                        selection.done(function() {\n                            that._blur();\n                        });\n                    } else {\n                        that._blur();\n                    }\n                }\n\n                that.close();\n                pressed = true;\n            } else if (key === keys.ESC) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n                that.close();\n                pressed = true;\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n\n                pressed = true;\n            }\n\n            return pressed;\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n\n            if (that._request || that.options.cascadeFrom) {\n                return;\n            }\n\n            if (!that.listView.bound() && !that._fetch && !hasItems) {\n                that._fetch = true;\n                that.dataSource.fetch().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _options: function(data, optionLabel, value) {\n            var that = this,\n                element = that.element,\n                htmlElement = element[0],\n                length = data.length,\n                options = \"\",\n                option,\n                dataItem,\n                dataText,\n                dataValue,\n                idx = 0;\n\n            if (optionLabel) {\n                options = optionLabel;\n            }\n\n            for (; idx < length; idx++) {\n                option = \"<option\";\n                dataItem = data[idx];\n                dataText = that._text(dataItem);\n                dataValue = that._value(dataItem);\n\n                if (dataValue !== undefined$1) {\n                    dataValue += \"\";\n\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                    }\n\n                    option += ' value=\"' + dataValue + '\"';\n                }\n\n                option += \">\";\n\n                if (dataText !== undefined$1) {\n                    option += htmlEncode(dataText);\n                }\n\n                option += \"</option>\";\n                options += option;\n            }\n\n            element.html(options);\n\n            if (value !== undefined$1) {\n                htmlElement.value = value;\n                if (htmlElement.value && !value) {\n                    htmlElement.selectedIndex = -1;\n                }\n            }\n\n            if (htmlElement.selectedIndex !== -1) {\n                option = getSelectedOption(htmlElement);\n\n                if (option) {\n                    option.setAttribute(SELECTED, SELECTED);\n                }\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initial);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _parentWidget: function() {\n            var name = this.options.name;\n\n            if (!this.options.cascadeFrom) {\n                return;\n            }\n\n            var parentElement = $(\"#\" + this.options.cascadeFrom);\n            var parent = parentElement.data(\"kendo\" + name);\n\n            if (!parent) {\n                for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                    parent = parentElement.data(\"kendo\" + alternativeNames[name][i]);\n\n                    if (!!parent) {\n                        break;\n                    }\n                }\n            }\n\n            return parent;\n        },\n\n        _cascade: function() {\n            var that = this;\n            var options = that.options;\n            var cascade = options.cascadeFrom;\n            var parent;\n\n            if (cascade) {\n                parent = that._parentWidget();\n\n                if (!parent) {\n                    return;\n                }\n\n                that._cascadeHandlerProxy = that._cascadeHandler.bind(that);\n                that._cascadeFilterRequests = [];\n\n                options.autoBind = false;\n\n                parent.bind(\"set\", function() { //will cascade\n                    that.one(\"set\", function(e) { //get your value\n                        that._selectedValue = e.value || that._accessor();\n                    });\n                });\n\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n\n                //refresh was called\n                if (parent.listView.bound()) {\n                    that._toggleCascadeOnFocus();\n                    that._cascadeSelect(parent);\n                } else {\n                    parent.one(DATA_BOUND, function() {\n                        that._toggleCascadeOnFocus();\n                        if (parent.popup.visible()) {\n                            parent._focused.trigger(FOCUS);\n                        }\n                    });\n\n                    if (!parent.value()) {\n                        that.enable(false);\n                    }\n                }\n            }\n        },\n\n        _toggleCascadeOnFocus: function() {\n            var that = this;\n            var parent = that._parentWidget();\n            var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n\n            parent._focused.add(parent.filterInput).on(FOCUS, function() {\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.first(CHANGE, that._cascadeHandlerProxy);\n            });\n\n            parent._focused.add(parent.filterInput).on(focusout, function() {\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n            });\n        },\n\n        _cascadeHandler: function(e) {\n            var parent = this._parentWidget();\n            var valueBeforeCascade = this.value();\n\n            this._userTriggered = e.userTriggered || parent._userTriggered;\n\n            if (this.listView.bound()) {\n                this._clearSelection(parent, true);\n            }\n\n            this._cascadeSelect(parent, valueBeforeCascade);\n        },\n\n        _cascadeChange: function(parent) {\n            var that = this;\n            var value = that._accessor() || that._selectedValue;\n\n            if (!that._cascadeFilterRequests.length) {\n                that._selectedValue = null;\n            }\n\n            if (that._userTriggered) {\n                that._clearSelection(parent, true);\n            } else if (value) {\n                if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                    that.value(value);\n                }\n\n                if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                    that._clearSelection(parent, true);\n                }\n            } else if (that.dataSource.flatView().length) {\n                that.select(that.options.index);\n            }\n\n            that.enable();\n            that._triggerCascade();\n            that._triggerChange();\n            that._userTriggered = false;\n        },\n\n        _cascadeSelect: function(parent, valueBeforeCascade) {\n            var that = this;\n            var dataItem = parent.dataItem();\n            var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n            var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n            var expressions;\n\n            // Applicable only when parent is ComboBox or MultiColumnComboBox\n            if (parent.options.cascadeOnCustomValue &&\n                filterValue === null &&\n                (!that.options.cascadeFromParentField || that.options.cascadeFromParentField === parent.options.dataValueField)) {\n                    filterValue = parent.value();\n            }\n\n            that._valueBeforeCascade = valueBeforeCascade !== undefined$1 ? valueBeforeCascade : that.value();\n\n            if (filterValue || filterValue === 0) {\n                expressions = that.dataSource.filter() || {};\n                removeFiltersForField(expressions, valueField);\n\n                var handler = function() {\n                    var currentHandler = that._cascadeFilterRequests.shift();\n                    if (currentHandler) {\n                        that.unbind('dataBound', currentHandler);\n                    }\n\n                    currentHandler = that._cascadeFilterRequests[0];\n                    if (currentHandler) {\n                        that.first('dataBound', currentHandler);\n                    }\n\n                    that._cascadeChange(parent);\n                };\n\n                that._cascadeFilterRequests.push(handler);\n\n                if (that._cascadeFilterRequests.length === 1) {\n                    that.first('dataBound', handler);\n                }\n\n                that._cascading = true;\n                that._filterSource({\n                    field: valueField,\n                    operator: \"eq\",\n                    value: filterValue\n                });\n                that._cascading = false;\n            } else {\n                that.enable(false);\n                that._clearSelection(parent);\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            }\n\n            that._refreshFloatingLabel();\n        }\n    });\n\n    var STATIC_LIST_NS = \".StaticList\";\n\n    var StaticList = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.element.attr(\"role\", \"listbox\")\n                        .on(CLICK + STATIC_LIST_NS, \"li\", this._click.bind(this))\n                        .on(MOUSEENTER + STATIC_LIST_NS, \"li\", function() { $(this).addClass(HOVER); })\n                        .on(MOUSELEAVE + STATIC_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            if (options && options.ariaLabel) {\n                this.element.attr(ARIA_LABEL, options.ariaLabel);\n            } else if (options && options.ariaLabelledBy) {\n                this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n            }\n\n            if (support.touch) {\n                this._touchHandlers();\n            }\n\n            if (this.options.selectable === \"multiple\") {\n                this.element.attr(ARIA_MULTISELECTABLE, true);\n            }\n\n            if (this.options.columns && this.options.columns.length) {\n                var thead = this.element.parent().find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                this.header = row.find(\".k-table-th\");\n\n                this.content = this.element.wrap(\"<div class='k-table-body k-table-scroller' unselectable='on'></div>\").parent();\n\n                this.element.addClass(TABLE_LIST);\n            } else {\n                this.content = this.element.wrap(\"<div class='k-list-content k-list-scroller' unselectable='on'></div>\").parent();\n                this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                this.element.addClass(LIST_UL);\n            }\n\n            this.bound(false);\n\n            this._optionID = kendo.guid();\n\n            this._selectedIndices = [];\n\n            this._view = [];\n            this._dataItems = [];\n            this._values = [];\n\n            var value = this.options.value;\n\n            if (value) {\n                this._values = Array.isArray(value) ? value.slice(0) : [value];\n            }\n\n            this._getter();\n            this._templates();\n\n            this.setDataSource(this.options.dataSource);\n\n            this._createOnScrollProxy();\n        },\n\n        options: {\n            name: \"StaticList\",\n            dataValueField: null,\n            valuePrimitive: false,\n            selectable: true,\n            template: null,\n            groupTemplate: null,\n            fixedGroupTemplate: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n           CLICK,\n            CHANGE,\n           ACTIVATE,\n           DEACTIVATE,\n           DATA_BINDING,\n           DATA_BOUND,\n           SELECTED_ITEM_CHANGE\n        ],\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                value = that.value();\n\n                that.value([]);\n                that.bound(false);\n\n                that.value(value);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.setDSFilter(dataSource.filter());\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n            that._fixedHeader();\n        },\n\n        _touchHandlers: function() {\n            var that = this,\n                itemSelector = this.options.columns && this.options.columns.length ? ITEMSELECTORTABLE : ITEMSELECTOR,\n                startY, endY,\n                tapPosition = function(event) {\n                    return (event.originalEvent || event).changedTouches[0].pageY;\n                };\n\n            that.element.on(\"touchstart\" + STATIC_LIST_NS, function(e) {\n                startY = tapPosition(e);\n            });\n\n            that.element.on(\"touchend\" + STATIC_LIST_NS, function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                endY = tapPosition(e);\n\n                if (Math.abs(endY - startY) < 10) {\n                    that._touchTriggered = true;\n                    that._triggerClick($(e.target).closest(itemSelector).get(0));\n                }\n            });\n        },\n\n        skip: function() {\n            return this.dataSource.skip();\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._getter();\n            this._templates();\n            this._render();\n\n            if (this.label && options.label) {\n                this.label.setOptions(options.label);\n            } else if (this.label && options.label === false) {\n                this.label._unwrapFloating();\n                this._inputLabel.remove();\n                delete this._inputLabel;\n            }\n        },\n\n        destroy: function() {\n            this.element.off(STATIC_LIST_NS);\n\n            if (this._refreshHandler) {\n                this.dataSource.unbind(CHANGE, this._refreshHandler);\n            }\n\n            clearTimeout(this._scrollId);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        dataItemByIndex: function(index) {\n            return this.dataSource.flatView()[index];\n        },\n\n        screenHeight: function() {\n            return this.content[0].clientHeight;\n        },\n\n        scrollToIndex: function(index) {\n            var item = this.element[0].children[index];\n\n            if (item) {\n                this.scroll(item);\n            }\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var content = this.content[0],\n                itemOffsetTop = item.offsetTop,\n                itemOffsetHeight = item.offsetHeight,\n                contentScrollTop = content.scrollTop,\n                contentOffsetHeight = content.clientHeight,\n                bottomDistance = itemOffsetTop + itemOffsetHeight;\n\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                    contentScrollTop = (bottomDistance - contentOffsetHeight);\n                }\n\n                content.scrollTop = contentScrollTop;\n        },\n\n        selectedDataItems: function(dataItems) {\n            if (dataItems === undefined$1) {\n                return this._dataItems.slice();\n            }\n\n            this._dataItems = dataItems;\n            this._values = this._getValues(dataItems);\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        focusNext: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = 0;\n            } else {\n                current = current.next();\n            }\n\n            this.focus(current);\n        },\n\n        focusPrev: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = this.element[0].children.length - 1;\n            } else {\n                current = current.prev();\n            }\n\n            this.focus(current);\n        },\n\n        focusFirst: function() {\n            this.focus(this.element[0].children[0]);\n        },\n\n        focusLast: function() {\n            this.focus(last(this.element[0].children));\n        },\n\n        focus: function(candidate) {\n            var that = this;\n            var id = that._optionID;\n            var hasCandidate;\n\n            if (candidate === undefined$1) {\n                return that._current;\n            }\n\n            candidate = last(that._get(candidate));\n            candidate = $(this.element[0].children[candidate]);\n\n            if (that._current) {\n                that._current\n                    .removeClass(FOCUSED)\n                    .removeAttr(ID);\n\n                that.trigger(DEACTIVATE);\n            }\n\n            hasCandidate = !!candidate[0];\n\n            if (hasCandidate) {\n                candidate.addClass(FOCUSED);\n                that.scroll(candidate);\n\n                candidate.attr(\"id\", id);\n            }\n\n            that._current = hasCandidate ? candidate : null;\n            that.trigger(ACTIVATE);\n        },\n\n        focusIndex: function() {\n            return this.focus() ? this.focus().index() : undefined$1;\n        },\n\n        skipUpdate: function(skipUpdate) {\n            this._skipUpdate = skipUpdate;\n        },\n\n        select: function(indices) {\n            var that = this;\n            var selectable = that.options.selectable;\n            var singleSelection = selectable !== \"multiple\" && selectable !== false;\n            var selectedIndices = that._selectedIndices;\n            var uiSelectedIndices = [this.element.find(\".k-selected\").index()];\n\n            var added = [];\n            var removed = [];\n            var result;\n\n            if (indices === undefined$1) {\n                return selectedIndices.slice();\n            }\n\n            indices = that._get(indices);\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            var deferred = $.Deferred().resolve();\n            var filtered = that.isFiltered();\n\n            if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                return deferred;\n            }\n\n            if (singleSelection && !filtered &&\n                $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n\n                if (that._dataItems.length && that._view.length) {\n                    that._dataItems = [that._view[selectedIndices[0]].item];\n                }\n\n                return deferred;\n            }\n\n            result = that._deselect(indices);\n\n            removed = result.removed;\n            indices = result.indices;\n\n            if (indices.length) {\n                if (singleSelection) {\n                    indices = [last(indices)];\n                }\n\n                added = that._select(indices);\n            }\n\n            if (added.length || removed.length) {\n                that._valueComparer = null;\n                that.trigger(CHANGE, {\n                    added: added,\n                    removed: removed\n                });\n            }\n\n            return deferred;\n        },\n\n        removeAt: function(position) {\n            this._selectedIndices.splice(position, 1);\n            this._values.splice(position, 1);\n            this._valueComparer = null;\n\n            return {\n                position: position,\n                dataItem: this._dataItems.splice(position, 1)[0]\n            };\n        },\n\n        setValue: function(value) {\n            value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n            this._values = value;\n\n            this._valueComparer = null;\n        },\n\n        value: function(value) {\n            var that = this;\n            var deferred = that._valueDeferred;\n            var indices;\n\n            if (value === undefined$1) {\n                return that._values.slice();\n            }\n\n            that.setValue(value);\n\n            if (!deferred || deferred.state() === \"resolved\") {\n                that._valueDeferred = deferred = $.Deferred();\n            }\n\n            if (that.bound()) {\n                indices = that._valueIndices(that._values);\n\n                if (that.options.selectable === \"multiple\") {\n                    that.select(-1);\n                }\n\n                that.select(indices);\n\n                deferred.resolve();\n            }\n\n            that._skipUpdate = false;\n\n            return deferred;\n        },\n\n        items: function() {\n            return this.element.children(ITEMSELECTOR);\n        },\n\n        _click: function(e) {\n            if (this._touchTriggered)\n            {\n                this._touchTriggered = false;\n                return;\n            }\n\n            if (!e.isDefaultPrevented()) {\n                this._triggerClick(e.currentTarget);\n            }\n        },\n\n        _createOnScrollProxy: function() {\n            var onScrollProxy = function() {\n                var that = this;\n                clearTimeout(that._scrollId);\n\n                that._scrollId = setTimeout(function() {\n                    that._renderHeader();\n                }, 50);\n            };\n\n            this._onScroll = onScrollProxy.bind(this);\n        },\n\n        _triggerClick: function(item) {\n            if (!this.trigger(CLICK, { item: $(item) })) {\n                this.select(item);\n            }\n        },\n\n        _valueExpr: function(type, values) {\n            var that = this;\n            var idx = 0;\n            var comparer;\n            var normalized = [];\n\n            if (!that._valueComparer || that._valueType !== type) {\n                that._valueType = type;\n\n                for (; idx < values.length; idx++) {\n                    normalized.push(unifyType(values[idx], type));\n                }\n\n                comparer = (current, values) => {\n                    for (var idx = 0; idx < normalized.length; idx++) {\n                        if (current === values[idx]) {\n                            return idx;\n                        }\n                    }\n                    return -1;\n                };\n\n                that._valueComparer = function(current) {\n                    return comparer(current, normalized);\n                };\n            }\n\n            return that._valueComparer;\n        },\n\n        _dataItemPosition: function(dataItem, values) {\n            var value = this._valueGetter(dataItem);\n\n            var valueExpr = this._valueExpr(typeof value, values);\n\n            return valueExpr(value);\n        },\n\n        _getter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _deselect: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var selectable = that.options.selectable;\n            var selectedIndices = that._selectedIndices;\n            var dataItems = that._dataItems;\n            var values = that._values;\n            var removed = [];\n            var i = 0;\n            var j;\n\n            var index, selectedIndex;\n            var removedIndices = 0;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) {\n                for (; i < selectedIndices.length; i++) {\n                    $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n\n                    removed.push({\n                        position: i,\n                        dataItem: dataItems[i]\n                    });\n                }\n\n                that._values = [];\n                that._dataItems = [];\n                that._selectedIndices = [];\n            } else if (selectable === \"multiple\") {\n                for (; i < indices.length; i++) {\n                    index = indices[i];\n\n                    if (!$(children[index]).hasClass(KSELECTED)) {\n                        continue;\n                    }\n\n                    for (j = 0; j < selectedIndices.length; j++) {\n                        selectedIndex = selectedIndices[j];\n\n                        if (selectedIndex === index) {\n                            $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                            var dataItem = this._view[index].item;\n                            var position = this._dataItemPosition(dataItem, this._values);\n\n                            removed.push({\n                                position: position,\n                                dataItem: dataItem\n                            });\n\n                            dataItems.splice(j, 1);\n                            selectedIndices.splice(j, 1);\n                            indices.splice(i, 1);\n                            values.splice(j, 1);\n\n                            removedIndices += 1;\n                            i -= 1;\n                            j -= 1;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectFiltered: function(indices) {\n            var children = this.element[0].children;\n            var dataItem, index, position;\n            var removed = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n\n                dataItem = this._view[index].item;\n                position = this._dataItemPosition(dataItem, this._values);\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(KSELECTED);\n                }\n            }\n\n            if (removed.length) {\n                this.trigger(CHANGE, {\n                    added: [],\n                    removed: removed\n                });\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _select: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var data = that._view;\n            var dataItem, index;\n            var added = [];\n            var idx = 0;\n\n            if (last(indices) !== -1) {\n                that.focus(indices);\n            }\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n                dataItem = data[index];\n\n                if (index === -1 || !dataItem) {\n                    continue;\n                }\n\n                dataItem = dataItem.item;\n\n                that._selectedIndices.push(index);\n                that._dataItems.push(dataItem);\n                that._values.push(that._valueGetter(dataItem));\n\n                $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n\n                added.push({\n                    dataItem: dataItem\n                });\n            }\n\n            return added;\n        },\n\n        getElementIndex: function(element) {\n            return $(element).data(\"offset-index\");\n        },\n\n        _get: function(candidate) {\n            if (typeof candidate === \"number\") {\n                candidate = [candidate];\n            } else if (!isArray(candidate)) {\n                candidate = this.getElementIndex(candidate);\n                candidate = [candidate !== undefined$1 ? candidate : -1];\n            }\n\n            return candidate;\n        },\n\n        _templates: function() {\n            var template;\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                options.columns.forEach((column, i) => {\n                    var templateText = column.field ? column.field.toString() : TEXT;\n                    var templateFunc = data => htmlEncode(kendo.getter(templateText)(data));\n\n                    templates[\"column\" + i] = column.template || templateFunc;\n                });\n            }\n\n            for (var key in templates) {\n                template = templates[key];\n                if (template && typeof template !== \"function\") {\n                    templates[key] = kendo.template(template);\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _normalizeIndices: function(indices) {\n            var newIndices = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                if (indices[idx] !== undefined$1) {\n                    newIndices.push(indices[idx]);\n                }\n            }\n\n            return newIndices;\n        },\n\n        _valueIndices: function(values, indices) {\n            var data = this._view;\n            var idx = 0;\n            var index;\n\n            indices = indices ? indices.slice() : [];\n\n            if (!values.length) {\n                return [];\n            }\n\n            for (; idx < data.length; idx++) {\n                index = this._dataItemPosition(data[idx].item, values);\n\n                if (index !== -1) {\n                    indices[index] = idx;\n                }\n            }\n\n            return this._normalizeIndices(indices);\n        },\n\n        _firstVisibleItem: function() {\n            var element = this.element[0];\n            var content = this.content[0];\n            var scrollTop = content.scrollTop;\n            var itemHeight = $(element.children[0]).height();\n            var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n            var item = element.children[itemIndex] || element.lastChild;\n            var forward = item.offsetTop < scrollTop;\n\n            while (item) {\n                if (forward) {\n                    if ((item.offsetTop + itemHeight) > scrollTop || !item.nextSibling) {\n                        break;\n                    }\n\n                    item = item.nextSibling;\n                } else {\n                    if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                        break;\n                    }\n\n                    item = item.previousSibling;\n                }\n            }\n\n            return this._view[$(item).data(\"offset-index\")];\n        },\n\n        _fixedHeader: function() {\n            if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    this.header.show();\n                }\n\n                this.content.scroll(this._onScroll);\n            } else {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    this.header.hide();\n                }\n\n                this.content.off(\"scroll\", this._onScroll);\n            }\n        },\n\n        _renderHeader: function() {\n            var template = this.templates.fixedGroupTemplate;\n            if (!template) {\n                return;\n            }\n\n            var visibleItem = this._firstVisibleItem();\n\n            if (visibleItem && visibleItem.group.toString().length) {\n                this.header.html(template(visibleItem.group));\n            }\n        },\n\n        _renderItem: function(context) {\n            var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n\n            var dataItem = context.item;\n            var notFirstItem = context.index !== 0;\n            var selected = context.selected;\n            var isGrouped = this.isGrouped();\n            var hasColumns = this.options.columns && this.options.columns.length;\n            var altRow = context.index % 2 === 1 ? \" k-table-alt-row\" : \"\";\n\n            if (hasColumns) {\n                item += ('class=\"k-table-row' + altRow);\n            } else {\n                item += 'class=\"k-list-item';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                item += ' k-first';\n            }\n\n            if (context.isLastGroupedItem && hasColumns) {\n                item += ' k-last';\n            }\n\n            if (selected) {\n                item += ' k-selected';\n            }\n\n            item += '\" aria-selected=\"' + (selected ? \"true\" : \"false\") + '\" data-offset-index=\"' + context.index + '\">';\n            if (hasColumns) {\n                item += this._renderColumns(dataItem);\n            } else {\n                item += '<span class=\"k-list-item-text\">';\n                item += this.templates.template(dataItem);\n                item += '</span>';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                if (hasColumns) {\n                    item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                } else {\n                    item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n            } else if (isGrouped && hasColumns) {\n                item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n            }\n\n            return item + \"</li>\";\n        },\n\n        _renderColumns: function(dataItem) {\n            var item = \"\";\n\n            for (var i = 0; i < this.options.columns.length; i++) {\n                var currentWidth = this.options.columns[i].width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n                item += \"<span class='k-table-td' \" + widthStyle + \">\";\n                item += this.templates[\"column\" + i](dataItem);\n                item += \"</span>\";\n            }\n\n            return item;\n        },\n\n        _render: function() {\n            var html = \"\";\n\n            var i = 0;\n            var idx = 0;\n            var context;\n            var dataContext = [];\n            var view = this.dataSource.view();\n            var values = this.value();\n\n            var group, newGroup, j;\n            var isGrouped = this.isGrouped();\n\n            if (isGrouped) {\n                for (i = 0; i < view.length; i++) {\n                    group = view[i];\n                    newGroup = true;\n\n                    for (j = 0; j < group.items.length; j++) {\n                        context = {\n                            selected: this._selected(group.items[j], values),\n                            item: group.items[j],\n                            group: group.value,\n                            newGroup: newGroup,\n                            isLastGroupedItem: j === group.items.length - 1,\n                            index: idx };\n                        dataContext[idx] = context;\n                        idx += 1;\n\n                        html += this._renderItem(context);\n                        newGroup = false;\n                    }\n                }\n            } else {\n                for (i = 0; i < view.length; i++) {\n                    context = { selected: this._selected(view[i], values), item: view[i], index: i };\n\n                    dataContext[i] = context;\n\n                    html += this._renderItem(context);\n                }\n            }\n\n            this._view = dataContext;\n\n            this.element[0].innerHTML = html;\n\n            if (isGrouped && dataContext.length) {\n                this._renderHeader();\n            }\n        },\n\n        _selected: function(dataItem, values) {\n            var select = !this.isFiltered() || this.options.selectable === \"multiple\";\n            return select && this._dataItemPosition(dataItem, values) !== -1;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var skipUpdateOnBind = that.options.skipUpdateOnBind;\n            var isItemChange = action === \"itemchange\";\n            var result;\n\n            that.trigger(DATA_BINDING);\n            that._angularItems(\"cleanup\");\n\n            that._fixedHeader();\n\n            that._render();\n\n            that.bound(true);\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._dataItems, e.items);\n\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(SELECTED_ITEM_CHANGE, {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                that.focus(0);\n                if (that._skipUpdate) {\n                    that._skipUpdate = false;\n                    that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                }\n            } else if (!skipUpdateOnBind && (!action || action === \"add\")) {\n                that.value(that._values);\n            }\n\n            if (that._valueDeferred) {\n                that._valueDeferred.resolve();\n            }\n\n            that._angularItems(\"compile\");\n            that.trigger(DATA_BOUND);\n        },\n\n        bound: function(bound) {\n            if (bound === undefined$1) {\n                return this._bound;\n            }\n\n            this._bound = bound;\n        },\n\n        isGrouped: function() {\n            return (this.dataSource.group() || []).length;\n        }\n    });\n\n    ui.plugin(StaticList);\n\n    function last(list) {\n        return list[list.length - 1];\n    }\n\n    function getSelectedOption(select) {\n        var index = select.selectedIndex;\n        return index > -1 ? select.options[index] : {};\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isValidFilterExpr(expression) {\n        if (!expression || $.isEmptyObject(expression)) {\n            return false;\n        }\n\n        if (expression.filters && !expression.filters.length) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function removeFiltersForField(expression, field) {\n        var filters;\n        var found = false;\n\n        if (expression.filters) {\n            filters = $.grep(expression.filters, function(filter) {\n                found = removeFiltersForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field != field;\n                }\n            });\n\n            if (!found && expression.filters.length !== filters.length) {\n                found = true;\n            }\n\n            expression.filters = filters;\n        }\n\n        return found;\n    }\n\n    kendo.cssProperties.registerPrefix(\"List\", \"k-list-\");\n\n})(window.kendo.jQuery);\n"]}