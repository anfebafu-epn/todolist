{"version":3,"file":"kendo.mobile.button.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","ui","mobile","Widget","os","support","mobileOS","ANDROID3UP","android","flatVersion","CLICK","DISABLED","highlightButton","widget","event","highlight","target","closest","toggleClass","deactivateTimeoutID","clearTimeout","createBadge","value","Button","extend","init","element","options","that","this","fn","call","useTap","clickOn","_wrap","_style","attr","enable","_userEvents","UserEvents","allowSelection","fastTap","press","e","_activate","release","stopPropagation","bind","_release","on","_timeoutDeactivate","destroy","events","icon","style","badge","badgeElement","appendTo","html","empty","remove","prop","setTimeout","activeElement","document","nodeName","blur","which","trigger","button","preventDefault","styles","split","each","addClass","iconSpan","span","children","image","find","wrapInner","iconElement","prepend","BackButton","DetailButton","plugin","jQuery"],"sources":["kendo.mobile.button.js"],"mappings":"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","sourcesContent":["import './kendo.userevents.js';\n\nvar __meta__ = {\n    id: \"mobile.button\",\n    name: \"Button\",\n    category: \"mobile\",\n    description: \"The Button widget navigates between mobile Application views when pressed.\",\n    depends: [ \"userevents\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        support = kendo.support,\n        os = support.mobileOS,\n        ANDROID3UP = os.android && os.flatVersion >= 300,\n        CLICK = \"click\",\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"km-state-disabled\";\n\n    function highlightButton(widget, event, highlight) {\n        $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n        if (ANDROID3UP && widget.deactivateTimeoutID) {\n            clearTimeout(widget.deactivateTimeoutID);\n            widget.deactivateTimeoutID = 0;\n        }\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var Button = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            var useTap = that.options.clickOn === \"up\";\n\n            that._wrap();\n            that._style();\n\n            if (!useTap) {\n                that.element.attr(\"data-navigate-on-press\", true);\n            }\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that._userEvents = new kendo.UserEvents(that.element, {\n                allowSelection: !useTap,\n                fastTap: true,\n                press: function(e) {\n                    that._activate(e);\n                },\n                release: function(e) {\n                    highlightButton(that, e, false);\n                    if (!useTap) { e.event.stopPropagation(); }\n                }\n            });\n\n            that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                that._release(e);\n            });\n\n\n            if (ANDROID3UP) {\n                that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        events: [\n            CLICK\n        ],\n\n        options: {\n            name: \"Button\",\n            icon: \"\",\n            style: \"\",\n            badge: \"\",\n            clickOn: \"up\",\n            enable: true\n        },\n\n        badge: function(value) {\n            var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                this.badgeElement = false;\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if (enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            element.toggleClass(DISABLEDSTATE, !enable);\n        },\n\n        _timeoutDeactivate: function(e) {\n            if (!this.deactivateTimeoutID) {\n                this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n            }\n        },\n\n        _activate: function(e) {\n            var activeElement = document.activeElement,\n                nodeName = activeElement ? activeElement.nodeName : \"\";\n\n            if (this.options.enable) {\n                highlightButton(this, e, true);\n\n                if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                    activeElement.blur(); // Hide device keyboard\n                }\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n\n            if (e.which > 1) {\n                return;\n            }\n\n            if (!that.options.enable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, { target: $(e.target), button: that.element })) {\n                e.preventDefault();\n            }\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                badge = that.options.badge,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element.addClass(\"km-button\"),\n                span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!span[0] && element.html()) {\n                span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n            }\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                that.iconElement = element.prepend($(iconSpan + '\" />'));\n            }\n\n            if (badge || badge === 0) {\n                that.badgeElement = createBadge(badge).appendTo(element);\n            }\n        }\n    });\n\n    var BackButton = Button.extend({\n        options: {\n            name: \"BackButton\",\n            style: \"back\"\n        },\n\n        init: function(element, options) {\n            var that = this;\n            Button.fn.init.call(that, element, options);\n\n            if (typeof that.element.attr(\"href\") === \"undefined\") {\n                that.element.attr(\"href\", \"#:back\");\n            }\n        }\n    });\n\n    var DetailButton = Button.extend({\n        options: {\n            name: \"DetailButton\",\n            style: \"\"\n        },\n\n        init: function(element, options) {\n            Button.fn.init.call(this, element, options);\n        },\n\n        _style: function() {\n            var style = this.options.style + \" detail\",\n                element = this.element;\n\n            if (style) {\n                var styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element,\n                span = element.children(\"span\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                element.prepend($(iconSpan + '\" />'));\n            }\n        }\n\n    });\n\n    ui.plugin(Button);\n    ui.plugin(BackButton);\n    ui.plugin(DetailButton);\n})(window.kendo.jQuery);\n"]}