{"version":3,"file":"kendo.button.menu.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","Widget","ui","NS","keys","encode","htmlEncode","extend","DOT","ID","NEXT","DISABLEDSTATE","ARIA_DISABLED","TABINDEX","CLICK","MENU_CLICK","OPEN","CLOSE","KEYDOWN","FOCUS","DIRECTIONS","down","origin","position","up","cssClasses","popup","list","listItem","menuItem","itemText","item","sprite","image","icon","baseItem","text","url","attributes","enabled","hidden","imageUrl","spriteCssClass","IMAGE_TEMPLATE","SPRITE_TEMPLATE","ICON_TEMPLATE","TEXT_TEMPLATE","ITEM_TEMPLATE","LINK_TEMPLATE","target","findFocusableSibling","element","dir","getSibling","fn","next","prev","getter","first","last","candidate","call","focusable","length","parent","find","is","ButtonMenu","init","options","that","this","mainButton","_clickHandlers","_renderList","_initPopup","_attachEvents","_applyCssClasses","direction","items","size","events","addClass","attr","guid","appendTo","forEach","_renderListItem","bind","attributesId","enable","_renderItemButton","click","class","data","isFunction","append","_hide","itemTemplate","template","_popup","Popup","anchor","isRtl","_isRtl","toggleTarget","copyAnchorStyles","animation","open","_popupOpenHandler","close","_popupCloseHandler","activate","_popupExpandHandler","ev","trigger","preventDefault","adjustPopupWidth","width","css","on","_click","listItemKeydown","_keydown","parents","altKey","keyCode","DOWN","li","ESC","TAB","UP","SPACEBAR","ENTER","HOME","filter","END","closest","type","originalEvent","toggle","toggleClass","removeAttr","hide","show","children","destroyPopup","destroy","off","remove","cssProperties","registerPrefix","plugin","jQuery"],"sources":["kendo.button.menu.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.popup.js';\nimport './kendo.icons.js';\n\nvar __meta__ = {\n    id: \"button.menu\",\n    name: \"ButtonMenu\",\n    category: \"web\",\n    description: \"The popup Menu list part of the SplitButton and the DropDownButton\",\n    depends: [\"core\", \"popup\", \"icons\"]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoButtonMenu\",\n        ui = kendo.ui,\n        keys = kendo.keys,\n        encode = kendo.htmlEncode,\n        extend = $.extend,\n\n        DOT = \".\",\n        ID = \"id\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        DISABLEDSTATE = \"k-disabled\",\n        HIDDEN = \"k-hidden\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ROLE_MENU = \"menu\",\n        ROLE_MENU_ITEM = \"menuitem\",\n        TABINDEX = \"tabindex\",\n\n        CLICK = \"click\",\n        MENU_CLICK = \"menuClick\",\n        OPEN = \"menuOpen\",\n        CLOSE = \"menuClose\",\n        KEYDOWN = \"keydown\",\n        FOCUS = \"focus\",\n\n        DIRECTIONS = {\n            \"down\": {\n                origin: \"bottom left\",\n                position: \"top left\"\n            },\n            \"up\": {\n                origin: \"top left\",\n                position: \"bottom left\"\n            }\n        };\n\n    var cssClasses = {\n        popup: \"k-menu-popup\",\n        list: \"k-group k-menu-group k-reset\",\n        listItem: \"k-item k-menu-item\",\n        menuItem: \"k-menu-item\",\n        itemText: \"k-menu-link-text\",\n        item: \"k-link k-menu-link\",\n        sprite: \"k-sprite\",\n        image: \"k-image\",\n        icon: \"k-icon\"\n    };\n\n    var baseItem = {\n        text: null,\n        icon: null,\n        url: null,\n        attributes: null,\n        enabled: true,\n        hidden: false,\n        id: null,\n        imageUrl: null,\n        spriteCssClass: null\n    };\n\n    var IMAGE_TEMPLATE = ({ imageUrl }) => `${imageUrl ? `<img alt=\"icon\" class=\"${cssClasses.image}\" src=\"${encode(imageUrl)}\" />` : ''}`;\n    var SPRITE_TEMPLATE = ({ spriteCssClass }) => `${spriteCssClass ? `<span class=\"${cssClasses.sprite} ${encode(spriteCssClass)}\"></span>` : ''}`;\n    var ICON_TEMPLATE = ({ icon }) => `${icon ? kendo.ui.icon(encode(icon)) : ''}`;\n    var TEXT_TEMPLATE = ({ text }) => `${text ? `<span class=\"${cssClasses.itemText}\">${encode(text)}</span>` : ''}`;\n\n    var ITEM_TEMPLATE = ({ imageUrl, spriteCssClass, icon, text }) => `<span class=\"${cssClasses.item}\">` +\n                                                        `${IMAGE_TEMPLATE({ imageUrl })}` +\n                                                        `${SPRITE_TEMPLATE({ spriteCssClass })}` +\n                                                        `${ICON_TEMPLATE({ icon })}` +\n                                                        `${TEXT_TEMPLATE({ text })}` +\n                                                    `</span>`;\n\n    var LINK_TEMPLATE = ({ url, imageUrl, spriteCssClass, icon, text, attributes }) => `<a href=\"${encode(url)}\" ${attributes.target ? `target=\"${attributes.target}\"` : ''} class=\"${cssClasses.item}\">` +\n                                                    `${IMAGE_TEMPLATE({ imageUrl })}` +\n                                                    `${SPRITE_TEMPLATE({ spriteCssClass })}` +\n                                                    `${ICON_TEMPLATE({ icon })}` +\n                                                    `${TEXT_TEMPLATE({ text })}` +\n                                                `</a>`;\n\n    function findFocusableSibling(element, dir) {\n        var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n        var getter = dir === NEXT ? $.fn.first : $.fn.last;\n        var candidate = getSibling.call(element);\n        var focusable = \":kendoFocusable\";\n\n        if (!candidate.length) {\n            candidate = getter.call(element.parent().find(DOT + cssClasses.menuItem));\n        }\n\n        if (candidate.is(focusable) || !candidate.length) {\n            return candidate;\n        }\n\n        if (candidate.find(focusable).length) {\n            return getter.call(candidate.find(focusable));\n        }\n\n        return findFocusableSibling(candidate, dir);\n    }\n\n    var ButtonMenu = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n\n            Widget.fn.init.call(that, element, options);\n\n            that.mainButton = options.mainButton;\n            that._clickHandlers = {};\n\n            that._renderList();\n\n            that._initPopup();\n\n            that._attachEvents();\n\n            that._applyCssClasses(that.list);\n        },\n\n        options: {\n            name: \"ButtonMenu\",\n            direction: \"down\",\n            element: null,\n            items: [],\n            size: \"medium\",\n        },\n\n        events: [\n            MENU_CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _renderList: function() {\n            var that = this,\n                items = that.options.items,\n                popup = that.element.addClass(cssClasses.popup),\n                id = that.mainButton.attr(ID) || kendo.guid(),\n                list = $(\"<ul role=\\\"\" + ROLE_MENU + \"\\\"></ul>\").addClass(cssClasses.list);\n\n            that.list = list.appendTo(popup);\n\n            that.list.attr(ID, id + \"_buttonmenu\");\n\n            items.forEach(that._renderListItem.bind(that));\n        },\n\n        _renderListItem: function(item) {\n            var that = this,\n                attributesId = item.attributes ? item.attributes.id : null,\n                id, menuItem;\n\n            item = extend({}, baseItem, item, {\n                enabled: item.enable && item.enabled // backward compatibility: support both enable and enabled options.\n            });\n\n            id = item.id || attributesId || kendo.guid();\n            menuItem = $(\"<li id=\\\"\" + id + \"\\\" role=\\\"\" + ROLE_MENU_ITEM + \"\\\" class=\\\"\" + cssClasses.listItem + \"\\\">\" + that._renderItemButton(item) + \"</li>\");\n\n            if (item.click) {\n                that._clickHandlers[id] = item.click;\n            }\n\n            if (item.attributes) {\n                delete item.attributes.target;\n\n                if (item.attributes.class) {\n                    menuItem.addClass(item.attributes.class);\n                    delete item.attributes.class;\n                }\n\n                menuItem.attr(item.attributes);\n            }\n\n            if (item.data && kendo.isFunction(item.data)) {\n                menuItem.data(item.data(item));\n            }\n\n            that.list.append(menuItem);\n\n            that.enable(item.enabled, menuItem);\n            that._hide(item.hidden, menuItem);\n        },\n\n        _renderItemButton: function(item) {\n            var that = this,\n                options = that.options;\n\n            if (options.itemTemplate) {\n                return kendo.template(options.itemTemplate)(item);\n            }\n\n            if (item.url) {\n                return kendo.template(LINK_TEMPLATE)(item);\n            } else {\n                return kendo.template(ITEM_TEMPLATE)(item);\n            }\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options,\n                direction = options.direction || \"down\";\n\n            that._popup = new ui.Popup(that.element, extend({}, options.popup, {\n                anchor: that.mainButton,\n                isRtl: that._isRtl,\n                toggleTarget: options.toggleTarget,\n                copyAnchorStyles: false,\n                animation: options.animation,\n                open: that._popupOpenHandler.bind(that),\n                close: that._popupCloseHandler.bind(that),\n                activate: that._popupExpandHandler.bind(that)\n            }, DIRECTIONS[direction]));\n        },\n\n        _popupOpenHandler: function(ev) {\n            var that = this;\n\n            var isDefaultPrevented = that.trigger(OPEN);\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.list.find(DOT + cssClasses.menuItem).attr(TABINDEX, 0);\n        },\n\n        _popupCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE);\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n            }\n\n            that.list.find(DOT + cssClasses.menuItem).attr(TABINDEX, -1);\n        },\n\n        _popupExpandHandler: function() {\n            var that = this;\n\n            that.list.find(\":kendoFocusable\").first().trigger(FOCUS);\n        },\n\n        adjustPopupWidth: function(width) {\n            var that = this;\n\n            that.element.addClass(\"k-split-wrapper\");\n\n            that.element.css({\n                \"min-width\": width\n            });\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.list\n                .on(CLICK + NS, DOT + cssClasses.menuItem, that._click.bind(that))\n                .on(KEYDOWN + NS, DOT + cssClasses.menuItem, that.listItemKeydown.bind(that));\n\n            that.mainButton\n                .on(KEYDOWN + NS, that._keydown.bind(that));\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if ($(ev.target).is(DOT + DISABLEDSTATE) || $(ev.target).parents(DOT + DISABLEDSTATE).length) {\n                return;\n            }\n\n            if (ev.altKey && ev.keyCode === keys.DOWN) {\n                that._popup.open();\n                ev.preventDefault();\n                return;\n            }\n        },\n\n        listItemKeydown: function(ev) {\n            var that = this,\n                li = $(ev.target);\n\n            ev.preventDefault();\n\n            if (ev.keyCode === keys.ESC || ev.keyCode === keys.TAB || (ev.altKey && ev.keyCode === keys.UP)) {\n                that._popup.close();\n                that.mainButton.trigger(FOCUS);\n            } else if (ev.keyCode === keys.DOWN) {\n                findFocusableSibling(li, NEXT).trigger(FOCUS);\n            } else if (ev.keyCode === keys.UP) {\n                findFocusableSibling(li, PREV).trigger(FOCUS);\n            } else if (!li.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.SPACEBAR || ev.keyCode === keys.ENTER)) {\n                li.trigger(CLICK);\n            } else if (ev.keyCode === keys.HOME) {\n                that.list.find(\":kendoFocusable\")\n                    .filter(DOT + cssClasses.menuItem)\n                    .first().trigger(FOCUS);\n            } else if (ev.keyCode === keys.END) {\n                that.list.find(\":kendoFocusable\")\n                    .filter(DOT + cssClasses.menuItem)\n                    .last().trigger(FOCUS);\n            }\n        },\n\n        _click: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(DOT + cssClasses.menuItem),\n                id = target.attr(ID);\n\n            if (that._clickHandlers[id]) {\n                that._clickHandlers[id](ev);\n            }\n\n            that.trigger(MENU_CLICK, { id: id, target: target, type: \"menu-click\", originalEvent: ev });\n        },\n\n        toggle: function() {\n            this._popup.toggle();\n        },\n\n        enable: function(enable, items) {\n            var that = this;\n\n            if (!items || !items.length) {\n                items = that.items();\n            } else {\n                items = that.list.find(items);\n            }\n\n            items.toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                items.removeAttr(ARIA_DISABLED);\n            } else {\n                items.attr(ARIA_DISABLED, !enable);\n            }\n        },\n\n\n        _hide: function(hidden, items) {\n            var that = this;\n\n            if (!items || !items.length) {\n                items = that.items();\n            } else {\n                items = that.list.find(items);\n            }\n\n            items.toggleClass(HIDDEN, hidden);\n        },\n\n        hide: function(items) {\n            this._hide(true, items);\n        },\n\n        show: function(items) {\n            this._hide(false, items);\n        },\n\n        close: function() {\n            this._popup.close();\n        },\n\n        items: function() {\n            return this.list.children(DOT + cssClasses.menuItem);\n        },\n\n        destroyPopup: function() {\n            var that = this;\n\n            if (that._popup) {\n                that._popup.destroy();\n                that._popup = null;\n\n                that.list.off(NS);\n                that.list.remove();\n                that.list = null;\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            delete that._clickHandlers;\n\n            that.destroyPopup();\n            that.mainButton.off(NS);\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"ButtonMenu\", \"k-menu-group-\");\n\n    ui.plugin(ButtonMenu);\n\n})(window.kendo.jQuery);\n"]}