{"version":3,"file":"kendo.mobile.collapsible.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","ui","mobile","Widget","COLLAPSED","EXPANDED","ANIMATED","EXAPND","COLLAPSE","Collapsible","extend","init","element","options","that","this","container","fn","call","addClass","_buildHeader","content","children","not","header","wrapAll","parent","_userEvents","UserEvents","fastTap","tap","toggle","collapsed","inset","animation","height","hide","events","collapseIcon","expandIcon","iconPosition","destroy","expand","instant","icon","ios","support","mobileOS","trigger","find","removeClass","off","show","_getContentHeight","resize","collapse","one","isCollapsed","hasClass","iconSpan","prepend","style","attr","css","position","visibility","plugin","jQuery"],"sources":["kendo.mobile.collapsible.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\n\nvar __meta__ = {\n    id: \"mobile.collapsible\",\n    name: \"Collapsible\",\n    category: \"mobile\",\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        COLLAPSIBLE = \"km-collapsible\",\n        HEADER = \"km-collapsible-header\",\n        CONTENT = \"km-collapsible-content\",\n        INSET = \"km-collapsibleinset\",\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\n\n        COLLAPSED = \"km-collapsed\",\n        EXPANDED = \"km-expanded\",\n        ANIMATED = \"km-animated\",\n\n        //icon position\n        LEFT = \"left\",\n\n        //events\n        EXAPND = \"expand\",\n        COLLAPSE = \"collapse\";\n\n    var Collapsible = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                container = $(element);\n\n            Widget.fn.init.call(that, container, options);\n\n            container.addClass(COLLAPSIBLE);\n\n            that._buildHeader();\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\n\n            that._userEvents = new kendo.UserEvents(that.header, {\n                fastTap: true,\n                tap: function() { that.toggle(); }\n            });\n\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\n\n            if (that.options.inset) {\n                container.addClass(INSET);\n            }\n\n            if (that.options.animation) {\n                that.content.addClass(ANIMATED);\n                that.content.height(0);\n                if (that.options.collapsed) {\n                    that.content.hide();\n                }\n            } else if (that.options.collapsed) {\n                that.content.hide();\n            }\n        },\n\n        events: [\n            EXAPND,\n            COLLAPSE\n        ],\n\n        options: {\n            name: \"Collapsible\",\n            collapsed: true,\n            collapseIcon: \"arrow-n\",\n            expandIcon: \"caret-alt-down\",\n            iconPosition: LEFT,\n            animation: true,\n            inset: false\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        expand: function(instant) {\n            var icon = this.options.collapseIcon,\n                content = this.content,\n                ios = kendo.support.mobileOS.ios;\n\n            if (!this.trigger(EXAPND)) {\n                if (icon) {\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\n                }\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\n\n                if (this.options.animation && !instant) {\n                    content.off(\"transitionend\");\n                    content.show();\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\n                    content.height(this._getContentHeight());\n                    if (ios) { content.addClass(ANIMATED); }\n\n                    kendo.resize(content);\n                } else {\n                    content.show();\n                }\n            }\n        },\n\n        collapse: function(instant) {\n            var icon = this.options.expandIcon,\n                content = this.content;\n\n            if (!this.trigger(COLLAPSE)) {\n                if (icon) {\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\n                }\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\n\n                if (this.options.animation && !instant) {\n                    content.one(\"transitionend\", function() { content.hide(); });\n                    content.height(0);\n                } else {\n                    content.hide();\n                }\n            }\n        },\n\n        toggle: function(instant) {\n            if (this.isCollapsed()) {\n                this.expand(instant);\n            } else {\n                this.collapse(instant);\n            }\n        },\n\n        isCollapsed: function() {\n            return this.element.hasClass(COLLAPSED);\n        },\n\n        resize: function() {\n            if (!this.isCollapsed() && this.options.animation) {\n                this.content.height(this._getContentHeight());\n            }\n        },\n\n        _buildHeader: function() {\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\n                iconSpan = $('<span class=\"km-icon\"/>'),\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\n                iconPosition = this.options.iconPosition;\n\n            if (icon) {\n                header.prepend(iconSpan);\n                iconSpan.addClass(\"km-\" + icon);\n            }\n\n            this.header = header.parent();\n            this.header.addClass(\"km-icon-\" + iconPosition);\n        },\n\n        _getContentHeight: function() {\n            var style = this.content.attr(\"style\"),\n                height;\n\n            this.content.css({\n                position: 'absolute',\n                visibility: 'hidden',\n                height: \"auto\"\n            });\n\n            height = this.content.height();\n\n            this.content.attr(\"style\", style ? style : \"\");\n\n            return height;\n        }\n    });\n\n    ui.plugin(Collapsible);\n})(window.kendo.jQuery);\n"]}