{"version":3,"file":"kendo.mobile.actionsheet.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","support","ui","mobile","Shim","Popup","Widget","OPEN","CLOSE","COMMAND","BUTTONS","cancelTemplate","template","cancel","htmlEncode","ActionSheet","extend","init","element","options","ShimClass","tablet","type","that","this","os","mobileOS","fn","call","addClass","append","wrap","on","preventDefault","view","bind","destroy","wrapper","parent","shim","modal","ios","majorVersion","className","popup","_closeProxy","_close","_shimHideProxy","_shimHide","onResize","notify","events","height","open","target","context","show","close","hide","openFor","data","trigger","unbindResize","_click","e","isDefaultPrevented","currentTarget","action","actionData","$angular","injector","get","getter","plugin","jQuery"],"sources":["kendo.mobile.actionsheet.js"],"mappings":"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","sourcesContent":["import './kendo.mobile.popover.js';\nimport './kendo.mobile.shim.js';\n\nvar __meta__ = {\n    id: \"mobile.actionsheet\",\n    name: \"ActionSheet\",\n    category: \"mobile\",\n    description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n    depends: [ \"mobile.popover\", \"mobile.shim\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Popup = ui.Popup,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        COMMAND = \"command\",\n        BUTTONS = \"li>a\",\n        CONTEXT_DATA = \"actionsheetContext\",\n        WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n        cancelTemplate = kendo.template(({ cancel }) => `<li class=\"km-actionsheet-cancel\"><a href=\"#\">${kendo.htmlEncode(cancel)}</a></li>`);\n\n    var ActionSheet = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                ShimClass,\n                tablet,\n                type,\n                os = support.mobileOS;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            type = options.type;\n            element = that.element;\n\n            if (type === \"auto\") {\n                tablet = os && os.tablet;\n            } else {\n                tablet = type === \"tablet\";\n            }\n\n            ShimClass = tablet ? Popup : Shim;\n\n            if (options.cancelTemplate) {\n                cancelTemplate = kendo.template(options.cancelTemplate);\n            }\n\n            element\n                .addClass(\"km-actionsheet\")\n                .append(cancelTemplate({ cancel: that.options.cancel }))\n                .wrap(WRAP)\n                .on(\"up\", BUTTONS, \"_click\")\n                .on(\"click\", BUTTONS, kendo.preventDefault);\n\n            that.view().bind(\"destroy\", function() {\n                that.destroy();\n            });\n\n            that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n            that.shim = new ShimClass(that.wrapper, $.extend({ modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\" }, that.options.popup) );\n\n            that._closeProxy = that._close.bind(that);\n            that._shimHideProxy = that._shimHide.bind(that);\n            that.shim.bind(\"hide\", that._shimHideProxy);\n\n            if (tablet) {\n                kendo.onResize(that._closeProxy);\n            }\n\n            kendo.notify(that, ui);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            COMMAND\n        ],\n\n        options: {\n            name: \"ActionSheet\",\n            cancel: \"Cancel\",\n            type: \"auto\",\n            popup: { height: \"auto\" }\n        },\n\n        open: function(target, context) {\n            var that = this;\n            that.target = $(target);\n            that.context = context;\n            that.shim.show(target);\n        },\n\n        close: function() {\n            this.context = this.target = null;\n            this.shim.hide();\n        },\n\n        openFor: function(target) {\n            var that = this,\n                context = target.data(CONTEXT_DATA);\n\n            that.open(target, context);\n            that.trigger(OPEN, { target: target, context: context });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.unbindResize(this._closeProxy);\n            this.shim.destroy();\n        },\n\n        _click: function(e) {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            var currentTarget = $(e.currentTarget);\n            var action = currentTarget.data(\"action\");\n\n            if (action) {\n                var actionData = {\n                    target: this.target,\n                    context: this.context\n                },\n                $angular = this.options.$angular;\n\n                if ($angular) {\n                    this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                } else {\n                    kendo.getter(action)(window)(actionData);\n                }\n            }\n\n            this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n            e.preventDefault();\n            this._close();\n        },\n\n        _shimHide: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.context = this.target = null;\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _close: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.close();\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    ui.plugin(ActionSheet);\n})(window.kendo.jQuery);\n"]}