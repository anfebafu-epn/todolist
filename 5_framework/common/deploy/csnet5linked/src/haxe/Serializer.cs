// Generated by Haxe 4.2.1+bf9ff69

#pragma warning disable 109, 114, 219, 429, 168, 162
using System;
using System.Text;

namespace haxe {
	public class Serializer : global::haxe.lang.HxObject {
		
		static Serializer() {
			#line 57 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			global::haxe.Serializer.USE_CACHE = false;
			#line 69 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			global::haxe.Serializer.USE_ENUM_INDEX = false;
			#line 71 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			global::haxe.Serializer.BASE64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
			global::haxe.Serializer.BASE64_CODES = null;
		}
		#line default
		
		public Serializer(global::haxe.lang.EmptyObject empty) {
		}
		
		
		public Serializer() {
			#line 103 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			global::haxe.Serializer.__hx_ctor_haxe_Serializer(this);
		}
		#line default
		
		protected static void __hx_ctor_haxe_Serializer(global::haxe.Serializer __hx_this) {
			#line 104 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			__hx_this.buf = new global::StringBuf();
			__hx_this.cache = new global::Array<object>();
			#line 106 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			__hx_this.useCache = global::haxe.Serializer.USE_CACHE;
			__hx_this.useEnumIndex = global::haxe.Serializer.USE_ENUM_INDEX;
			#line 108 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			__hx_this.shash = new global::haxe.ds.StringMap<int>();
			__hx_this.scount = 0;
		}
		#line default
		
		public static bool USE_CACHE;
		
		public static bool USE_ENUM_INDEX;
		
		public static string BASE64;
		
		public static object[] BASE64_CODES;
		
		public static string run(object v) {
			#line 583 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			global::haxe.Serializer s = new global::haxe.Serializer();
			s.serialize(v);
			#line 585 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			return s.toString();
		}
		#line default
		
		public global::StringBuf buf;
		
		public global::Array cache;
		
		public global::haxe.ds.StringMap<int> shash;
		
		public int scount;
		
		public bool useCache;
		
		public bool useEnumIndex;
		
		public virtual string toString() {
			#line 119 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			return this.buf.b.ToString();
		}
		#line default
		
		public virtual void serializeString(string s) {
			#line 155 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			global::haxe.lang.Null<int> x = this.shash.@get(s);
			if (x.hasValue) {
				#line 157 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				this.buf.b.Append(((string) ("R") ));
				this.buf.b.Append(((string) (global::Std.@string((x).toDynamic())) ));
				#line 159 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				return;
			}
			
			#line 161 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.shash.@set(s, this.scount++);
			#line 167 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.buf.b.Append(((string) ("y") ));
			//s = global::System.Uri.EscapeDataString(((string) (s) ));
			s = EncodeString(((string) (s) ));
			#line 169 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.buf.b.Append(((string) (global::Std.@string(s.Length)) ));
			this.buf.b.Append(((string) (":") ));
			#line 171 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.buf.b.Append(((string) (global::Std.@string(s)) ));
		}
		#line default
		
		public virtual bool serializeRef(object v) {
			#line 178 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			{
				#line 178 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				int _g = 0;
				#line 178 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				int _g1 = ((int) (global::haxe.lang.Runtime.getField_f(this.cache, "length", 520590566, true)) );
				#line 178 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				while (( _g < _g1 )) {
					#line 178 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
					int i = _g++;
					#line 183 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
					if (global::haxe.lang.Runtime.eq(this.cache[i], v)) {
						#line 185 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.buf.b.Append(((string) ("r") ));
						this.buf.b.Append(((string) (global::Std.@string(i)) ));
						#line 187 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return true;
					}
					
				}
				
			}
			
			#line 190 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			int __temp_expr1 = ((int) (global::haxe.lang.Runtime.toInt(global::haxe.lang.Runtime.callField(this.cache, "push", 1247875546, new object[]{v}))) );
			return false;
		}
		#line default
		
		public virtual void serializeFields(object v) {
			#line 212 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			{
				#line 212 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				int _g = 0;
				#line 212 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				global::Array<string> _g1 = global::Reflect.fields(v);
				#line 212 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				while (( _g < _g1.length )) {
					#line 212 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
					string f = _g1[_g];
					#line 212 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
					 ++ _g;
					this.serializeString(f);
					#line 214 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
					this.serialize(global::Reflect.field(v, f));
				}
				
			}
			
			#line 216 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.buf.b.Append(((string) ("g") ));
		}
		#line default
		
		public virtual void serialize(object v) {
			unchecked {
				#line 230 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				global::ValueType _g = global::Type.@typeof(v);
				#line 230 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				switch (_g._hx_index) {
					case 0:
					{
						#line 232 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.buf.b.Append(((string) ("n") ));
						#line 232 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 1:
					{
						#line 234 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						int v1 = ((int) (global::haxe.lang.Runtime.toInt(v)) );
						if (( v1 == 0 )) {
							#line 236 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) ("z") ));
							return;
						}
						
						#line 239 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.buf.b.Append(((string) ("i") ));
						this.buf.b.Append(((string) (global::Std.@string(v1)) ));
						#line 233 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 2:
					{
						#line 242 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						double v2 = ((double) (global::haxe.lang.Runtime.toDouble(v)) );
						if (global::System.Double.IsNaN(((double) (v2) ))) {
							#line 244 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) ("k") ));
						}
						else if ( ! (((  ! (global::System.Double.IsInfinity(((double) (v2) )))  &&  ! (global::System.Double.IsNaN(((double) (v2) )))  ))) ) {
							#line 246 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) (( (( v2 < 0 )) ? ("m") : ("p") )) ));
						}
						else {
							#line 248 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) ("d") ));
							this.buf.b.Append(((string) (global::Std.@string(v2)) ));
						}
						
						#line 241 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 3:
					{
						#line 252 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.buf.b.Append(((string) (( (global::haxe.lang.Runtime.toBool((v))) ? ("t") : ("f") )) ));
						#line 252 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 4:
					{
						#line 413 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						if (( v is global::System.Type )) {
							#line 414 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							string className = global::Type.getClassName(((global::System.Type) (v) ));
							#line 422 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) ("A") ));
							this.serializeString(className);
						}
						else if (( v is global::System.Type )) {
							#line 425 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) ("B") ));
							this.serializeString(global::Type.getEnumName(((global::System.Type) (v) )));
						}
						else {
							#line 428 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (( this.useCache && this.serializeRef(v) )) {
								#line 429 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								return;
							}
							
							#line 430 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) ("o") ));
							this.serializeFields(v);
						}
						
						#line 413 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 5:
					{
						#line 543 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						throw ((global::System.Exception) (global::haxe.Exception.thrown("Cannot serialize function")) );
					}
					
					
					case 6:
					{
						#line 253 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						global::System.Type c = ( _g as global::ValueType_TClass ).c;
						#line 253 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						{
							#line 254 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (global::haxe.lang.Runtime.refEq(c, typeof(string))) {
								#line 255 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								this.serializeString(global::haxe.lang.Runtime.toString(v));
								return;
							}
							
							#line 258 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (( this.useCache && this.serializeRef(v) )) {
								#line 259 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								return;
							}
							
							#line 260 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							switch (global::Type.getClassName(c)) {
								case "Array":
								{
									#line 262 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									int ucount = 0;
									this.buf.b.Append(((string) ("a") ));
									#line 267 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									int l = ((int) (global::haxe.lang.Runtime.toInt(global::haxe.lang.Runtime.getField(v, "length", 520590566, true))) );
									#line 269 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									{
										#line 269 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int _g1 = 0;
										#line 269 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int _g2 = l;
										#line 269 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										while (( _g1 < _g2 )) {
											#line 269 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											int i = _g1++;
											if (( ((object) (global::haxe.lang.Runtime.callField(v, "__get", 1915412854, new object[]{i})) ) == null )) {
												#line 271 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
												 ++ ucount;
											}
											else {
												#line 273 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
												if (( ucount > 0 )) {
													#line 274 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
													if (( ucount == 1 )) {
														#line 275 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
														this.buf.b.Append(((string) ("n") ));
													}
													else {
														#line 277 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
														this.buf.b.Append(((string) ("u") ));
														this.buf.b.Append(((string) (global::Std.@string(ucount)) ));
													}
													
													#line 280 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
													ucount = 0;
												}
												
												#line 282 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
												this.serialize(((object) (global::haxe.lang.Runtime.callField(v, "__get", 1915412854, new object[]{i})) ));
											}
											
										}
										
									}
									
									#line 285 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									if (( ucount > 0 )) {
										#line 286 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										if (( ucount == 1 )) {
											#line 287 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											this.buf.b.Append(((string) ("n") ));
										}
										else {
											#line 289 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											this.buf.b.Append(((string) ("u") ));
											this.buf.b.Append(((string) (global::Std.@string(ucount)) ));
										}
										
									}
									
									#line 293 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("h") ));
									#line 261 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								case "Date":
								{
									#line 301 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									global::Date d = ((global::Date) (v) );
									this.buf.b.Append(((string) ("v") ));
									#line 303 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									{
										#line 303 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										global::StringBuf _this = this.buf;
										#line 303 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										long a = global::System.TimeZone.CurrentTimeZone.ToUniversalTime(((global::System.DateTime) (d.date) )).Ticks;
										#line 303 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										_this.b.Append(((string) (global::Std.@string(( ((double) (((long) (( ((long) (a) ) - ((long) (global::Date.epochTicks) ) )) )) ) / ((double) (global::System.TimeSpan.TicksPerMillisecond) ) ))) ));
									}
									
									#line 300 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								case "haxe.ds.IntMap":
								{
									#line 313 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("q") ));
									global::haxe.ds.IntMap v3 = ((global::haxe.ds.IntMap) (v) );
									#line 315 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									{
										#line 315 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object k = ((object) (new global::haxe.ds._IntMap.IntMapKeyIterator<object>(((global::haxe.ds.IntMap<object>) (global::haxe.ds.IntMap<object>.__hx_cast<object>(((global::haxe.ds.IntMap) (v3) ))) ))) );
										#line 315 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										while (global::haxe.lang.Runtime.toBool(global::haxe.lang.Runtime.callField(k, "hasNext", 407283053, null))) {
											#line 315 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											int k1 = ((int) (global::haxe.lang.Runtime.toInt(global::haxe.lang.Runtime.callField(k, "next", 1224901875, null))) );
											this.buf.b.Append(((string) (":") ));
											#line 317 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											this.buf.b.Append(((string) (global::Std.@string(k1)) ));
											this.serialize(((object) (global::haxe.lang.Runtime.callField(v3, "get", 5144726, new object[]{k1})) ));
										}
										
									}
									
									#line 320 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("h") ));
									#line 312 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								case "haxe.ds.List":
								{
									#line 295 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("l") ));
									global::haxe.ds.List v4 = ((global::haxe.ds.List) (v) );
									#line 297 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									{
										#line 297 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										global::haxe.ds._List.ListNode _g_head = ((global::haxe.ds._List.ListNode) (global::haxe.lang.Runtime.getField(v4, "h", 104, true)) );
										#line 297 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										while (( _g_head != null )) {
											#line 297 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											object val = global::haxe.lang.Runtime.getField(_g_head, "item", 1170195731, true);
											#line 297 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											_g_head = ((global::haxe.ds._List.ListNode) (global::haxe.lang.Runtime.getField(_g_head, "next", 1224901875, true)) );
											#line 297 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											object i1 = ((object) (val) );
											this.serialize(i1);
										}
										
									}
									
									#line 299 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("h") ));
									#line 294 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								case "haxe.ds.ObjectMap":
								{
									#line 322 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("M") ));
									global::haxe.ds.ObjectMap v5 = ((global::haxe.ds.ObjectMap) (v) );
									#line 324 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									{
										#line 324 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object k2 = v5.keys();
										#line 324 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										while (global::haxe.lang.Runtime.toBool(global::haxe.lang.Runtime.callField(k2, "hasNext", 407283053, null))) {
											#line 324 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											object k3 = ((object) (global::haxe.lang.Runtime.callField(k2, "next", 1224901875, null)) );
											#line 331 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											this.serialize(k3);
											#line 333 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											this.serialize(((object) (global::haxe.lang.Runtime.callField(v5, "get", 5144726, new object[]{k3})) ));
										}
										
									}
									
									#line 335 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("h") ));
									#line 321 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								case "haxe.ds.StringMap":
								{
									#line 305 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("b") ));
									global::haxe.ds.StringMap v6 = ((global::haxe.ds.StringMap) (v) );
									#line 307 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									{
										#line 307 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object k4 = ((object) (new global::haxe.ds._StringMap.StringMapKeyIterator<object>(((global::haxe.ds.StringMap<object>) (global::haxe.ds.StringMap<object>.__hx_cast<object>(((global::haxe.ds.StringMap) (v6) ))) ))) );
										#line 307 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										while (global::haxe.lang.Runtime.toBool(global::haxe.lang.Runtime.callField(k4, "hasNext", 407283053, null))) {
											#line 307 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											string k5 = global::haxe.lang.Runtime.toString(global::haxe.lang.Runtime.callField(k4, "next", 1224901875, null));
											this.serializeString(k5);
											#line 309 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											this.serialize(((object) (global::haxe.lang.Runtime.callField(v6, "get", 5144726, new object[]{k5})) ));
										}
										
									}
									
									#line 311 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("h") ));
									#line 304 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								case "haxe.io.Bytes":
								{
									#line 337 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									global::haxe.io.Bytes v7 = ((global::haxe.io.Bytes) (v) );
									#line 352 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) ("s") ));
									{
										#line 353 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										global::StringBuf _this1 = this.buf;
										#line 353 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int x = ((int) (global::System.Math.Ceiling(((double) (( ((double) (( v7.length * 8 )) ) / 6 )) ))) );
										#line 353 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										_this1.b.Append(((string) (global::Std.@string(x)) ));
									}
									
									#line 354 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									this.buf.b.Append(((string) (":") ));
									#line 356 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									int i2 = 0;
									int max = ( v7.length - 2 );
									#line 358 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									object[] b64 = global::haxe.Serializer.BASE64_CODES;
									if (( b64 == null )) {
										#line 360 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object[] this1 = new object[global::haxe.Serializer.BASE64.Length];
										#line 360 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										b64 = ((object[]) (this1) );
										{
											#line 361 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											int _g3 = 0;
											#line 361 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											int _g4 = global::haxe.Serializer.BASE64.Length;
											#line 361 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											while (( _g3 < _g4 )) {
												#line 361 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
												int i3 = _g3++;
												((object[]) (b64) )[i3] = (global::haxe.lang.StringExt.charCodeAt(global::haxe.Serializer.BASE64, i3)).toDynamic();
											}
											
										}
										
										#line 363 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										global::haxe.Serializer.BASE64_CODES = b64;
									}
									
									#line 365 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									while (( i2 < max )) {
										#line 366 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int b1 = ((int) (v7.b[i2++]) );
										int b2 = ((int) (v7.b[i2++]) );
										#line 368 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int b3 = ((int) (v7.b[i2++]) );
										#line 370 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( b1 >> 2 )])) ));
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( (( ( b1 << 4 ) | ( b2 >> 4 ) )) & 63 )])) ));
										#line 372 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( (( ( b2 << 2 ) | ( b3 >> 6 ) )) & 63 )])) ));
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( b3 & 63 )])) ));
									}
									
									#line 375 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									if (( i2 == max )) {
										#line 376 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int b11 = ((int) (v7.b[i2++]) );
										int b21 = ((int) (v7.b[i2++]) );
										#line 378 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( b11 >> 2 )])) ));
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( (( ( b11 << 4 ) | ( b21 >> 4 ) )) & 63 )])) ));
										#line 380 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( ( b21 << 2 ) & 63 )])) ));
									}
									else if (( i2 == ( max + 1 ) )) {
										#line 382 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										int b12 = ((int) (v7.b[i2++]) );
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( b12 >> 2 )])) ));
										#line 384 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.addChar(((int) (global::haxe.lang.Runtime.toInt(((object[]) (b64) )[( ( b12 << 4 ) & 63 )])) ));
									}
									
									#line 336 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
								
								default:
								{
									#line 388 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									if (this.useCache) {
										#line 388 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object __temp_expr1 = ((object) (global::haxe.lang.Runtime.callField(this.cache, "pop", 5594513, null)) );
									}
									
									#line 389 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									if (global::Reflect.hasField(v, "hxSerialize")) {
										#line 394 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.b.Append(((string) ("C") ));
										this.serializeString(global::Type.getClassName(c));
										#line 396 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										if (this.useCache) {
											#line 397 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											int __temp_expr3 = ((int) (global::haxe.lang.Runtime.toInt(global::haxe.lang.Runtime.callField(this.cache, "push", 1247875546, new object[]{v}))) );
										}
										
										#line 398 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object __temp_expr4 = ((object) (global::haxe.lang.Runtime.callField(v, "hxSerialize", 336134320, new object[]{this})) );
										this.buf.b.Append(((string) ("g") ));
									}
									else {
										#line 401 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.buf.b.Append(((string) ("c") ));
										this.serializeString(global::Type.getClassName(c));
										#line 403 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										if (this.useCache) {
											#line 404 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
											int __temp_expr2 = ((int) (global::haxe.lang.Runtime.toInt(global::haxe.lang.Runtime.callField(this.cache, "push", 1247875546, new object[]{v}))) );
										}
										
										#line 408 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										this.serializeFields(v);
									}
									
									#line 387 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									break;
								}
								
							}
							
						}
						
						#line 253 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 7:
					{
						#line 433 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						global::System.Type e = ( _g as global::ValueType_TEnum ).e;
						#line 433 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						{
							#line 434 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (this.useCache) {
								#line 435 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								if (this.serializeRef(v)) {
									#line 436 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									return;
								}
								
								#line 437 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								object __temp_expr5 = ((object) (global::haxe.lang.Runtime.callField(this.cache, "pop", 5594513, null)) );
							}
							
							#line 439 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) (global::Std.@string(( (this.useEnumIndex) ? ("j") : ("w") ))) ));
							this.serializeString(global::Type.getEnumName(e));
							#line 503 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (this.useEnumIndex) {
								#line 504 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								this.buf.b.Append(((string) (":") ));
								this.buf.b.Append(((string) (global::Std.@string(global::Type.enumIndex(v))) ));
							}
							else {
								#line 507 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								this.serializeString(global::Type.enumConstructor(v));
							}
							
							#line 508 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							this.buf.b.Append(((string) (":") ));
							global::Array arr = global::Type.enumParameters(v);
							#line 510 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (( arr != null )) {
								#line 511 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								this.buf.b.Append(((string) (global::Std.@string(((int) (global::haxe.lang.Runtime.getField_f(arr, "length", 520590566, true)) ))) ));
								{
									#line 512 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									int _g5 = 0;
									#line 512 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
									while (( _g5 < ((int) (global::haxe.lang.Runtime.getField_f(arr, "length", 520590566, true)) ) )) {
										#line 512 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										object v8 = arr[_g5];
										#line 512 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
										 ++ _g5;
										this.serialize(v8);
									}
									
								}
								
							}
							else {
								#line 515 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								this.buf.b.Append(((string) ("0") ));
							}
							
							#line 540 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
							if (this.useCache) {
								#line 541 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
								int __temp_expr6 = ((int) (global::haxe.lang.Runtime.toInt(global::haxe.lang.Runtime.callField(this.cache, "push", 1247875546, new object[]{v}))) );
							}
							
						}
						
						#line 433 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					default:
					{
						#line 552 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						throw ((global::System.Exception) (global::haxe.Exception.thrown(global::haxe.lang.Runtime.concat("Cannot serialize ", global::Std.@string(v)))) );
					}
					
				}
				
			}
			#line default
		}
		
		
		public virtual void serializeException(object e) {
			#line 560 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.buf.b.Append(((string) ("x") ));
			#line 572 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			this.serialize(e);
		}
		#line default
		
		public override double __hx_setField_f(string field, int hash, double @value, bool handleProperties) {
			unchecked {
				#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				switch (hash) {
					case 1164821372:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.scount = ((int) (@value) );
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					default:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return base.__hx_setField_f(field, hash, @value, handleProperties);
					}
					
				}
				
			}
			#line default
		}
		
		
		public override object __hx_setField(string field, int hash, object @value, bool handleProperties) {
			unchecked {
				#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				switch (hash) {
					case 603885322:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.useEnumIndex = global::haxe.lang.Runtime.toBool(@value);
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					case 142605435:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.useCache = global::haxe.lang.Runtime.toBool(@value);
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					case 1164821372:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.scount = ((int) (global::haxe.lang.Runtime.toInt(@value)) );
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					case 2082268609:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.shash = ((global::haxe.ds.StringMap<int>) (global::haxe.ds.StringMap<object>.__hx_cast<int>(((global::haxe.ds.StringMap) (@value) ))) );
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					case 1091869250:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.cache = ((global::Array) (@value) );
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					case 4899635:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.buf = ((global::StringBuf) (@value) );
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return @value;
					}
					
					
					default:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return base.__hx_setField(field, hash, @value, handleProperties);
					}
					
				}
				
			}
			#line default
		}
		
		
		public override object __hx_getField(string field, int hash, bool throwErrors, bool isCheck, bool handleProperties) {
			unchecked {
				#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				switch (hash) {
					case 384816719:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "serializeException", 384816719)) );
					}
					
					
					case 1962040800:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "serialize", 1962040800)) );
					}
					
					
					case 444663929:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "serializeFields", 444663929)) );
					}
					
					
					case 997465939:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "serializeRef", 997465939)) );
					}
					
					
					case 723690193:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "serializeString", 723690193)) );
					}
					
					
					case 946786476:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "toString", 946786476)) );
					}
					
					
					case 603885322:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.useEnumIndex;
					}
					
					
					case 142605435:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.useCache;
					}
					
					
					case 1164821372:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.scount;
					}
					
					
					case 2082268609:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.shash;
					}
					
					
					case 1091869250:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.cache;
					}
					
					
					case 4899635:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.buf;
					}
					
					
					default:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return base.__hx_getField(field, hash, throwErrors, isCheck, handleProperties);
					}
					
				}
				
			}
			#line default
		}
		
		
		public override double __hx_getField_f(string field, int hash, bool throwErrors, bool handleProperties) {
			unchecked {
				#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				switch (hash) {
					case 1164821372:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return ((double) (this.scount) );
					}
					
					
					default:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return base.__hx_getField_f(field, hash, throwErrors, handleProperties);
					}
					
				}
				
			}
			#line default
		}
		
		
		public override object __hx_invokeField(string field, int hash, object[] dynargs) {
			unchecked {
				#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				switch (hash) {
					case 384816719:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.serializeException(dynargs[0]);
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 1962040800:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.serialize(dynargs[0]);
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 444663929:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.serializeFields(dynargs[0]);
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 997465939:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.serializeRef(dynargs[0]);
					}
					
					
					case 723690193:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						this.serializeString(global::haxe.lang.Runtime.toString(dynargs[0]));
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						break;
					}
					
					
					case 946786476:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return this.toString();
					}
					
					
					default:
					{
						#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
						return base.__hx_invokeField(field, hash, dynargs);
					}
					
				}
				
				#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
				return null;
			}
			#line default
		}
		
		
		public override void __hx_getFields(global::Array<string> baseArr) {
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			baseArr.push("useEnumIndex");
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			baseArr.push("useCache");
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			baseArr.push("scount");
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			baseArr.push("shash");
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			baseArr.push("cache");
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			baseArr.push("buf");
			#line 45 "C:\\HaxeToolkit\\haxe\\std\\haxe\\Serializer.hx"
			base.__hx_getFields(baseArr);
		}
		#line default
		
		public override string ToString(){
			return this.toString();
		}

		public string EncodeString(string str)
		{
			//maxLengthAllowed .NET < 4.5 = 32765;
			//maxLengthAllowed .NET >= 4.5 = 65519;
			int maxLengthAllowed = 65519;
			StringBuilder sb = new StringBuilder();
			int loops = str.Length / maxLengthAllowed;

			for (int i = 0; i <= loops; i++)
			{
				sb.Append(Uri.EscapeDataString(i < loops
					? str.Substring(maxLengthAllowed * i, maxLengthAllowed)
					: str.Substring(maxLengthAllowed * i)));
			}

			return sb.ToString();
		}

	}
}


