<?php
/**
 * Generated by Haxe 4.2.2
 */

namespace nMorph\framework\orm\common\conditions;

use \nMorph\framework\orm\lang\SQL;
use \nMorph\framework\orm\interfaces\ICondition;
use \php\Boot;
use \nMorph\framework\orm\interfaces\ILang;
use \nMorph\framework\orm\common\enums\LogicOperatorEnum;

class ConditionGroup implements ICondition {
	/**
	 * @var string
	 */
	static public $__rtti = "<class path=\"nMorph.framework.orm.common.conditions.ConditionGroup\" params=\"\">\x0A\x09<implements path=\"nMorph.framework.orm.interfaces.ICondition\"/>\x0A\x09<SET public=\"1\" set=\"method\" line=\"25\" static=\"1\"><f a=\"cond\">\x0A\x09<c path=\"nMorph.framework.orm.interfaces.ICondition\"/>\x0A\x09<c path=\"nMorph.framework.orm.common.conditions.ConditionGroup\"/>\x0A</f></SET>\x0A\x09<LogicOperator><e path=\"nMorph.framework.orm.common.enums.LogicOperatorEnum\"/></LogicOperator>\x0A\x09<InnerCondition><c path=\"nMorph.framework.orm.interfaces.ICondition\"/></InnerCondition>\x0A\x09<ConditionGroups expr=\"new Array&lt;ConditionGroup&gt;()\" line=\"15\">\x0A\x09\x09<c path=\"Array\"><c path=\"nMorph.framework.orm.common.conditions.ConditionGroup\"/></c>\x0A\x09\x09<meta><m n=\":value\"><e><![CDATA[new Array<ConditionGroup>()]]></e></m></meta>\x0A\x09</ConditionGroups>\x0A\x09<CurrentSQL><c path=\"nMorph.framework.orm.lang.SQL\"/></CurrentSQL>\x0A\x09<AddConditionGroup public=\"1\" set=\"method\" line=\"31\"><f a=\"cg\">\x0A\x09<c path=\"nMorph.framework.orm.common.conditions.ConditionGroup\"/>\x0A\x09<x path=\"Void\"/>\x0A</f></AddConditionGroup>\x0A\x09<get_LogicOperator public=\"1\" set=\"method\" line=\"35\"><f a=\"\"><e path=\"nMorph.framework.orm.common.enums.LogicOperatorEnum\"/></f></get_LogicOperator>\x0A\x09<get_InnerCondition public=\"1\" set=\"method\" line=\"39\"><f a=\"\"><c path=\"nMorph.framework.orm.interfaces.ICondition\"/></f></get_InnerCondition>\x0A\x09<AND public=\"1\" set=\"method\" line=\"43\"><f a=\"cond\">\x0A\x09<c path=\"nMorph.framework.orm.interfaces.ICondition\"/>\x0A\x09<c path=\"nMorph.framework.orm.common.conditions.ConditionGroup\"/>\x0A</f></AND>\x0A\x09<OR public=\"1\" set=\"method\" line=\"50\"><f a=\"cond\">\x0A\x09<c path=\"nMorph.framework.orm.interfaces.ICondition\"/>\x0A\x09<c path=\"nMorph.framework.orm.common.conditions.ConditionGroup\"/>\x0A</f></OR>\x0A\x09<RegisterQuery public=\"1\" set=\"method\" line=\"57\"><f a=\"CurrentSQL\">\x0A\x09<c path=\"nMorph.framework.orm.interfaces.ILang\"/>\x0A\x09<x path=\"Void\"/>\x0A</f></RegisterQuery>\x0A\x09<SCRIPT_PART public=\"1\" set=\"method\" line=\"67\"><f a=\"?args\">\x0A\x09<c path=\"String\"/>\x0A\x09<x path=\"Void\"/>\x0A</f></SCRIPT_PART>\x0A\x09<new public=\"1\" set=\"method\" line=\"20\"><f a=\"InnerCondition:LogicOperator\">\x0A\x09<c path=\"nMorph.framework.orm.interfaces.ICondition\"/>\x0A\x09<e path=\"nMorph.framework.orm.common.enums.LogicOperatorEnum\"/>\x0A\x09<x path=\"Void\"/>\x0A</f></new>\x0A\x09<meta>\x0A\x09\x09<m n=\":directlyUsed\"/>\x0A\x09\x09<m n=\":keepSub\"/>\x0A\x09\x09<m n=\":rtti\"/>\x0A\x09</meta>\x0A</class>";

	/**
	 * @var ConditionGroup[]|\Array_hx
	 */
	public $ConditionGroups;
	/**
	 * @var SQL
	 */
	public $CurrentSQL;
	/**
	 * @var ICondition
	 */
	public $InnerCondition;
	/**
	 * @var LogicOperatorEnum
	 */
	public $LogicOperator;

	/**
	 * @param ICondition $cond
	 * 
	 * @return ConditionGroup
	 */
	public static function SET ($cond) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:26: characters 9-83
		$cg = new ConditionGroup($cond, LogicOperatorEnum::START());
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:27: characters 9-33
		$cg->AddConditionGroup($cg);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:28: characters 9-18
		return $cg;
	}

	/**
	 * @param ICondition $InnerCondition
	 * @param LogicOperatorEnum $LogicOperator
	 * 
	 * @return void
	 */
	public function __construct ($InnerCondition, $LogicOperator) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:15: characters 57-84
		$this->ConditionGroups = new \Array_hx();
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:21: characters 9-45
		$this->InnerCondition = $InnerCondition;
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:22: characters 9-43
		$this->LogicOperator = $LogicOperator;
	}

	/**
	 * @param ICondition $cond
	 * 
	 * @return ConditionGroup
	 */
	public function AND ($cond) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:44: characters 9-81
		$cg = new ConditionGroup($cond, LogicOperatorEnum::AND());
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:45: characters 9-39
		$cond->RegisterQuery($this->CurrentSQL);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:46: characters 9-35
		$this->AddConditionGroup($cg);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:47: characters 9-20
		return $this;
	}

	/**
	 * @param ConditionGroup $cg
	 * 
	 * @return void
	 */
	public function AddConditionGroup ($cg) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:32: characters 9-33
		$_this = $this->ConditionGroups;
		$_this->arr[$_this->length++] = $cg;
	}

	/**
	 * @param ICondition $cond
	 * 
	 * @return ConditionGroup
	 */
	public function OR ($cond) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:51: characters 9-80
		$cg = new ConditionGroup($cond, LogicOperatorEnum::OR());
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:52: characters 9-39
		$cond->RegisterQuery($this->CurrentSQL);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:53: characters 9-35
		$this->AddConditionGroup($cg);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:54: characters 9-20
		return $this;
	}

	/**
	 * @param ILang $CurrentSQL
	 * 
	 * @return void
	 */
	public function RegisterQuery ($CurrentSQL) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:58: characters 9-48
		$this->CurrentSQL = Boot::typedCast(Boot::getClass(SQL::class), $CurrentSQL);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:59: characters 9-49
		$this->InnerCondition->RegisterQuery($CurrentSQL);
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:60: lines 60-63
		$_g = 0;
		$_g1 = $this->ConditionGroups;
		while ($_g < $_g1->length) {
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:60: characters 14-16
			$cg = ($_g1->arr[$_g] ?? null);
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:60: lines 60-63
			++$_g;
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:61: lines 61-62
			if ($cg !== $this) {
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:62: characters 17-45
				$cg->RegisterQuery($CurrentSQL);
			}
		}
	}

	/**
	 * @param string $args
	 * 
	 * @return void
	 */
	public function SCRIPT_PART ($args = null) {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:69: characters 16-45
		$__hx__switch = ($this->CurrentSQL->getCurrentEngine()->index);
		if ($__hx__switch === 0) {
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:132: lines 132-145
			$_g = 0;
			$_g1 = $this->ConditionGroups;
			while ($_g < $_g1->length) {
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:132: characters 22-24
				$cg = ($_g1->arr[$_g] ?? null);
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:132: lines 132-145
				++$_g;
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:133: characters 28-50
				$__hx__switch = ($cg->get_LogicOperator()->index);
				if ($__hx__switch === 0) {
				} else if ($__hx__switch === 1) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:137: characters 29-57
					$this->CurrentSQL->AddBlock(" AND ");
				} else if ($__hx__switch === 2) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:139: characters 29-56
					$this->CurrentSQL->AddBlock(" OR ");
				}
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:142: characters 21-45
				$this->CurrentSQL->AddBlock("(");
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:143: characters 21-58
				$cg->get_InnerCondition()->SCRIPT_PART();
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:144: characters 21-46
				$this->CurrentSQL->AddBlock(") ");
			}
		} else if ($__hx__switch === 1) {
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:102: lines 102-115
			$_g = 0;
			$_g1 = $this->ConditionGroups;
			while ($_g < $_g1->length) {
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:102: characters 22-24
				$cg = ($_g1->arr[$_g] ?? null);
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:102: lines 102-115
				++$_g;
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:103: characters 28-50
				$__hx__switch = ($cg->get_LogicOperator()->index);
				if ($__hx__switch === 0) {
				} else if ($__hx__switch === 1) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:107: characters 29-57
					$this->CurrentSQL->AddBlock(" AND ");
				} else if ($__hx__switch === 2) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:109: characters 29-56
					$this->CurrentSQL->AddBlock(" OR ");
				}
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:112: characters 21-45
				$this->CurrentSQL->AddBlock("(");
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:113: characters 21-58
				$cg->get_InnerCondition()->SCRIPT_PART();
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:114: characters 21-46
				$this->CurrentSQL->AddBlock(") ");
			}
		} else if ($__hx__switch === 2) {
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:87: lines 87-100
			$_g = 0;
			$_g1 = $this->ConditionGroups;
			while ($_g < $_g1->length) {
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:87: characters 22-24
				$cg = ($_g1->arr[$_g] ?? null);
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:87: lines 87-100
				++$_g;
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:88: characters 28-50
				$__hx__switch = ($cg->get_LogicOperator()->index);
				if ($__hx__switch === 0) {
				} else if ($__hx__switch === 1) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:92: characters 29-57
					$this->CurrentSQL->AddBlock(" AND ");
				} else if ($__hx__switch === 2) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:94: characters 29-56
					$this->CurrentSQL->AddBlock(" OR ");
				}
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:97: characters 21-45
				$this->CurrentSQL->AddBlock("(");
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:98: characters 21-58
				$cg->get_InnerCondition()->SCRIPT_PART();
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:99: characters 21-46
				$this->CurrentSQL->AddBlock(") ");
			}
		} else if ($__hx__switch === 3) {
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:117: lines 117-130
			$_g = 0;
			$_g1 = $this->ConditionGroups;
			while ($_g < $_g1->length) {
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:117: characters 22-24
				$cg = ($_g1->arr[$_g] ?? null);
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:117: lines 117-130
				++$_g;
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:118: characters 28-50
				$__hx__switch = ($cg->get_LogicOperator()->index);
				if ($__hx__switch === 0) {
				} else if ($__hx__switch === 1) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:122: characters 29-57
					$this->CurrentSQL->AddBlock(" AND ");
				} else if ($__hx__switch === 2) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:124: characters 29-56
					$this->CurrentSQL->AddBlock(" OR ");
				}
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:127: characters 21-45
				$this->CurrentSQL->AddBlock("(");
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:128: characters 21-58
				$cg->get_InnerCondition()->SCRIPT_PART();
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:129: characters 21-46
				$this->CurrentSQL->AddBlock(") ");
			}
		} else if ($__hx__switch === 4) {
			#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:72: lines 72-85
			$_g = 0;
			$_g1 = $this->ConditionGroups;
			while ($_g < $_g1->length) {
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:72: characters 22-24
				$cg = ($_g1->arr[$_g] ?? null);
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:72: lines 72-85
				++$_g;
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:73: characters 28-50
				$__hx__switch = ($cg->get_LogicOperator()->index);
				if ($__hx__switch === 0) {
				} else if ($__hx__switch === 1) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:77: characters 29-57
					$this->CurrentSQL->AddBlock(" AND ");
				} else if ($__hx__switch === 2) {
					#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:79: characters 29-56
					$this->CurrentSQL->AddBlock(" OR ");
				}
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:82: characters 21-45
				$this->CurrentSQL->AddBlock("(");
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:83: characters 21-58
				$cg->get_InnerCondition()->SCRIPT_PART();
				#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:84: characters 21-46
				$this->CurrentSQL->AddBlock(") ");
			}
		}
	}

	/**
	 * @return ICondition
	 */
	public function get_InnerCondition () {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:40: characters 9-30
		return $this->InnerCondition;
	}

	/**
	 * @return LogicOperatorEnum
	 */
	public function get_LogicOperator () {
		#5_framework\orm\src/nMorph/framework/orm/common/conditions/ConditionGroup.hx:36: characters 9-29
		return $this->LogicOperator;
	}
}

Boot::registerClass(ConditionGroup::class, 'nMorph.framework.orm.common.conditions.ConditionGroup');
